diff --git a/lib/commonjs/components/CellDecorators.js b/lib/commonjs/components/CellDecorators.js
index e616af35895577d6d116d1c7b37733ed2b66fa80..0f43779b0b1291453fe345f387a93eb0e3e71395 100644
--- a/lib/commonjs/components/CellDecorators.js
+++ b/lib/commonjs/components/CellDecorators.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useOnCellActiveAnimation",{enumerable:true,get:function get(){return _useOnCellActiveAnimation.useOnCellActiveAnimation;}});exports.OpacityDecorator=exports.ShadowDecorator=exports.ScaleDecorator=void 0;var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _draggableFlatListContext=require("../context/draggableFlatListContext");var _useOnCellActiveAnimation=require("../hooks/useOnCellActiveAnimation");var _this=this,_jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellDecorators.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var ScaleDecorator=function ScaleDecorator(_ref){var _ref$activeScale=_ref.activeScale,activeScale=_ref$activeScale===void 0?1.1:_ref$activeScale,children=_ref.children;var _useOnCellActiveAnima=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)({animationConfig:{mass:0.1,restDisplacementThreshold:0.0001}}),isActive=_useOnCellActiveAnima.isActive,onActiveAnim=_useOnCellActiveAnima.onActiveAnim;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var animScale=(0,_reactNativeReanimated.interpolate)(onActiveAnim.value,[0,1],[1,activeScale]);var scale=isActive?animScale:1;return{transform:[{scaleX:scale},{scaleY:scale}]};};_f._closure={interpolate:_reactNativeReanimated.interpolate,onActiveAnim:onActiveAnim,activeScale:activeScale,isActive:isActive};_f.asString="function _f(){const{interpolate,onActiveAnim,activeScale,isActive}=jsThis._closure;{const animScale=interpolate(onActiveAnim.value,[0,1],[1,activeScale]);const scale=isActive?animScale:1;return{transform:[{scaleX:scale},{scaleY:scale}]};}}";_f.__workletHash=17199828062713;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellDecorators.tsx (22:33)";_f.__optimalization=3;return _f;}(),[isActive]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:31,columnNumber:5}},children);};exports.ScaleDecorator=ScaleDecorator;var ShadowDecorator=function ShadowDecorator(_ref2){var _ref2$elevation=_ref2.elevation,elevation=_ref2$elevation===void 0?10:_ref2$elevation,_ref2$color=_ref2.color,color=_ref2$color===void 0?"black":_ref2$color,_ref2$opacity=_ref2.opacity,opacity=_ref2$opacity===void 0?0.25:_ref2$opacity,_ref2$radius=_ref2.radius,radius=_ref2$radius===void 0?5:_ref2$radius,children=_ref2.children;var _useOnCellActiveAnima2=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)(),isActive=_useOnCellActiveAnima2.isActive,onActiveAnim=_useOnCellActiveAnima2.onActiveAnim;var _useDraggableFlatList2=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList2.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var shadowOpacity=onActiveAnim.value*opacity;return{elevation:isActive?elevation:0,shadowRadius:isActive?radius:0,shadowColor:isActive?color:"transparent",shadowOpacity:isActive?shadowOpacity:0};};_f._closure={onActiveAnim:onActiveAnim,opacity:opacity,isActive:isActive,elevation:elevation,radius:radius,color:color};_f.asString="function _f(){const{onActiveAnim,opacity,isActive,elevation,radius,color}=jsThis._closure;{const shadowOpacity=onActiveAnim.value*opacity;return{elevation:isActive?elevation:0,shadowRadius:isActive?radius:0,shadowColor:isActive?color:\"transparent\",shadowOpacity:isActive?shadowOpacity:0};}}";_f.__workletHash=4043081223969;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellDecorators.tsx (55:33)";_f.__optimalization=3;return _f;}(),[isActive,onActiveAnim]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:66,columnNumber:5}},children);};exports.ShadowDecorator=ShadowDecorator;var OpacityDecorator=function OpacityDecorator(_ref3){var _ref3$activeOpacity=_ref3.activeOpacity,activeOpacity=_ref3$activeOpacity===void 0?0.25:_ref3$activeOpacity,children=_ref3.children;var _useOnCellActiveAnima3=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)(),isActive=_useOnCellActiveAnima3.isActive,onActiveAnim=_useOnCellActiveAnima3.onActiveAnim;var _useDraggableFlatList3=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList3.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var opacity=(0,_reactNativeReanimated.interpolate)(onActiveAnim.value,[0,1],[1,activeOpacity]);return{opacity:isActive?opacity:1};};_f._closure={interpolate:_reactNativeReanimated.interpolate,onActiveAnim:onActiveAnim,activeOpacity:activeOpacity,isActive:isActive};_f.asString="function _f(){const{interpolate,onActiveAnim,activeOpacity,isActive}=jsThis._closure;{const opacity=interpolate(onActiveAnim.value,[0,1],[1,activeOpacity]);return{opacity:isActive?opacity:1};}}";_f.__workletHash=11305163295580;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellDecorators.tsx (83:33)";_f.__optimalization=3;return _f;}(),[isActive]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:91,columnNumber:5}},children);};exports.OpacityDecorator=OpacityDecorator;var styles=_reactNative.StyleSheet.create({horizontal:{flexDirection:"row",flex:1}});
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.ShadowDecorator=exports.ScaleDecorator=exports.OpacityDecorator=void 0;Object.defineProperty(exports,"useOnCellActiveAnimation",{enumerable:true,get:function get(){return _useOnCellActiveAnimation.useOnCellActiveAnimation;}});var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _draggableFlatListContext=require("../context/draggableFlatListContext");var _useOnCellActiveAnimation=require("../hooks/useOnCellActiveAnimation");var _this=this,_jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\CellDecorators.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var ScaleDecorator=exports.ScaleDecorator=function ScaleDecorator(_ref){var _ref$activeScale=_ref.activeScale,activeScale=_ref$activeScale===void 0?1.1:_ref$activeScale,children=_ref.children;var _useOnCellActiveAnima=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)({animationConfig:{mass:0.1,restDisplacementThreshold:0.0001}}),isActive=_useOnCellActiveAnima.isActive,onActiveAnim=_useOnCellActiveAnima.onActiveAnim;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var animScale=(0,_reactNativeReanimated.interpolate)(onActiveAnim.value,[0,1],[1,activeScale]);var scale=isActive?animScale:1;return{transform:[{scaleX:scale},{scaleY:scale}]};};_f._closure={interpolate:_reactNativeReanimated.interpolate,onActiveAnim:onActiveAnim,activeScale:activeScale,isActive:isActive};_f.asString="function _f(){const{interpolate,onActiveAnim,activeScale,isActive}=jsThis._closure;{const animScale=interpolate(onActiveAnim.value,[0,1],[1,activeScale]);const scale=isActive?animScale:1;return{transform:[{scaleX:scale},{scaleY:scale}]};}}";_f.__workletHash=17199828062713;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\CellDecorators.tsx (22:33)";_f.__optimalization=3;return _f;}(),[isActive]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:31,columnNumber:5}},children);};var ShadowDecorator=exports.ShadowDecorator=function ShadowDecorator(_ref2){var _ref2$elevation=_ref2.elevation,elevation=_ref2$elevation===void 0?10:_ref2$elevation,_ref2$color=_ref2.color,color=_ref2$color===void 0?"black":_ref2$color,_ref2$opacity=_ref2.opacity,opacity=_ref2$opacity===void 0?0.25:_ref2$opacity,_ref2$radius=_ref2.radius,radius=_ref2$radius===void 0?5:_ref2$radius,children=_ref2.children;var _useOnCellActiveAnima2=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)(),isActive=_useOnCellActiveAnima2.isActive,onActiveAnim=_useOnCellActiveAnima2.onActiveAnim;var _useDraggableFlatList2=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList2.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var shadowOpacity=onActiveAnim.value*opacity;return{elevation:isActive?elevation:0,shadowRadius:isActive?radius:0,shadowColor:isActive?color:"transparent",shadowOpacity:isActive?shadowOpacity:0};};_f._closure={onActiveAnim:onActiveAnim,opacity:opacity,isActive:isActive,elevation:elevation,radius:radius,color:color};_f.asString="function _f(){const{onActiveAnim,opacity,isActive,elevation,radius,color}=jsThis._closure;{const shadowOpacity=onActiveAnim.value*opacity;return{elevation:isActive?elevation:0,shadowRadius:isActive?radius:0,shadowColor:isActive?color:\"transparent\",shadowOpacity:isActive?shadowOpacity:0};}}";_f.__workletHash=4043081223969;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\CellDecorators.tsx (55:33)";_f.__optimalization=3;return _f;}(),[isActive,onActiveAnim]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:66,columnNumber:5}},children);};var OpacityDecorator=exports.OpacityDecorator=function OpacityDecorator(_ref3){var _ref3$activeOpacity=_ref3.activeOpacity,activeOpacity=_ref3$activeOpacity===void 0?0.25:_ref3$activeOpacity,children=_ref3.children;var _useOnCellActiveAnima3=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)(),isActive=_useOnCellActiveAnima3.isActive,onActiveAnim=_useOnCellActiveAnima3.onActiveAnim;var _useDraggableFlatList3=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList3.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var opacity=(0,_reactNativeReanimated.interpolate)(onActiveAnim.value,[0,1],[1,activeOpacity]);return{opacity:isActive?opacity:1};};_f._closure={interpolate:_reactNativeReanimated.interpolate,onActiveAnim:onActiveAnim,activeOpacity:activeOpacity,isActive:isActive};_f.asString="function _f(){const{interpolate,onActiveAnim,activeOpacity,isActive}=jsThis._closure;{const opacity=interpolate(onActiveAnim.value,[0,1],[1,activeOpacity]);return{opacity:isActive?opacity:1};}}";_f.__workletHash=11305163295580;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\CellDecorators.tsx (83:33)";_f.__optimalization=3;return _f;}(),[isActive]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:91,columnNumber:5}},children);};var styles=_reactNative.StyleSheet.create({horizontal:{flexDirection:"row",flex:1}});
 //# sourceMappingURL=CellDecorators.js.map
\ No newline at end of file
diff --git a/lib/commonjs/components/CellDecorators.js.map b/lib/commonjs/components/CellDecorators.js.map
index f48d2f1e40bb120deebd5d52a9912402cf485c4d..b49ab2e0d4f074b5903f32adf3e79d82b4665458 100644
--- a/lib/commonjs/components/CellDecorators.js.map
+++ b/lib/commonjs/components/CellDecorators.js.map
@@ -1 +1 @@
-{"version":3,"names":["ScaleDecorator","activeScale","children","useOnCellActiveAnimation","animationConfig","mass","restDisplacementThreshold","isActive","onActiveAnim","useDraggableFlatListContext","horizontal","style","useAnimatedStyle","animScale","interpolate","value","scale","transform","scaleX","scaleY","styles","ShadowDecorator","elevation","color","opacity","radius","shadowOpacity","shadowRadius","shadowColor","OpacityDecorator","activeOpacity","StyleSheet","create","flexDirection","flex"],"sources":["CellDecorators.tsx"],"sourcesContent":["import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  interpolate,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nexport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\nimport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\n\ntype ScaleProps = {\n  activeScale?: number;\n  children: React.ReactNode;\n};\n\nexport const ScaleDecorator = ({ activeScale = 1.1, children }: ScaleProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation({\n    animationConfig: { mass: 0.1, restDisplacementThreshold: 0.0001 },\n  });\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const animScale = interpolate(onActiveAnim.value, [0, 1], [1, activeScale]);\n    const scale = isActive ? animScale : 1;\n    return {\n      transform: [{ scaleX: scale }, { scaleY: scale }],\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype ShadowProps = {\n  children: React.ReactNode;\n  elevation?: number;\n  radius?: number;\n  color?: string;\n  opacity?: number;\n};\n\nexport const ShadowDecorator = ({\n  elevation = 10,\n  color = \"black\",\n  opacity = 0.25,\n  radius = 5,\n  children,\n}: ShadowProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const shadowOpacity = onActiveAnim.value * opacity;\n    return {\n      elevation: isActive ? elevation : 0,\n      shadowRadius: isActive ? radius : 0,\n      shadowColor: isActive ? color : \"transparent\",\n      shadowOpacity: isActive ? shadowOpacity : 0,\n    };\n  }, [isActive, onActiveAnim]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype OpacityProps = {\n  activeOpacity?: number;\n  children: React.ReactNode;\n};\n\nexport const OpacityDecorator = ({\n  activeOpacity = 0.25,\n  children,\n}: OpacityProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n  const style = useAnimatedStyle(() => {\n    const opacity = interpolate(onActiveAnim.value, [0, 1], [1, activeOpacity]);\n    return {\n      opacity: isActive ? opacity : 1,\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  horizontal: {\n    flexDirection: \"row\",\n    flex: 1,\n  },\n});\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactNativeReanimated","_interopRequireWildcard","_draggableFlatListContext","_useOnCellActiveAnimation","_this","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ScaleDecorator","exports","_ref","_ref$activeScale","activeScale","children","_useOnCellActiveAnima","useOnCellActiveAnimation","animationConfig","mass","restDisplacementThreshold","isActive","onActiveAnim","_useDraggableFlatList","useDraggableFlatListContext","horizontal","style","useAnimatedStyle","_f","animScale","interpolate","value","scale","transform","scaleX","scaleY","_closure","asString","__workletHash","__location","__optimalization","createElement","View","styles","__self","__source","fileName","lineNumber","columnNumber","ShadowDecorator","_ref2","_ref2$elevation","elevation","_ref2$color","color","_ref2$opacity","opacity","_ref2$radius","radius","_useOnCellActiveAnima2","_useDraggableFlatList2","shadowOpacity","shadowRadius","shadowColor","OpacityDecorator","_ref3","_ref3$activeOpacity","activeOpacity","_useOnCellActiveAnima3","_useDraggableFlatList3","StyleSheet","create","flexDirection","flex"],"sources":["CellDecorators.tsx"],"sourcesContent":["import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  interpolate,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nexport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\nimport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\n\ntype ScaleProps = {\n  activeScale?: number;\n  children: React.ReactNode;\n};\n\nexport const ScaleDecorator = ({ activeScale = 1.1, children }: ScaleProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation({\n    animationConfig: { mass: 0.1, restDisplacementThreshold: 0.0001 },\n  });\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const animScale = interpolate(onActiveAnim.value, [0, 1], [1, activeScale]);\n    const scale = isActive ? animScale : 1;\n    return {\n      transform: [{ scaleX: scale }, { scaleY: scale }],\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype ShadowProps = {\n  children: React.ReactNode;\n  elevation?: number;\n  radius?: number;\n  color?: string;\n  opacity?: number;\n};\n\nexport const ShadowDecorator = ({\n  elevation = 10,\n  color = \"black\",\n  opacity = 0.25,\n  radius = 5,\n  children,\n}: ShadowProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const shadowOpacity = onActiveAnim.value * opacity;\n    return {\n      elevation: isActive ? elevation : 0,\n      shadowRadius: isActive ? radius : 0,\n      shadowColor: isActive ? color : \"transparent\",\n      shadowOpacity: isActive ? shadowOpacity : 0,\n    };\n  }, [isActive, onActiveAnim]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype OpacityProps = {\n  activeOpacity?: number;\n  children: React.ReactNode;\n};\n\nexport const OpacityDecorator = ({\n  activeOpacity = 0.25,\n  children,\n}: OpacityProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n  const style = useAnimatedStyle(() => {\n    const opacity = interpolate(onActiveAnim.value, [0, 1], [1, activeOpacity]);\n    return {\n      opacity: isActive ? opacity : 1,\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  horizontal: {\n    flexDirection: \"row\",\n    flex: 1,\n  },\n});\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/components/CellRendererComponent.js b/lib/commonjs/components/CellRendererComponent.js
index 410f58fefe79d0af6760d9ad64955224dbb74daa..5f2cdda2eb19047f79d7e50a8c4aa3a160f69c7f 100644
--- a/lib/commonjs/components/CellRendererComponent.js
+++ b/lib/commonjs/components/CellRendererComponent.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _draggableFlatListContext=require("../context/draggableFlatListContext");var _constants=require("../constants");var _useCellTranslate=require("../hooks/useCellTranslate");var _utils=require("../utils");var _refContext=require("../context/refContext");var _animatedValueContext=require("../context/animatedValueContext");var _cellContext=_interopRequireDefault(require("../context/cellContext"));var _useStableCallback=require("../hooks/useStableCallback");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function CellRendererComponent(props){var item=props.item,index=props.index,onLayout=props.onLayout,children=props.children,rest=(0,_objectWithoutProperties2.default)(props,["item","index","onLayout","children"]);var viewRef=(0,_react.useRef)(null);var _useRefs=(0,_refContext.useRefs)(),cellDataRef=_useRefs.cellDataRef,propsRef=_useRefs.propsRef,containerRef=_useRefs.containerRef;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),horizontalAnim=_useAnimatedValues.horizontalAnim,scrollOffset=_useAnimatedValues.scrollOffset;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),activeKey=_useDraggableFlatList.activeKey,keyExtractor=_useDraggableFlatList.keyExtractor,horizontal=_useDraggableFlatList.horizontal,layoutAnimationDisabled=_useDraggableFlatList.layoutAnimationDisabled;var key=keyExtractor(item,index);var offset=(0,_reactNativeReanimated.useSharedValue)(-1);var size=(0,_reactNativeReanimated.useSharedValue)(-1);var heldTanslate=(0,_reactNativeReanimated.useSharedValue)(0);var translate=(0,_useCellTranslate.useCellTranslate)({cellOffset:offset,cellSize:size,cellIndex:index});var isActive=activeKey===key;var animStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){if(translate.value&&!_constants.isWeb){heldTanslate.value=translate.value;}var t=activeKey?translate.value:heldTanslate.value;return{transform:[horizontalAnim.value?{translateX:t}:{translateY:t}]};};_f._closure={translate:translate,isWeb:_constants.isWeb,heldTanslate:heldTanslate,activeKey:activeKey,horizontalAnim:horizontalAnim};_f.asString="function _f(){const{translate,isWeb,heldTanslate,activeKey,horizontalAnim}=jsThis._closure;{if(translate.value&&!isWeb){heldTanslate.value=translate.value;}const t=activeKey?translate.value:heldTanslate.value;return{transform:[horizontalAnim.value?{translateX:t}:{translateY:t}]};}}";_f.__workletHash=2668800953096;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (59:37)";_f.__optimalization=1;return _f;}(),[translate,activeKey]);var updateCellMeasurements=(0,_useStableCallback.useStableCallback)(function(){var onSuccess=function onSuccess(x,y,w,h){if(_constants.isWeb&&horizontal)x+=scrollOffset.value;var cellOffset=horizontal?x:y;var cellSize=horizontal?w:h;cellDataRef.current.set(key,{measurements:{size:cellSize,offset:cellOffset}});size.value=cellSize;offset.value=cellOffset;};var onFail=function onFail(){var _propsRef$current;if((_propsRef$current=propsRef.current)!=null&&_propsRef$current.debug){console.log("## on measure fail, index: "+index);}};var containerNode=containerRef.current;var viewNode=viewRef.current;var nodeHandle=containerNode;if(viewNode&&nodeHandle){viewNode.measureLayout(nodeHandle,onSuccess,onFail);}});var onCellLayout=(0,_useStableCallback.useStableCallback)(function(e){heldTanslate.value=0;updateCellMeasurements();if(onLayout&&e)onLayout(e);});(0,_react.useEffect)(function(){if(_constants.isWeb){requestAnimationFrame(function(){onCellLayout();});}},[index,onCellLayout]);var baseStyle=(0,_react.useMemo)(function(){return{elevation:isActive?1:0,zIndex:isActive?999:0,flexDirection:horizontal?"row":"column"};},[isActive,horizontal]);var _propsRef$current2=propsRef.current,itemEnteringAnimation=_propsRef$current2.itemEnteringAnimation,itemExitingAnimation=_propsRef$current2.itemExitingAnimation,itemLayoutAnimation=_propsRef$current2.itemLayoutAnimation;(0,_react.useEffect)(function(){if(!propsRef.current.enableLayoutAnimationExperimental)return;var tag=(0,_reactNative.findNodeHandle)(viewRef.current);(0,_reactNativeReanimated.runOnUI)(function(){var _f=function _f(t,_layoutDisabled){if(!t)return;var config=global.LayoutAnimationRepository.configs[t];if(config)stashConfig(t,config);var stashedConfig=getStashedConfig(t);if(_layoutDisabled){global.LayoutAnimationRepository.removeConfig(t);}else if(stashedConfig){global.LayoutAnimationRepository.registerConfig(t,stashedConfig);}};_f._closure={stashConfig:stashConfig,getStashedConfig:getStashedConfig};_f.asString="function _f(t,_layoutDisabled){const{stashConfig,getStashedConfig}=jsThis._closure;{if(!t)return;const config=global.LayoutAnimationRepository.configs[t];if(config)stashConfig(t,config);const stashedConfig=getStashedConfig(t);if(_layoutDisabled){global.LayoutAnimationRepository.removeConfig(t);}else if(stashedConfig){global.LayoutAnimationRepository.registerConfig(t,stashedConfig);}}}";_f.__workletHash=14167513442446;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (140:12)";return _f;}())(tag,layoutAnimationDisabled);},[layoutAnimationDisabled]);return _react.default.createElement(_reactNativeReanimated.default.View,(0,_extends2.default)({},rest,{ref:viewRef,onLayout:onCellLayout,entering:itemEnteringAnimation,exiting:itemExitingAnimation,layout:propsRef.current.enableLayoutAnimationExperimental?itemLayoutAnimation:undefined,style:[props.style,baseStyle,activeKey?animStyle:styles.zeroTranslate],pointerEvents:activeKey?"none":"auto",__self:this,__source:{fileName:_jsxFileName,lineNumber:155,columnNumber:5}}),_react.default.createElement(_cellContext.default,{isActive:isActive,__self:this,__source:{fileName:_jsxFileName,lineNumber:173,columnNumber:7}},children));}var _default=(0,_utils.typedMemo)(CellRendererComponent);exports.default=_default;var styles=_reactNative.StyleSheet.create({zeroTranslate:{transform:[{translateX:0},{translateY:0}]}});(0,_reactNativeReanimated.runOnUI)(function(){var _f=function _f(){global.RNDFLLayoutAnimationConfigStash={};};_f._closure={};_f.asString="function _f(){global.RNDFLLayoutAnimationConfigStash={};}";_f.__workletHash=11308490141335;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (194:8)";return _f;}())();var stashConfig=function(){var _f=function _f(tag,config){if(!global.RNDFLLayoutAnimationConfigStash)global.RNDFLLayoutAnimationConfigStash={};global.RNDFLLayoutAnimationConfigStash[tag]=config;};_f._closure={};_f.asString="function stashConfig(tag,config){if(!global.RNDFLLayoutAnimationConfigStash)global.RNDFLLayoutAnimationConfigStash={};global.RNDFLLayoutAnimationConfigStash[tag]=config;}";_f.__workletHash=481659566906;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (199:0)";return _f;}();var getStashedConfig=function(){var _f=function _f(tag){if(!global.RNDFLLayoutAnimationConfigStash)return null;return global.RNDFLLayoutAnimationConfigStash[tag];};_f._closure={};_f.asString="function getStashedConfig(tag){if(!global.RNDFLLayoutAnimationConfigStash)return null;return global.RNDFLLayoutAnimationConfigStash[tag];}";_f.__workletHash=4781167627856;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (206:0)";return _f;}();
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _draggableFlatListContext=require("../context/draggableFlatListContext");var _constants=require("../constants");var _useCellTranslate=require("../hooks/useCellTranslate");var _utils=require("../utils");var _refContext=require("../context/refContext");var _animatedValueContext=require("../context/animatedValueContext");var _cellContext=_interopRequireDefault(require("../context/cellContext"));var _useStableCallback=require("../hooks/useStableCallback");var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\CellRendererComponent.tsx";var _excluded=["item","index","onLayout","children"];function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}function CellRendererComponent(props){var item=props.item,index=props.index,onLayout=props.onLayout,children=props.children,rest=(0,_objectWithoutProperties2.default)(props,_excluded);var viewRef=(0,_react.useRef)(null);var _useRefs=(0,_refContext.useRefs)(),cellDataRef=_useRefs.cellDataRef,propsRef=_useRefs.propsRef,containerRef=_useRefs.containerRef;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),horizontalAnim=_useAnimatedValues.horizontalAnim,scrollOffset=_useAnimatedValues.scrollOffset;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),activeKey=_useDraggableFlatList.activeKey,keyExtractor=_useDraggableFlatList.keyExtractor,horizontal=_useDraggableFlatList.horizontal,layoutAnimationDisabled=_useDraggableFlatList.layoutAnimationDisabled;var key=keyExtractor(item,index);var offset=(0,_reactNativeReanimated.useSharedValue)(-1);var size=(0,_reactNativeReanimated.useSharedValue)(-1);var heldTanslate=(0,_reactNativeReanimated.useSharedValue)(0);var translate=(0,_useCellTranslate.useCellTranslate)({cellOffset:offset,cellSize:size,cellIndex:index});var isActive=activeKey===key;var animStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){if(translate.value&&!_constants.isWeb){heldTanslate.value=translate.value;}var t=activeKey?translate.value:heldTanslate.value;return{transform:[horizontalAnim.value?{translateX:t}:{translateY:t}]};};_f._closure={translate:translate,isWeb:_constants.isWeb,heldTanslate:heldTanslate,activeKey:activeKey,horizontalAnim:horizontalAnim};_f.asString="function _f(){const{translate,isWeb,heldTanslate,activeKey,horizontalAnim}=jsThis._closure;{if(translate.value&&!isWeb){heldTanslate.value=translate.value;}const t=activeKey?translate.value:heldTanslate.value;return{transform:[horizontalAnim.value?{translateX:t}:{translateY:t}]};}}";_f.__workletHash=2668800953096;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\CellRendererComponent.tsx (59:37)";_f.__optimalization=1;return _f;}(),[translate,activeKey]);var updateCellMeasurements=(0,_useStableCallback.useStableCallback)(function(){var onSuccess=function onSuccess(x,y,w,h){if(_constants.isWeb&&horizontal)x+=scrollOffset.value;var cellOffset=horizontal?x:y;var cellSize=horizontal?w:h;cellDataRef.current.set(key,{measurements:{size:cellSize,offset:cellOffset}});size.value=cellSize;offset.value=cellOffset;};var onFail=function onFail(){var _propsRef$current;if((_propsRef$current=propsRef.current)!=null&&_propsRef$current.debug){console.log("## on measure fail, index: "+index);}};var containerNode=containerRef.current;var viewNode=viewRef.current;var nodeHandle=containerNode;if(viewNode&&nodeHandle){viewNode.measureLayout(nodeHandle,onSuccess,onFail);}});var onCellLayout=(0,_useStableCallback.useStableCallback)(function(e){heldTanslate.value=0;updateCellMeasurements();if(onLayout&&e)onLayout(e);});(0,_react.useEffect)(function(){if(_constants.isWeb){requestAnimationFrame(function(){onCellLayout();});}},[index,onCellLayout]);var baseStyle=(0,_react.useMemo)(function(){return{elevation:isActive?1:0,zIndex:isActive?999:0,flexDirection:horizontal?"row":"column"};},[isActive,horizontal]);var _propsRef$current2=propsRef.current,itemEnteringAnimation=_propsRef$current2.itemEnteringAnimation,itemExitingAnimation=_propsRef$current2.itemExitingAnimation,itemLayoutAnimation=_propsRef$current2.itemLayoutAnimation;(0,_react.useEffect)(function(){if(!propsRef.current.enableLayoutAnimationExperimental)return;var tag=(0,_reactNative.findNodeHandle)(viewRef.current);(0,_reactNativeReanimated.runOnUI)(function(){var _f=function _f(t,_layoutDisabled){if(!t)return;var config=global.LayoutAnimationRepository.configs[t];if(config)stashConfig(t,config);var stashedConfig=getStashedConfig(t);if(_layoutDisabled){global.LayoutAnimationRepository.removeConfig(t);}else if(stashedConfig){global.LayoutAnimationRepository.registerConfig(t,stashedConfig);}};_f._closure={stashConfig:stashConfig,getStashedConfig:getStashedConfig};_f.asString="function _f(t,_layoutDisabled){const{stashConfig,getStashedConfig}=jsThis._closure;{if(!t)return;const config=global.LayoutAnimationRepository.configs[t];if(config)stashConfig(t,config);const stashedConfig=getStashedConfig(t);if(_layoutDisabled){global.LayoutAnimationRepository.removeConfig(t);}else if(stashedConfig){global.LayoutAnimationRepository.registerConfig(t,stashedConfig);}}}";_f.__workletHash=14167513442446;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\CellRendererComponent.tsx (140:12)";return _f;}())(tag,layoutAnimationDisabled);},[layoutAnimationDisabled]);return _react.default.createElement(_reactNativeReanimated.default.View,(0,_extends2.default)({},rest,{ref:viewRef,onLayout:onCellLayout,entering:itemEnteringAnimation,exiting:itemExitingAnimation,layout:propsRef.current.enableLayoutAnimationExperimental?itemLayoutAnimation:undefined,style:[props.style,baseStyle,activeKey?animStyle:styles.zeroTranslate],pointerEvents:activeKey?"none":"auto",__self:this,__source:{fileName:_jsxFileName,lineNumber:155,columnNumber:5}}),_react.default.createElement(_cellContext.default,{isActive:isActive,__self:this,__source:{fileName:_jsxFileName,lineNumber:173,columnNumber:7}},children));}var _default=exports.default=(0,_utils.typedMemo)(CellRendererComponent);var styles=_reactNative.StyleSheet.create({zeroTranslate:{transform:[{translateX:0},{translateY:0}]}});(0,_reactNativeReanimated.runOnUI)(function(){var _f=function _f(){global.RNDFLLayoutAnimationConfigStash={};};_f._closure={};_f.asString="function _f(){global.RNDFLLayoutAnimationConfigStash={};}";_f.__workletHash=11308490141335;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\CellRendererComponent.tsx (194:8)";return _f;}())();var stashConfig=function(){var _f=function _f(tag,config){if(!global.RNDFLLayoutAnimationConfigStash)global.RNDFLLayoutAnimationConfigStash={};global.RNDFLLayoutAnimationConfigStash[tag]=config;};_f._closure={};_f.asString="function stashConfig(tag,config){if(!global.RNDFLLayoutAnimationConfigStash)global.RNDFLLayoutAnimationConfigStash={};global.RNDFLLayoutAnimationConfigStash[tag]=config;}";_f.__workletHash=481659566906;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\CellRendererComponent.tsx (199:0)";return _f;}();var getStashedConfig=function(){var _f=function _f(tag){if(!global.RNDFLLayoutAnimationConfigStash)return null;return global.RNDFLLayoutAnimationConfigStash[tag];};_f._closure={};_f.asString="function getStashedConfig(tag){if(!global.RNDFLLayoutAnimationConfigStash)return null;return global.RNDFLLayoutAnimationConfigStash[tag];}";_f.__workletHash=4781167627856;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\CellRendererComponent.tsx (206:0)";return _f;}();
 //# sourceMappingURL=CellRendererComponent.js.map
\ No newline at end of file
diff --git a/lib/commonjs/components/CellRendererComponent.js.map b/lib/commonjs/components/CellRendererComponent.js.map
index bce81503b74093ab1790b94e4546c98c945a2cee..3d697fa0ed1d44c3d51d06a61ae273f2e8d03ed9 100644
--- a/lib/commonjs/components/CellRendererComponent.js.map
+++ b/lib/commonjs/components/CellRendererComponent.js.map
@@ -1 +1 @@
-{"version":3,"names":["CellRendererComponent","props","item","index","onLayout","children","rest","viewRef","useRef","useRefs","cellDataRef","propsRef","containerRef","useAnimatedValues","horizontalAnim","scrollOffset","useDraggableFlatListContext","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","key","offset","useSharedValue","size","heldTanslate","translate","useCellTranslate","cellOffset","cellSize","cellIndex","isActive","animStyle","useAnimatedStyle","value","isWeb","t","transform","translateX","translateY","updateCellMeasurements","useStableCallback","onSuccess","x","y","w","h","current","set","measurements","onFail","debug","console","log","containerNode","viewNode","nodeHandle","measureLayout","onCellLayout","e","useEffect","requestAnimationFrame","baseStyle","useMemo","elevation","zIndex","flexDirection","itemEnteringAnimation","itemExitingAnimation","itemLayoutAnimation","enableLayoutAnimationExperimental","tag","findNodeHandle","runOnUI","_layoutDisabled","config","global","LayoutAnimationRepository","configs","stashConfig","stashedConfig","getStashedConfig","removeConfig","registerConfig","undefined","style","styles","zeroTranslate","typedMemo","StyleSheet","create","RNDFLLayoutAnimationConfigStash"],"sources":["CellRendererComponent.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\nimport {\n  findNodeHandle,\n  LayoutChangeEvent,\n  MeasureLayoutOnSuccessCallback,\n  StyleProp,\n  StyleSheet,\n  ViewStyle,\n} from \"react-native\";\nimport Animated, {\n  runOnUI,\n  useAnimatedStyle,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { isWeb } from \"../constants\";\nimport { useCellTranslate } from \"../hooks/useCellTranslate\";\nimport { typedMemo } from \"../utils\";\nimport { useRefs } from \"../context/refContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport CellProvider from \"../context/cellContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\ntype Props<T> = {\n  item: T;\n  index: number;\n  children: React.ReactNode;\n  onLayout?: (e: LayoutChangeEvent) => void;\n  style?: StyleProp<ViewStyle>;\n};\n\nfunction CellRendererComponent<T>(props: Props<T>) {\n  const { item, index, onLayout, children, ...rest } = props;\n\n  const viewRef = useRef<Animated.View>(null);\n  const { cellDataRef, propsRef, containerRef } = useRefs<T>();\n\n  const { horizontalAnim, scrollOffset } = useAnimatedValues();\n  const {\n    activeKey,\n    keyExtractor,\n    horizontal,\n    layoutAnimationDisabled,\n  } = useDraggableFlatListContext<T>();\n\n  const key = keyExtractor(item, index);\n  const offset = useSharedValue(-1);\n  const size = useSharedValue(-1);\n  const heldTanslate = useSharedValue(0);\n\n  const translate = useCellTranslate({\n    cellOffset: offset,\n    cellSize: size,\n    cellIndex: index,\n  });\n\n  const isActive = activeKey === key;\n\n  const animStyle = useAnimatedStyle(() => {\n    // When activeKey becomes null at the end of a drag and the list reorders,\n    // the animated style may apply before the next paint, causing a flicker.\n    // Solution is to hold over the last animated value until the next onLayout.\n    // (Not required in web)\n    if (translate.value && !isWeb) {\n      heldTanslate.value = translate.value;\n    }\n    const t = activeKey ? translate.value : heldTanslate.value;\n    return {\n      transform: [horizontalAnim.value ? { translateX: t } : { translateY: t }],\n    };\n  }, [translate, activeKey]);\n\n  const updateCellMeasurements = useStableCallback(() => {\n    const onSuccess: MeasureLayoutOnSuccessCallback = (x, y, w, h) => {\n      if (isWeb && horizontal) x += scrollOffset.value;\n      const cellOffset = horizontal ? x : y;\n      const cellSize = horizontal ? w : h;\n      cellDataRef.current.set(key, {\n        measurements: { size: cellSize, offset: cellOffset },\n      });\n\n      size.value = cellSize;\n      offset.value = cellOffset;\n    };\n\n    const onFail = () => {\n      if (propsRef.current?.debug) {\n        console.log(`## on measure fail, index: ${index}`);\n      }\n    };\n\n    const containerNode = containerRef.current;\n    const viewNode = viewRef.current;\n    const nodeHandle = containerNode;\n\n    if (viewNode && nodeHandle) {\n      //@ts-ignore\n      viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n    }\n  });\n\n  const onCellLayout = useStableCallback((e?: LayoutChangeEvent) => {\n    heldTanslate.value = 0;\n    updateCellMeasurements();\n    if (onLayout && e) onLayout(e);\n  });\n\n  useEffect(() => {\n    if (isWeb) {\n      // onLayout isn't called on web when the cell index changes, so we manually re-measure\n      requestAnimationFrame(() => {\n        onCellLayout();\n      });\n    }\n  }, [index, onCellLayout]);\n\n  const baseStyle = useMemo(() => {\n    return {\n      elevation: isActive ? 1 : 0,\n      zIndex: isActive ? 999 : 0,\n      flexDirection: horizontal ? (\"row\" as const) : (\"column\" as const),\n    };\n  }, [isActive, horizontal]);\n\n  const {\n    itemEnteringAnimation,\n    itemExitingAnimation,\n    itemLayoutAnimation,\n  } = propsRef.current;\n\n  useEffect(() => {\n    // NOTE: Keep an eye on reanimated LayoutAnimation refactor:\n    // https://github.com/software-mansion/react-native-reanimated/pull/3332/files\n    // We might have to change the way we register/unregister LayouAnimations:\n    // - get native module: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L18\n    // - register layout animation for tag: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L99\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    const tag = findNodeHandle(viewRef.current);\n\n    runOnUI((t: number | null, _layoutDisabled) => {\n      \"worklet\";\n      if (!t) return;\n      const config = global.LayoutAnimationRepository.configs[t];\n      if (config) stashConfig(t, config);\n      const stashedConfig = getStashedConfig(t);\n      if (_layoutDisabled) {\n        global.LayoutAnimationRepository.removeConfig(t);\n      } else if (stashedConfig) {\n        global.LayoutAnimationRepository.registerConfig(t, stashedConfig);\n      }\n    })(tag, layoutAnimationDisabled);\n  }, [layoutAnimationDisabled]);\n\n  return (\n    <Animated.View\n      {...rest}\n      ref={viewRef}\n      onLayout={onCellLayout}\n      entering={itemEnteringAnimation}\n      exiting={itemExitingAnimation}\n      layout={\n        propsRef.current.enableLayoutAnimationExperimental\n          ? itemLayoutAnimation\n          : undefined\n      }\n      style={[\n        props.style,\n        baseStyle,\n        activeKey ? animStyle : styles.zeroTranslate,\n      ]}\n      pointerEvents={activeKey ? \"none\" : \"auto\"}\n    >\n      <CellProvider isActive={isActive}>{children}</CellProvider>\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(CellRendererComponent);\n\nconst styles = StyleSheet.create({\n  zeroTranslate: {\n    transform: [{ translateX: 0 }, { translateY: 0 }],\n  },\n});\n\ndeclare global {\n  namespace NodeJS {\n    interface Global {\n      RNDFLLayoutAnimationConfigStash: Record<string, unknown>;\n    }\n  }\n}\n\nrunOnUI(() => {\n  \"worklet\";\n  global.RNDFLLayoutAnimationConfigStash = {};\n})();\n\nfunction stashConfig(tag: number, config: unknown) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash)\n    global.RNDFLLayoutAnimationConfigStash = {};\n  global.RNDFLLayoutAnimationConfigStash[tag] = config;\n}\n\nfunction getStashedConfig(tag: number) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash) return null;\n  return global.RNDFLLayoutAnimationConfigStash[tag] as Record<string, unknown>;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeReanimated","_draggableFlatListContext","_constants","_useCellTranslate","_utils","_refContext","_animatedValueContext","_cellContext","_interopRequireDefault","_useStableCallback","_jsxFileName","_excluded","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CellRendererComponent","props","item","index","onLayout","children","rest","_objectWithoutProperties2","viewRef","useRef","_useRefs","useRefs","cellDataRef","propsRef","containerRef","_useAnimatedValues","useAnimatedValues","horizontalAnim","scrollOffset","_useDraggableFlatList","useDraggableFlatListContext","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","key","offset","useSharedValue","size","heldTanslate","translate","useCellTranslate","cellOffset","cellSize","cellIndex","isActive","animStyle","useAnimatedStyle","_f","value","isWeb","transform","translateX","translateY","_closure","asString","__workletHash","__location","__optimalization","updateCellMeasurements","useStableCallback","onSuccess","x","y","w","h","current","measurements","onFail","_propsRef$current","debug","console","log","containerNode","viewNode","nodeHandle","measureLayout","onCellLayout","useEffect","requestAnimationFrame","baseStyle","useMemo","elevation","zIndex","flexDirection","_propsRef$current2","itemEnteringAnimation","itemExitingAnimation","itemLayoutAnimation","enableLayoutAnimationExperimental","tag","findNodeHandle","runOnUI","_layoutDisabled","config","global","LayoutAnimationRepository","configs","stashConfig","stashedConfig","getStashedConfig","removeConfig","registerConfig","createElement","View","_extends2","ref","entering","exiting","layout","undefined","style","styles","zeroTranslate","pointerEvents","__self","__source","fileName","lineNumber","columnNumber","_default","exports","typedMemo","StyleSheet","create","RNDFLLayoutAnimationConfigStash"],"sources":["CellRendererComponent.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\nimport {\n  findNodeHandle,\n  LayoutChangeEvent,\n  MeasureLayoutOnSuccessCallback,\n  StyleProp,\n  StyleSheet,\n  ViewStyle,\n} from \"react-native\";\nimport Animated, {\n  runOnUI,\n  useAnimatedStyle,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { isWeb } from \"../constants\";\nimport { useCellTranslate } from \"../hooks/useCellTranslate\";\nimport { typedMemo } from \"../utils\";\nimport { useRefs } from \"../context/refContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport CellProvider from \"../context/cellContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\ntype Props<T> = {\n  item: T;\n  index: number;\n  children: React.ReactNode;\n  onLayout?: (e: LayoutChangeEvent) => void;\n  style?: StyleProp<ViewStyle>;\n};\n\nfunction CellRendererComponent<T>(props: Props<T>) {\n  const { item, index, onLayout, children, ...rest } = props;\n\n  const viewRef = useRef<Animated.View>(null);\n  const { cellDataRef, propsRef, containerRef } = useRefs<T>();\n\n  const { horizontalAnim, scrollOffset } = useAnimatedValues();\n  const {\n    activeKey,\n    keyExtractor,\n    horizontal,\n    layoutAnimationDisabled,\n  } = useDraggableFlatListContext<T>();\n\n  const key = keyExtractor(item, index);\n  const offset = useSharedValue(-1);\n  const size = useSharedValue(-1);\n  const heldTanslate = useSharedValue(0);\n\n  const translate = useCellTranslate({\n    cellOffset: offset,\n    cellSize: size,\n    cellIndex: index,\n  });\n\n  const isActive = activeKey === key;\n\n  const animStyle = useAnimatedStyle(() => {\n    // When activeKey becomes null at the end of a drag and the list reorders,\n    // the animated style may apply before the next paint, causing a flicker.\n    // Solution is to hold over the last animated value until the next onLayout.\n    // (Not required in web)\n    if (translate.value && !isWeb) {\n      heldTanslate.value = translate.value;\n    }\n    const t = activeKey ? translate.value : heldTanslate.value;\n    return {\n      transform: [horizontalAnim.value ? { translateX: t } : { translateY: t }],\n    };\n  }, [translate, activeKey]);\n\n  const updateCellMeasurements = useStableCallback(() => {\n    const onSuccess: MeasureLayoutOnSuccessCallback = (x, y, w, h) => {\n      if (isWeb && horizontal) x += scrollOffset.value;\n      const cellOffset = horizontal ? x : y;\n      const cellSize = horizontal ? w : h;\n      cellDataRef.current.set(key, {\n        measurements: { size: cellSize, offset: cellOffset },\n      });\n\n      size.value = cellSize;\n      offset.value = cellOffset;\n    };\n\n    const onFail = () => {\n      if (propsRef.current?.debug) {\n        console.log(`## on measure fail, index: ${index}`);\n      }\n    };\n\n    const containerNode = containerRef.current;\n    const viewNode = viewRef.current;\n    const nodeHandle = containerNode;\n\n    if (viewNode && nodeHandle) {\n      //@ts-ignore\n      viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n    }\n  });\n\n  const onCellLayout = useStableCallback((e?: LayoutChangeEvent) => {\n    heldTanslate.value = 0;\n    updateCellMeasurements();\n    if (onLayout && e) onLayout(e);\n  });\n\n  useEffect(() => {\n    if (isWeb) {\n      // onLayout isn't called on web when the cell index changes, so we manually re-measure\n      requestAnimationFrame(() => {\n        onCellLayout();\n      });\n    }\n  }, [index, onCellLayout]);\n\n  const baseStyle = useMemo(() => {\n    return {\n      elevation: isActive ? 1 : 0,\n      zIndex: isActive ? 999 : 0,\n      flexDirection: horizontal ? (\"row\" as const) : (\"column\" as const),\n    };\n  }, [isActive, horizontal]);\n\n  const {\n    itemEnteringAnimation,\n    itemExitingAnimation,\n    itemLayoutAnimation,\n  } = propsRef.current;\n\n  useEffect(() => {\n    // NOTE: Keep an eye on reanimated LayoutAnimation refactor:\n    // https://github.com/software-mansion/react-native-reanimated/pull/3332/files\n    // We might have to change the way we register/unregister LayouAnimations:\n    // - get native module: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L18\n    // - register layout animation for tag: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L99\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    const tag = findNodeHandle(viewRef.current);\n\n    runOnUI((t: number | null, _layoutDisabled) => {\n      \"worklet\";\n      if (!t) return;\n      const config = global.LayoutAnimationRepository.configs[t];\n      if (config) stashConfig(t, config);\n      const stashedConfig = getStashedConfig(t);\n      if (_layoutDisabled) {\n        global.LayoutAnimationRepository.removeConfig(t);\n      } else if (stashedConfig) {\n        global.LayoutAnimationRepository.registerConfig(t, stashedConfig);\n      }\n    })(tag, layoutAnimationDisabled);\n  }, [layoutAnimationDisabled]);\n\n  return (\n    <Animated.View\n      {...rest}\n      ref={viewRef}\n      onLayout={onCellLayout}\n      entering={itemEnteringAnimation}\n      exiting={itemExitingAnimation}\n      layout={\n        propsRef.current.enableLayoutAnimationExperimental\n          ? itemLayoutAnimation\n          : undefined\n      }\n      style={[\n        props.style,\n        baseStyle,\n        activeKey ? animStyle : styles.zeroTranslate,\n      ]}\n      pointerEvents={activeKey ? \"none\" : \"auto\"}\n    >\n      <CellProvider isActive={isActive}>{children}</CellProvider>\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(CellRendererComponent);\n\nconst styles = StyleSheet.create({\n  zeroTranslate: {\n    transform: [{ translateX: 0 }, { translateY: 0 }],\n  },\n});\n\ndeclare global {\n  namespace NodeJS {\n    interface Global {\n      RNDFLLayoutAnimationConfigStash: Record<string, unknown>;\n    }\n  }\n}\n\nrunOnUI(() => {\n  \"worklet\";\n  global.RNDFLLayoutAnimationConfigStash = {};\n})();\n\nfunction stashConfig(tag: number, config: unknown) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash)\n    global.RNDFLLayoutAnimationConfigStash = {};\n  global.RNDFLLayoutAnimationConfigStash[tag] = config;\n}\n\nfunction getStashedConfig(tag: number) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash) return null;\n  return global.RNDFLLayoutAnimationConfigStash[tag] as Record<string, unknown>;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/components/DraggableFlatList.js b/lib/commonjs/components/DraggableFlatList.js
index a7b2d41591fd27a257c18dc258273624fbdb93a0..c5fdb197072d63499a0176a5967fb5b0acc17bb4 100644
--- a/lib/commonjs/components/DraggableFlatList.js
+++ b/lib/commonjs/components/DraggableFlatList.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNativeGestureHandler=require("react-native-gesture-handler");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _CellRendererComponent=_interopRequireDefault(require("./CellRendererComponent"));var _constants=require("../constants");var _PlaceholderItem=_interopRequireDefault(require("./PlaceholderItem"));var _RowItem=_interopRequireDefault(require("./RowItem"));var _propsContext=_interopRequireDefault(require("../context/propsContext"));var _animatedValueContext=_interopRequireWildcard(require("../context/animatedValueContext"));var _refContext=_interopRequireWildcard(require("../context/refContext"));var _draggableFlatListContext=_interopRequireDefault(require("../context/draggableFlatListContext"));var _useAutoScroll=require("../hooks/useAutoScroll");var _useStableCallback=require("../hooks/useStableCallback");var _ScrollOffsetListener=_interopRequireDefault(require("./ScrollOffsetListener"));var _utils=require("../utils");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var AnimatedFlatList=_reactNativeReanimated.default.createAnimatedComponent(_reactNativeGestureHandler.FlatList);function DraggableFlatListInner(props){var _this=this;var _useRefs=(0,_refContext.useRefs)(),cellDataRef=_useRefs.cellDataRef,containerRef=_useRefs.containerRef,flatlistRef=_useRefs.flatlistRef,keyToIndexRef=_useRefs.keyToIndexRef,propsRef=_useRefs.propsRef,animationConfigRef=_useRefs.animationConfigRef;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),activeCellOffset=_useAnimatedValues.activeCellOffset,activeCellSize=_useAnimatedValues.activeCellSize,activeIndexAnim=_useAnimatedValues.activeIndexAnim,containerSize=_useAnimatedValues.containerSize,scrollOffset=_useAnimatedValues.scrollOffset,scrollViewSize=_useAnimatedValues.scrollViewSize,spacerIndexAnim=_useAnimatedValues.spacerIndexAnim,horizontalAnim=_useAnimatedValues.horizontalAnim,placeholderOffset=_useAnimatedValues.placeholderOffset,touchTranslate=_useAnimatedValues.touchTranslate,autoScrollDistance=_useAnimatedValues.autoScrollDistance,panGestureState=_useAnimatedValues.panGestureState,isTouchActiveNative=_useAnimatedValues.isTouchActiveNative,viewableIndexMin=_useAnimatedValues.viewableIndexMin,viewableIndexMax=_useAnimatedValues.viewableIndexMax,disabled=_useAnimatedValues.disabled;var reset=(0,_useStableCallback.useStableCallback)(function(){activeIndexAnim.value=-1;spacerIndexAnim.value=-1;touchTranslate.value=0;activeCellSize.value=-1;activeCellOffset.value=-1;setActiveKey(null);});var _props$dragHitSlop=props.dragHitSlop,dragHitSlop=_props$dragHitSlop===void 0?_constants.DEFAULT_PROPS.dragHitSlop:_props$dragHitSlop,_props$scrollEnabled=props.scrollEnabled,scrollEnabled=_props$scrollEnabled===void 0?_constants.DEFAULT_PROPS.scrollEnabled:_props$scrollEnabled,_props$activationDist=props.activationDistance,activationDistanceProp=_props$activationDist===void 0?_constants.DEFAULT_PROPS.activationDistance:_props$activationDist;var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2.default)(_useState,2),activeKey=_useState2[0],setActiveKey=_useState2[1];var _useState3=(0,_react.useState)(!propsRef.current.enableLayoutAnimationExperimental),_useState4=(0,_slicedToArray2.default)(_useState3,2),layoutAnimationDisabled=_useState4[0],setLayoutAnimationDisabled=_useState4[1];var keyExtractor=(0,_useStableCallback.useStableCallback)(function(item,index){if(!props.keyExtractor){throw new Error("You must provide a keyExtractor to DraggableFlatList");}return props.keyExtractor(item,index);});var dataRef=(0,_react.useRef)(props.data);var dataHasChanged=dataRef.current.map(keyExtractor).join("")!==props.data.map(keyExtractor).join("");dataRef.current=props.data;if(dataHasChanged){activeKey=null;}(0,_react.useEffect)(function(){if(!propsRef.current.enableLayoutAnimationExperimental)return;if(activeKey){setLayoutAnimationDisabled(true);}else{setTimeout(function(){setLayoutAnimationDisabled(false);},100);}},[activeKey]);(0,_react.useLayoutEffect)(function(){props.data.forEach(function(d,i){var key=keyExtractor(d,i);keyToIndexRef.current.set(key,i);});},[props.data,keyExtractor,keyToIndexRef]);var drag=(0,_useStableCallback.useStableCallback)(function(activeKey){if(disabled.value)return;var index=keyToIndexRef.current.get(activeKey);var cellData=cellDataRef.current.get(activeKey);if(cellData){activeCellOffset.value=cellData.measurements.offset;activeCellSize.value=cellData.measurements.size;}var onDragBegin=propsRef.current.onDragBegin;if(index!==undefined){spacerIndexAnim.value=index;activeIndexAnim.value=index;setActiveKey(activeKey);onDragBegin==null?void 0:onDragBegin(index);}});var onContainerLayout=function onContainerLayout(_ref){var layout=_ref.nativeEvent.layout;var width=layout.width,height=layout.height;containerSize.value=props.horizontal?width:height;props.onContainerLayout==null?void 0:props.onContainerLayout({layout:layout,containerRef:containerRef});};var onListContentSizeChange=function onListContentSizeChange(w,h){scrollViewSize.value=props.horizontal?w:h;props.onContentSizeChange==null?void 0:props.onContentSizeChange(w,h);};var onContainerTouchStart=function onContainerTouchStart(){if(!disabled.value){isTouchActiveNative.value=true;}return false;};var onContainerTouchEnd=function onContainerTouchEnd(){isTouchActiveNative.value=false;};var extraData=(0,_react.useMemo)(function(){return{activeKey:activeKey,extraData:props.extraData};},[activeKey,props.extraData]);var renderItem=(0,_react.useCallback)(function(_ref2){var item=_ref2.item,index=_ref2.index;var key=keyExtractor(item,index);if(index!==keyToIndexRef.current.get(key)){keyToIndexRef.current.set(key,index);}return _react.default.createElement(_RowItem.default,{item:item,itemKey:key,renderItem:props.renderItem,drag:drag,extraData:props.extraData,__self:_this,__source:{fileName:_jsxFileName,lineNumber:197,columnNumber:9}});},[props.renderItem,props.extraData,drag,keyExtractor]);var onRelease=(0,_useStableCallback.useStableCallback)(function(index){props.onRelease==null?void 0:props.onRelease(index);});var onDragEnd=(0,_useStableCallback.useStableCallback)(function(_ref3){var from=_ref3.from,to=_ref3.to;var onDragEnd=props.onDragEnd,data=props.data;var newData=(0,_toConsumableArray2.default)(data);if(from!==to){newData.splice(from,1);newData.splice(to,0,data[from]);}onDragEnd==null?void 0:onDragEnd({from:from,to:to,data:newData});reset();});var onPlaceholderIndexChange=(0,_useStableCallback.useStableCallback)(function(index){props.onPlaceholderIndexChange==null?void 0:props.onPlaceholderIndexChange(index);});(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return isTouchActiveNative.value;};_f._closure={isTouchActiveNative:isTouchActiveNative};_f.asString="function _f(){const{isTouchActiveNative}=jsThis._closure;{return isTouchActiveNative.value;}}";_f.__workletHash=14702024657843;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (234:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur!==prev&&!cur){var hasMoved=!!touchTranslate.value;if(!hasMoved&&activeIndexAnim.value>=0&&!disabled.value){(0,_reactNativeReanimated.runOnJS)(onRelease)(activeIndexAnim.value);(0,_reactNativeReanimated.runOnJS)(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});}}};_f._closure={touchTranslate:touchTranslate,activeIndexAnim:activeIndexAnim,disabled:disabled,runOnJS:_reactNativeReanimated.runOnJS,onRelease:onRelease,onDragEnd:onDragEnd,spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(cur,prev){const{touchTranslate,activeIndexAnim,disabled,runOnJS,onRelease,onDragEnd,spacerIndexAnim}=jsThis._closure;{if(cur!==prev&&!cur){const hasMoved=!!touchTranslate.value;if(!hasMoved&&activeIndexAnim.value>=0&&!disabled.value){runOnJS(onRelease)(activeIndexAnim.value);runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});}}}}";_f.__workletHash=5951241873481;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (237:4)";return _f;}(),[isTouchActiveNative,onDragEnd,onRelease]);(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return spacerIndexAnim.value;};_f._closure={spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(){const{spacerIndexAnim}=jsThis._closure;{return spacerIndexAnim.value;}}";_f.__workletHash=2960108028947;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (253:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(prev!==null&&cur!==prev&&cur>=0&&prev>=0){(0,_reactNativeReanimated.runOnJS)(onPlaceholderIndexChange)(cur);}};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onPlaceholderIndexChange:onPlaceholderIndexChange};_f.asString="function _f(cur,prev){const{runOnJS,onPlaceholderIndexChange}=jsThis._closure;{if(prev!==null&&cur!==prev&&cur>=0&&prev>=0){runOnJS(onPlaceholderIndexChange)(cur);}}}";_f.__workletHash=16965253726735;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (256:4)";return _f;}(),[spacerIndexAnim]);var gestureDisabled=(0,_reactNativeReanimated.useSharedValue)(false);var panGesture=_reactNativeGestureHandler.Gesture.Pan().onBegin(function(){var _f=function _f(evt){gestureDisabled.value=disabled.value;if(gestureDisabled.value)return;panGestureState.value=evt.state;};_f._closure={gestureDisabled:gestureDisabled,disabled:disabled,panGestureState:panGestureState};_f.asString="function _f(evt){const{gestureDisabled,disabled,panGestureState}=jsThis._closure;{gestureDisabled.value=disabled.value;if(gestureDisabled.value)return;panGestureState.value=evt.state;}}";_f.__workletHash=17574034116918;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (267:13)";return _f;}()).onUpdate(function(){var _f=function _f(evt){if(gestureDisabled.value)return;panGestureState.value=evt.state;var translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation;};_f._closure={gestureDisabled:gestureDisabled,panGestureState:panGestureState,horizontalAnim:horizontalAnim,touchTranslate:touchTranslate};_f.asString="function _f(evt){const{gestureDisabled,panGestureState,horizontalAnim,touchTranslate}=jsThis._closure;{if(gestureDisabled.value)return;panGestureState.value=evt.state;const translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation;}}";_f.__workletHash=5455568984874;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (272:14)";return _f;}()).onEnd(function(){var _f=function _f(evt){if(gestureDisabled.value)return;isTouchActiveNative.value=false;var translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation+autoScrollDistance.value;panGestureState.value=evt.state;if(activeIndexAnim.value===-1||disabled.value)return;disabled.value=true;(0,_reactNativeReanimated.runOnJS)(onRelease)(activeIndexAnim.value);var springTo=placeholderOffset.value-activeCellOffset.value;touchTranslate.value=(0,_reactNativeReanimated.withSpring)(springTo,animationConfigRef.current,function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onDragEnd:onDragEnd,activeIndexAnim:activeIndexAnim,spacerIndexAnim:spacerIndexAnim,disabled:disabled};_f.asString="function _f(){const{runOnJS,onDragEnd,activeIndexAnim,spacerIndexAnim,disabled}=jsThis._closure;{runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;}}";_f.__workletHash=1618704508901;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (299:8)";return _f;}());};_f._closure={gestureDisabled:gestureDisabled,isTouchActiveNative:isTouchActiveNative,horizontalAnim:horizontalAnim,touchTranslate:touchTranslate,autoScrollDistance:autoScrollDistance,panGestureState:panGestureState,activeIndexAnim:activeIndexAnim,disabled:disabled,runOnJS:_reactNativeReanimated.runOnJS,onRelease:onRelease,placeholderOffset:placeholderOffset,activeCellOffset:activeCellOffset,withSpring:_reactNativeReanimated.withSpring,animationConfigRef:{current:animationConfigRef.current},onDragEnd:onDragEnd,spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(evt){const{gestureDisabled,isTouchActiveNative,horizontalAnim,touchTranslate,autoScrollDistance,panGestureState,activeIndexAnim,disabled,runOnJS,onRelease,placeholderOffset,activeCellOffset,withSpring,animationConfigRef,onDragEnd,spacerIndexAnim}=jsThis._closure;{if(gestureDisabled.value)return;isTouchActiveNative.value=false;const translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation+autoScrollDistance.value;panGestureState.value=evt.state;if(activeIndexAnim.value===-1||disabled.value)return;disabled.value=true;runOnJS(onRelease)(activeIndexAnim.value);const springTo=placeholderOffset.value-activeCellOffset.value;touchTranslate.value=withSpring(springTo,animationConfigRef.current,function(){runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;});}}";_f.__workletHash=10097216425009;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (280:11)";return _f;}()).onTouchesDown(function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onContainerTouchStart)();};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onContainerTouchStart:onContainerTouchStart};_f.asString="function _f(){const{runOnJS,onContainerTouchStart}=jsThis._closure;{runOnJS(onContainerTouchStart)();}}";_f.__workletHash=4756906064016;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (308:19)";return _f;}()).onTouchesUp(function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onContainerTouchEnd)();};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onContainerTouchEnd:onContainerTouchEnd};_f.asString="function _f(){const{runOnJS,onContainerTouchEnd}=jsThis._closure;{runOnJS(onContainerTouchEnd)();}}";_f.__workletHash=9596402198608;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (311:17)";return _f;}());if(dragHitSlop)panGesture.hitSlop(dragHitSlop);if(activationDistanceProp){var activeOffset=[-activationDistanceProp,activationDistanceProp];if(props.horizontal){panGesture.activeOffsetX(activeOffset);}else{panGesture.activeOffsetY(activeOffset);}}var onScroll=(0,_useStableCallback.useStableCallback)(function(scrollOffset){props.onScrollOffsetChange==null?void 0:props.onScrollOffsetChange(scrollOffset);});var scrollHandler=(0,_reactNativeReanimated.useAnimatedScrollHandler)({onScroll:function(){var _f=function _f(evt){scrollOffset.value=horizontalAnim.value?evt.contentOffset.x:evt.contentOffset.y;(0,_reactNativeReanimated.runOnJS)(onScroll)(scrollOffset.value);};_f._closure={scrollOffset:scrollOffset,horizontalAnim:horizontalAnim,runOnJS:_reactNativeReanimated.runOnJS,onScroll:onScroll};_f.asString="function _f(evt){const{scrollOffset,horizontalAnim,runOnJS,onScroll}=jsThis._closure;{scrollOffset.value=horizontalAnim.value?evt.contentOffset.x:evt.contentOffset.y;runOnJS(onScroll)(scrollOffset.value);}}";_f.__workletHash=5653789960368;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (333:16)";return _f;}()},[horizontalAnim]);(0,_useAutoScroll.useAutoScroll)();var onViewableItemsChanged=(0,_useStableCallback.useStableCallback)(function(info){var viewableIndices=info.viewableItems.filter(function(item){return item.isViewable;}).map(function(item){return item.index;}).filter(function(index){return typeof index==="number";});var min=Math.min.apply(Math,(0,_toConsumableArray2.default)(viewableIndices));var max=Math.max.apply(Math,(0,_toConsumableArray2.default)(viewableIndices));viewableIndexMin.value=min;viewableIndexMax.value=max;props.onViewableItemsChanged==null?void 0:props.onViewableItemsChanged(info);});return _react.default.createElement(_draggableFlatListContext.default,{activeKey:activeKey,keyExtractor:keyExtractor,horizontal:!!props.horizontal,layoutAnimationDisabled:layoutAnimationDisabled,__self:this,__source:{fileName:_jsxFileName,lineNumber:361,columnNumber:5}},_react.default.createElement(_reactNativeGestureHandler.GestureDetector,{gesture:panGesture,__self:this,__source:{fileName:_jsxFileName,lineNumber:367,columnNumber:7}},_react.default.createElement(_reactNativeReanimated.default.View,{style:props.containerStyle,ref:containerRef,onLayout:onContainerLayout,__self:this,__source:{fileName:_jsxFileName,lineNumber:368,columnNumber:9}},props.renderPlaceholder&&_react.default.createElement(_PlaceholderItem.default,{renderPlaceholder:props.renderPlaceholder,__self:this,__source:{fileName:_jsxFileName,lineNumber:374,columnNumber:13}}),_react.default.createElement(AnimatedFlatList,(0,_extends2.default)({},props,{data:props.data,onViewableItemsChanged:onViewableItemsChanged,CellRendererComponent:_CellRendererComponent.default,ref:flatlistRef,onContentSizeChange:onListContentSizeChange,scrollEnabled:!activeKey&&scrollEnabled,renderItem:renderItem,extraData:extraData,keyExtractor:keyExtractor,onScroll:scrollHandler,scrollEventThrottle:16,simultaneousHandlers:props.simultaneousHandlers,removeClippedSubviews:false,__self:this,__source:{fileName:_jsxFileName,lineNumber:376,columnNumber:11}})),!!props.onScrollOffsetChange&&_react.default.createElement(_ScrollOffsetListener.default,{onScrollOffsetChange:props.onScrollOffsetChange,scrollOffset:scrollOffset,__self:this,__source:{fileName:_jsxFileName,lineNumber:393,columnNumber:13}}))));}function DraggableFlatList(props,ref){return _react.default.createElement(_propsContext.default,(0,_extends2.default)({},props,{__self:this,__source:{fileName:_jsxFileName,lineNumber:409,columnNumber:5}}),_react.default.createElement(_animatedValueContext.default,{__self:this,__source:{fileName:_jsxFileName,lineNumber:410,columnNumber:7}},_react.default.createElement(_refContext.default,{flatListRef:ref,__self:this,__source:{fileName:_jsxFileName,lineNumber:411,columnNumber:9}},_react.default.createElement(MemoizedInner,(0,_extends2.default)({},props,{__self:this,__source:{fileName:_jsxFileName,lineNumber:412,columnNumber:11}})))));}var MemoizedInner=(0,_utils.typedMemo)(DraggableFlatListInner);var _default=_react.default.forwardRef(DraggableFlatList);exports.default=_default;
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNativeGestureHandler=require("react-native-gesture-handler");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _CellRendererComponent=_interopRequireDefault(require("./CellRendererComponent"));var _constants=require("../constants");var _PlaceholderItem=_interopRequireDefault(require("./PlaceholderItem"));var _RowItem=_interopRequireDefault(require("./RowItem"));var _propsContext=_interopRequireDefault(require("../context/propsContext"));var _animatedValueContext=_interopRequireWildcard(require("../context/animatedValueContext"));var _refContext=_interopRequireWildcard(require("../context/refContext"));var _draggableFlatListContext=_interopRequireDefault(require("../context/draggableFlatListContext"));var _useAutoScroll=require("../hooks/useAutoScroll");var _useStableCallback=require("../hooks/useStableCallback");var _ScrollOffsetListener=_interopRequireDefault(require("./ScrollOffsetListener"));var _utils=require("../utils");var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var AnimatedFlatList=_reactNativeReanimated.default.createAnimatedComponent(_reactNativeGestureHandler.FlatList);function DraggableFlatListInner(props){var _this=this;var _useRefs=(0,_refContext.useRefs)(),cellDataRef=_useRefs.cellDataRef,containerRef=_useRefs.containerRef,flatlistRef=_useRefs.flatlistRef,keyToIndexRef=_useRefs.keyToIndexRef,propsRef=_useRefs.propsRef,animationConfigRef=_useRefs.animationConfigRef;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),activeCellOffset=_useAnimatedValues.activeCellOffset,activeCellSize=_useAnimatedValues.activeCellSize,activeIndexAnim=_useAnimatedValues.activeIndexAnim,containerSize=_useAnimatedValues.containerSize,scrollOffset=_useAnimatedValues.scrollOffset,scrollViewSize=_useAnimatedValues.scrollViewSize,spacerIndexAnim=_useAnimatedValues.spacerIndexAnim,horizontalAnim=_useAnimatedValues.horizontalAnim,placeholderOffset=_useAnimatedValues.placeholderOffset,touchTranslate=_useAnimatedValues.touchTranslate,autoScrollDistance=_useAnimatedValues.autoScrollDistance,panGestureState=_useAnimatedValues.panGestureState,isTouchActiveNative=_useAnimatedValues.isTouchActiveNative,viewableIndexMin=_useAnimatedValues.viewableIndexMin,viewableIndexMax=_useAnimatedValues.viewableIndexMax,disabled=_useAnimatedValues.disabled;var reset=(0,_useStableCallback.useStableCallback)(function(){activeIndexAnim.value=-1;spacerIndexAnim.value=-1;touchTranslate.value=0;activeCellSize.value=-1;activeCellOffset.value=-1;setActiveKey(null);});var _props$dragHitSlop=props.dragHitSlop,dragHitSlop=_props$dragHitSlop===void 0?_constants.DEFAULT_PROPS.dragHitSlop:_props$dragHitSlop,_props$scrollEnabled=props.scrollEnabled,scrollEnabled=_props$scrollEnabled===void 0?_constants.DEFAULT_PROPS.scrollEnabled:_props$scrollEnabled,_props$activationDist=props.activationDistance,activationDistanceProp=_props$activationDist===void 0?_constants.DEFAULT_PROPS.activationDistance:_props$activationDist;var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2.default)(_useState,2),activeKey=_useState2[0],setActiveKey=_useState2[1];var _useState3=(0,_react.useState)(!propsRef.current.enableLayoutAnimationExperimental),_useState4=(0,_slicedToArray2.default)(_useState3,2),layoutAnimationDisabled=_useState4[0],setLayoutAnimationDisabled=_useState4[1];var keyExtractor=(0,_useStableCallback.useStableCallback)(function(item,index){if(!props.keyExtractor){throw new Error("You must provide a keyExtractor to DraggableFlatList");}return props.keyExtractor(item,index);});var dataRef=(0,_react.useRef)(props.data);var dataHasChanged=dataRef.current.map(keyExtractor).join("")!==props.data.map(keyExtractor).join("");dataRef.current=props.data;if(dataHasChanged){activeKey=null;}(0,_react.useEffect)(function(){if(!propsRef.current.enableLayoutAnimationExperimental)return;if(activeKey){setLayoutAnimationDisabled(true);}else{setTimeout(function(){setLayoutAnimationDisabled(false);},100);}},[activeKey]);(0,_react.useLayoutEffect)(function(){props.data.forEach(function(d,i){var key=keyExtractor(d,i);keyToIndexRef.current.set(key,i);});},[props.data,keyExtractor,keyToIndexRef]);var drag=(0,_useStableCallback.useStableCallback)(function(activeKey){if(disabled.value)return;var index=keyToIndexRef.current.get(activeKey);var cellData=cellDataRef.current.get(activeKey);if(cellData){activeCellOffset.value=cellData.measurements.offset;activeCellSize.value=cellData.measurements.size;}var onDragBegin=propsRef.current.onDragBegin;if(index!==undefined){spacerIndexAnim.value=index;activeIndexAnim.value=index;setActiveKey(activeKey);onDragBegin==null?void 0:onDragBegin(index);}});var onContainerLayout=function onContainerLayout(_ref){var layout=_ref.nativeEvent.layout;var width=layout.width,height=layout.height;containerSize.value=props.horizontal?width:height;props.onContainerLayout==null?void 0:props.onContainerLayout({layout:layout,containerRef:containerRef});};var onListContentSizeChange=function onListContentSizeChange(w,h){scrollViewSize.value=props.horizontal?w:h;props.onContentSizeChange==null?void 0:props.onContentSizeChange(w,h);};var onContainerTouchStart=function onContainerTouchStart(){if(!disabled.value){isTouchActiveNative.value=true;}return false;};var onContainerTouchEnd=function onContainerTouchEnd(){isTouchActiveNative.value=false;};var extraData=(0,_react.useMemo)(function(){return{activeKey:activeKey,extraData:props.extraData};},[activeKey,props.extraData]);var renderItem=(0,_react.useCallback)(function(_ref2){var item=_ref2.item,index=_ref2.index;var key=keyExtractor(item,index);if(index!==keyToIndexRef.current.get(key)){keyToIndexRef.current.set(key,index);}return _react.default.createElement(_RowItem.default,{item:item,itemKey:key,renderItem:props.renderItem,drag:drag,extraData:props.extraData,__self:_this,__source:{fileName:_jsxFileName,lineNumber:197,columnNumber:9}});},[props.renderItem,props.extraData,drag,keyExtractor]);var onRelease=(0,_useStableCallback.useStableCallback)(function(index){props.onRelease==null?void 0:props.onRelease(index);});var onDragEnd=(0,_useStableCallback.useStableCallback)(function(_ref3){var from=_ref3.from,to=_ref3.to;var onDragEnd=props.onDragEnd,data=props.data;var newData=(0,_toConsumableArray2.default)(data);if(from!==to){newData.splice(from,1);newData.splice(to,0,data[from]);}onDragEnd==null?void 0:onDragEnd({from:from,to:to,data:newData});reset();});var onPlaceholderIndexChange=(0,_useStableCallback.useStableCallback)(function(index){props.onPlaceholderIndexChange==null?void 0:props.onPlaceholderIndexChange(index);});(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return isTouchActiveNative.value;};_f._closure={isTouchActiveNative:isTouchActiveNative};_f.asString="function _f(){const{isTouchActiveNative}=jsThis._closure;{return isTouchActiveNative.value;}}";_f.__workletHash=14702024657843;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx (234:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur!==prev&&!cur){var hasMoved=!!touchTranslate.value;if(!hasMoved&&activeIndexAnim.value>=0&&!disabled.value){(0,_reactNativeReanimated.runOnJS)(onRelease)(activeIndexAnim.value);(0,_reactNativeReanimated.runOnJS)(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});}}};_f._closure={touchTranslate:touchTranslate,activeIndexAnim:activeIndexAnim,disabled:disabled,runOnJS:_reactNativeReanimated.runOnJS,onRelease:onRelease,onDragEnd:onDragEnd,spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(cur,prev){const{touchTranslate,activeIndexAnim,disabled,runOnJS,onRelease,onDragEnd,spacerIndexAnim}=jsThis._closure;{if(cur!==prev&&!cur){const hasMoved=!!touchTranslate.value;if(!hasMoved&&activeIndexAnim.value>=0&&!disabled.value){runOnJS(onRelease)(activeIndexAnim.value);runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});}}}}";_f.__workletHash=5951241873481;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx (237:4)";return _f;}(),[isTouchActiveNative,onDragEnd,onRelease]);(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return spacerIndexAnim.value;};_f._closure={spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(){const{spacerIndexAnim}=jsThis._closure;{return spacerIndexAnim.value;}}";_f.__workletHash=2960108028947;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx (253:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(prev!==null&&cur!==prev&&cur>=0&&prev>=0){(0,_reactNativeReanimated.runOnJS)(onPlaceholderIndexChange)(cur);}};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onPlaceholderIndexChange:onPlaceholderIndexChange};_f.asString="function _f(cur,prev){const{runOnJS,onPlaceholderIndexChange}=jsThis._closure;{if(prev!==null&&cur!==prev&&cur>=0&&prev>=0){runOnJS(onPlaceholderIndexChange)(cur);}}}";_f.__workletHash=16965253726735;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx (256:4)";return _f;}(),[spacerIndexAnim]);var gestureDisabled=(0,_reactNativeReanimated.useSharedValue)(false);var panGesture=_reactNativeGestureHandler.Gesture.Pan().onBegin(function(){var _f=function _f(evt){gestureDisabled.value=disabled.value;if(gestureDisabled.value)return;panGestureState.value=evt.state;};_f._closure={gestureDisabled:gestureDisabled,disabled:disabled,panGestureState:panGestureState};_f.asString="function _f(evt){const{gestureDisabled,disabled,panGestureState}=jsThis._closure;{gestureDisabled.value=disabled.value;if(gestureDisabled.value)return;panGestureState.value=evt.state;}}";_f.__workletHash=17574034116918;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx (267:13)";return _f;}()).onUpdate(function(){var _f=function _f(evt){if(gestureDisabled.value)return;panGestureState.value=evt.state;var translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation;};_f._closure={gestureDisabled:gestureDisabled,panGestureState:panGestureState,horizontalAnim:horizontalAnim,touchTranslate:touchTranslate};_f.asString="function _f(evt){const{gestureDisabled,panGestureState,horizontalAnim,touchTranslate}=jsThis._closure;{if(gestureDisabled.value)return;panGestureState.value=evt.state;const translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation;}}";_f.__workletHash=5455568984874;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx (272:14)";return _f;}()).onEnd(function(){var _f=function _f(evt){if(gestureDisabled.value)return;isTouchActiveNative.value=false;var translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation+autoScrollDistance.value;panGestureState.value=evt.state;if(activeIndexAnim.value===-1||disabled.value)return;disabled.value=true;(0,_reactNativeReanimated.runOnJS)(onRelease)(activeIndexAnim.value);var springTo=placeholderOffset.value-activeCellOffset.value;touchTranslate.value=(0,_reactNativeReanimated.withSpring)(springTo,animationConfigRef.value,function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onDragEnd:onDragEnd,activeIndexAnim:activeIndexAnim,spacerIndexAnim:spacerIndexAnim,disabled:disabled};_f.asString="function _f(){const{runOnJS,onDragEnd,activeIndexAnim,spacerIndexAnim,disabled}=jsThis._closure;{runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;}}";_f.__workletHash=1618704508901;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx (299:8)";return _f;}());};_f._closure={gestureDisabled:gestureDisabled,isTouchActiveNative:isTouchActiveNative,horizontalAnim:horizontalAnim,touchTranslate:touchTranslate,autoScrollDistance:autoScrollDistance,panGestureState:panGestureState,activeIndexAnim:activeIndexAnim,disabled:disabled,runOnJS:_reactNativeReanimated.runOnJS,onRelease:onRelease,placeholderOffset:placeholderOffset,activeCellOffset:activeCellOffset,withSpring:_reactNativeReanimated.withSpring,animationConfigRef:animationConfigRef,onDragEnd:onDragEnd,spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(evt){const{gestureDisabled,isTouchActiveNative,horizontalAnim,touchTranslate,autoScrollDistance,panGestureState,activeIndexAnim,disabled,runOnJS,onRelease,placeholderOffset,activeCellOffset,withSpring,animationConfigRef,onDragEnd,spacerIndexAnim}=jsThis._closure;{if(gestureDisabled.value)return;isTouchActiveNative.value=false;const translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation+autoScrollDistance.value;panGestureState.value=evt.state;if(activeIndexAnim.value===-1||disabled.value)return;disabled.value=true;runOnJS(onRelease)(activeIndexAnim.value);const springTo=placeholderOffset.value-activeCellOffset.value;touchTranslate.value=withSpring(springTo,animationConfigRef.value,function(){runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;});}}";_f.__workletHash=7842863214419;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx (280:11)";return _f;}()).onTouchesDown(function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onContainerTouchStart)();};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onContainerTouchStart:onContainerTouchStart};_f.asString="function _f(){const{runOnJS,onContainerTouchStart}=jsThis._closure;{runOnJS(onContainerTouchStart)();}}";_f.__workletHash=4756906064016;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx (308:19)";return _f;}()).onTouchesUp(function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onContainerTouchEnd)();};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onContainerTouchEnd:onContainerTouchEnd};_f.asString="function _f(){const{runOnJS,onContainerTouchEnd}=jsThis._closure;{runOnJS(onContainerTouchEnd)();}}";_f.__workletHash=9596402198608;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx (311:17)";return _f;}());if(dragHitSlop)panGesture.hitSlop(dragHitSlop);if(activationDistanceProp){var activeOffset=[-activationDistanceProp,activationDistanceProp];if(props.horizontal){panGesture.activeOffsetX(activeOffset);}else{panGesture.activeOffsetY(activeOffset);}}var onScroll=(0,_useStableCallback.useStableCallback)(function(scrollOffset){props.onScrollOffsetChange==null?void 0:props.onScrollOffsetChange(scrollOffset);});var scrollHandler=(0,_reactNativeReanimated.useAnimatedScrollHandler)({onScroll:function(){var _f=function _f(evt){scrollOffset.value=horizontalAnim.value?evt.contentOffset.x:evt.contentOffset.y;(0,_reactNativeReanimated.runOnJS)(onScroll)(scrollOffset.value);};_f._closure={scrollOffset:scrollOffset,horizontalAnim:horizontalAnim,runOnJS:_reactNativeReanimated.runOnJS,onScroll:onScroll};_f.asString="function _f(evt){const{scrollOffset,horizontalAnim,runOnJS,onScroll}=jsThis._closure;{scrollOffset.value=horizontalAnim.value?evt.contentOffset.x:evt.contentOffset.y;runOnJS(onScroll)(scrollOffset.value);}}";_f.__workletHash=5653789960368;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\DraggableFlatList.tsx (333:16)";return _f;}()},[horizontalAnim]);(0,_useAutoScroll.useAutoScroll)();var onViewableItemsChanged=(0,_useStableCallback.useStableCallback)(function(info){var viewableIndices=info.viewableItems.filter(function(item){return item.isViewable;}).map(function(item){return item.index;}).filter(function(index){return typeof index==="number";});var min=Math.min.apply(Math,(0,_toConsumableArray2.default)(viewableIndices));var max=Math.max.apply(Math,(0,_toConsumableArray2.default)(viewableIndices));viewableIndexMin.value=min;viewableIndexMax.value=max;props.onViewableItemsChanged==null?void 0:props.onViewableItemsChanged(info);});return _react.default.createElement(_draggableFlatListContext.default,{activeKey:activeKey,keyExtractor:keyExtractor,horizontal:!!props.horizontal,layoutAnimationDisabled:layoutAnimationDisabled,__self:this,__source:{fileName:_jsxFileName,lineNumber:361,columnNumber:5}},_react.default.createElement(_reactNativeGestureHandler.GestureDetector,{gesture:panGesture,__self:this,__source:{fileName:_jsxFileName,lineNumber:367,columnNumber:7}},_react.default.createElement(_reactNativeReanimated.default.View,{style:props.containerStyle,ref:containerRef,onLayout:onContainerLayout,__self:this,__source:{fileName:_jsxFileName,lineNumber:368,columnNumber:9}},props.renderPlaceholder&&_react.default.createElement(_PlaceholderItem.default,{renderPlaceholder:props.renderPlaceholder,__self:this,__source:{fileName:_jsxFileName,lineNumber:374,columnNumber:13}}),_react.default.createElement(AnimatedFlatList,(0,_extends2.default)({},props,{data:props.data,onViewableItemsChanged:onViewableItemsChanged,CellRendererComponent:_CellRendererComponent.default,ref:flatlistRef,onContentSizeChange:onListContentSizeChange,scrollEnabled:!activeKey&&scrollEnabled,renderItem:renderItem,extraData:extraData,keyExtractor:keyExtractor,onScroll:scrollHandler,scrollEventThrottle:16,simultaneousHandlers:props.simultaneousHandlers,removeClippedSubviews:false,__self:this,__source:{fileName:_jsxFileName,lineNumber:376,columnNumber:11}})),!!props.onScrollOffsetChange&&_react.default.createElement(_ScrollOffsetListener.default,{onScrollOffsetChange:props.onScrollOffsetChange,scrollOffset:scrollOffset,__self:this,__source:{fileName:_jsxFileName,lineNumber:393,columnNumber:13}}))));}function DraggableFlatList(props,ref){return _react.default.createElement(_propsContext.default,(0,_extends2.default)({},props,{__self:this,__source:{fileName:_jsxFileName,lineNumber:409,columnNumber:5}}),_react.default.createElement(_animatedValueContext.default,{__self:this,__source:{fileName:_jsxFileName,lineNumber:410,columnNumber:7}},_react.default.createElement(_refContext.default,{flatListRef:ref,__self:this,__source:{fileName:_jsxFileName,lineNumber:411,columnNumber:9}},_react.default.createElement(MemoizedInner,(0,_extends2.default)({},props,{__self:this,__source:{fileName:_jsxFileName,lineNumber:412,columnNumber:11}})))));}var MemoizedInner=(0,_utils.typedMemo)(DraggableFlatListInner);var _default=exports.default=_react.default.forwardRef(DraggableFlatList);
 //# sourceMappingURL=DraggableFlatList.js.map
\ No newline at end of file
diff --git a/lib/commonjs/components/DraggableFlatList.js.map b/lib/commonjs/components/DraggableFlatList.js.map
index 2334104cb82ce7da842dae34a122d5fda528bdb6..ce0e5e3d8e64c1daca6d3d31f01f729ef18a8677 100644
--- a/lib/commonjs/components/DraggableFlatList.js.map
+++ b/lib/commonjs/components/DraggableFlatList.js.map
@@ -1 +1 @@
-{"version":3,"names":["AnimatedFlatList","Animated","createAnimatedComponent","FlatList","DraggableFlatListInner","props","useRefs","cellDataRef","containerRef","flatlistRef","keyToIndexRef","propsRef","animationConfigRef","useAnimatedValues","activeCellOffset","activeCellSize","activeIndexAnim","containerSize","scrollOffset","scrollViewSize","spacerIndexAnim","horizontalAnim","placeholderOffset","touchTranslate","autoScrollDistance","panGestureState","isTouchActiveNative","viewableIndexMin","viewableIndexMax","disabled","reset","useStableCallback","value","setActiveKey","dragHitSlop","DEFAULT_PROPS","scrollEnabled","activationDistance","activationDistanceProp","useState","activeKey","current","enableLayoutAnimationExperimental","layoutAnimationDisabled","setLayoutAnimationDisabled","keyExtractor","item","index","Error","dataRef","useRef","data","dataHasChanged","map","join","useEffect","setTimeout","useLayoutEffect","forEach","d","i","key","set","drag","get","cellData","measurements","offset","size","onDragBegin","undefined","onContainerLayout","layout","nativeEvent","width","height","horizontal","onListContentSizeChange","w","h","onContentSizeChange","onContainerTouchStart","onContainerTouchEnd","extraData","useMemo","renderItem","useCallback","onRelease","onDragEnd","from","to","newData","splice","onPlaceholderIndexChange","useAnimatedReaction","cur","prev","hasMoved","runOnJS","gestureDisabled","useSharedValue","panGesture","Gesture","Pan","onBegin","evt","state","onUpdate","translation","translationX","translationY","onEnd","springTo","withSpring","onTouchesDown","onTouchesUp","hitSlop","activeOffset","activeOffsetX","activeOffsetY","onScroll","onScrollOffsetChange","scrollHandler","useAnimatedScrollHandler","contentOffset","x","y","useAutoScroll","onViewableItemsChanged","info","viewableIndices","viewableItems","filter","isViewable","min","Math","max","containerStyle","renderPlaceholder","CellRendererComponent","simultaneousHandlers","DraggableFlatList","ref","MemoizedInner","typedMemo","React","forwardRef"],"sources":["DraggableFlatList.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { ListRenderItem, FlatListProps, LayoutChangeEvent } from \"react-native\";\nimport {\n  FlatList,\n  Gesture,\n  GestureDetector,\n} from \"react-native-gesture-handler\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedScrollHandler,\n  useSharedValue,\n  withSpring,\n} from \"react-native-reanimated\";\nimport CellRendererComponent from \"./CellRendererComponent\";\nimport { DEFAULT_PROPS, isWeb } from \"../constants\";\nimport PlaceholderItem from \"./PlaceholderItem\";\nimport RowItem from \"./RowItem\";\nimport { DraggableFlatListProps } from \"../types\";\nimport PropsProvider from \"../context/propsContext\";\nimport AnimatedValueProvider, {\n  useAnimatedValues,\n} from \"../context/animatedValueContext\";\nimport RefProvider, { useRefs } from \"../context/refContext\";\nimport DraggableFlatListProvider from \"../context/draggableFlatListContext\";\nimport { useAutoScroll } from \"../hooks/useAutoScroll\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport ScrollOffsetListener from \"./ScrollOffsetListener\";\nimport { typedMemo } from \"../utils\";\n\ntype RNGHFlatListProps<T> = Animated.AnimateProps<\n  FlatListProps<T> & {\n    ref: React.Ref<FlatList<T>>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n  }\n>;\n\ntype OnViewableItemsChangedCallback<T> = Exclude<\n  FlatListProps<T>[\"onViewableItemsChanged\"],\n  undefined | null\n>;\n\nconst AnimatedFlatList = (Animated.createAnimatedComponent(\n  FlatList\n) as unknown) as <T>(props: RNGHFlatListProps<T>) => React.ReactElement;\n\nfunction DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {\n  const {\n    cellDataRef,\n    containerRef,\n    flatlistRef,\n    keyToIndexRef,\n    propsRef,\n    animationConfigRef,\n  } = useRefs<T>();\n  const {\n    activeCellOffset,\n    activeCellSize,\n    activeIndexAnim,\n    containerSize,\n    scrollOffset,\n    scrollViewSize,\n    spacerIndexAnim,\n    horizontalAnim,\n    placeholderOffset,\n    touchTranslate,\n    autoScrollDistance,\n    panGestureState,\n    isTouchActiveNative,\n    viewableIndexMin,\n    viewableIndexMax,\n    disabled,\n  } = useAnimatedValues();\n\n  const reset = useStableCallback(() => {\n    activeIndexAnim.value = -1;\n    spacerIndexAnim.value = -1;\n    touchTranslate.value = 0;\n    activeCellSize.value = -1;\n    activeCellOffset.value = -1;\n    setActiveKey(null);\n  });\n\n  const {\n    dragHitSlop = DEFAULT_PROPS.dragHitSlop,\n    scrollEnabled = DEFAULT_PROPS.scrollEnabled,\n    activationDistance: activationDistanceProp = DEFAULT_PROPS.activationDistance,\n  } = props;\n\n  let [activeKey, setActiveKey] = useState<string | null>(null);\n  const [layoutAnimationDisabled, setLayoutAnimationDisabled] = useState(\n    !propsRef.current.enableLayoutAnimationExperimental\n  );\n\n  const keyExtractor = useStableCallback((item: T, index: number) => {\n    if (!props.keyExtractor) {\n      throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n    }\n    return props.keyExtractor(item, index);\n  });\n\n  const dataRef = useRef(props.data);\n  const dataHasChanged =\n    dataRef.current.map(keyExtractor).join(\"\") !==\n    props.data.map(keyExtractor).join(\"\");\n  dataRef.current = props.data;\n  if (dataHasChanged) {\n    // When data changes make sure `activeKey` is nulled out in the same render pass\n    activeKey = null;\n  }\n\n  useEffect(() => {\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    if (activeKey) {\n      setLayoutAnimationDisabled(true);\n    } else {\n      // setTimeout result of trial-and-error to determine how long to wait before\n      // re-enabling layout animations so that a drag reorder does not trigger it.\n      setTimeout(() => {\n        setLayoutAnimationDisabled(false);\n      }, 100);\n    }\n  }, [activeKey]);\n\n  useLayoutEffect(() => {\n    props.data.forEach((d, i) => {\n      const key = keyExtractor(d, i);\n      keyToIndexRef.current.set(key, i);\n    });\n  }, [props.data, keyExtractor, keyToIndexRef]);\n\n  const drag = useStableCallback((activeKey: string) => {\n    if (disabled.value) return;\n    const index = keyToIndexRef.current.get(activeKey);\n    const cellData = cellDataRef.current.get(activeKey);\n    if (cellData) {\n      activeCellOffset.value = cellData.measurements.offset;\n      activeCellSize.value = cellData.measurements.size;\n    }\n\n    const { onDragBegin } = propsRef.current;\n    if (index !== undefined) {\n      spacerIndexAnim.value = index;\n      activeIndexAnim.value = index;\n      setActiveKey(activeKey);\n      onDragBegin?.(index);\n    }\n  });\n\n  const onContainerLayout = ({\n    nativeEvent: { layout },\n  }: LayoutChangeEvent) => {\n    const { width, height } = layout;\n    containerSize.value = props.horizontal ? width : height;\n    props.onContainerLayout?.({ layout, containerRef });\n  };\n\n  const onListContentSizeChange = (w: number, h: number) => {\n    scrollViewSize.value = props.horizontal ? w : h;\n    props.onContentSizeChange?.(w, h);\n  };\n\n  const onContainerTouchStart = () => {\n    if (!disabled.value) {\n      isTouchActiveNative.value = true;\n    }\n    return false;\n  };\n\n  const onContainerTouchEnd = () => {\n    isTouchActiveNative.value = false;\n  };\n\n  const extraData = useMemo(\n    () => ({\n      activeKey,\n      extraData: props.extraData,\n    }),\n    [activeKey, props.extraData]\n  );\n\n  const renderItem: ListRenderItem<T> = useCallback(\n    ({ item, index }) => {\n      const key = keyExtractor(item, index);\n      if (index !== keyToIndexRef.current.get(key)) {\n        keyToIndexRef.current.set(key, index);\n      }\n\n      return (\n        <RowItem\n          item={item}\n          itemKey={key}\n          renderItem={props.renderItem}\n          drag={drag}\n          extraData={props.extraData}\n        />\n      );\n    },\n    [props.renderItem, props.extraData, drag, keyExtractor]\n  );\n\n  const onRelease = useStableCallback((index: number) => {\n    props.onRelease?.(index);\n  });\n\n  const onDragEnd = useStableCallback(\n    ({ from, to }: { from: number; to: number }) => {\n      const { onDragEnd, data } = props;\n\n      const newData = [...data];\n      if (from !== to) {\n        newData.splice(from, 1);\n        newData.splice(to, 0, data[from]);\n      }\n\n      onDragEnd?.({ from, to, data: newData });\n      reset();\n    }\n  );\n\n  const onPlaceholderIndexChange = useStableCallback((index: number) => {\n    props.onPlaceholderIndexChange?.(index);\n  });\n\n  // Handle case where user ends drag without moving their finger.\n  useAnimatedReaction(\n    () => {\n      return isTouchActiveNative.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && !cur) {\n        const hasMoved = !!touchTranslate.value;\n        if (!hasMoved && activeIndexAnim.value >= 0 && !disabled.value) {\n          runOnJS(onRelease)(activeIndexAnim.value);\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n        }\n      }\n    },\n    [isTouchActiveNative, onDragEnd, onRelease]\n  );\n\n  useAnimatedReaction(\n    () => {\n      return spacerIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (prev !== null && cur !== prev && cur >= 0 && prev >= 0) {\n        runOnJS(onPlaceholderIndexChange)(cur);\n      }\n    },\n    [spacerIndexAnim]\n  );\n\n  const gestureDisabled = useSharedValue(false);\n\n  const panGesture = Gesture.Pan()\n    .onBegin((evt) => {\n      gestureDisabled.value = disabled.value;\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n    })\n    .onUpdate((evt) => {\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n      touchTranslate.value = translation;\n    })\n    .onEnd((evt) => {\n      if (gestureDisabled.value) return;\n      // Set touch val to current translate val\n      isTouchActiveNative.value = false;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n\n      touchTranslate.value = translation + autoScrollDistance.value;\n      panGestureState.value = evt.state;\n\n      // Only call onDragEnd if actually dragging a cell\n      if (activeIndexAnim.value === -1 || disabled.value) return;\n      disabled.value = true;\n      runOnJS(onRelease)(activeIndexAnim.value);\n      const springTo = placeholderOffset.value - activeCellOffset.value;\n      touchTranslate.value = withSpring(\n        springTo,\n        animationConfigRef.current,\n        () => {\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n          disabled.value = false;\n        }\n      );\n    })\n    .onTouchesDown(() => {\n      runOnJS(onContainerTouchStart)();\n    })\n    .onTouchesUp(() => {\n      // Turning this into a worklet causes timing issues. We want it to run\n      // just after the finger lifts.\n      runOnJS(onContainerTouchEnd)();\n    });\n\n  if (dragHitSlop) panGesture.hitSlop(dragHitSlop);\n  if (activationDistanceProp) {\n    const activeOffset = [-activationDistanceProp, activationDistanceProp];\n    if (props.horizontal) {\n      panGesture.activeOffsetX(activeOffset);\n    } else {\n      panGesture.activeOffsetY(activeOffset);\n    }\n  }\n\n  const onScroll = useStableCallback((scrollOffset: number) => {\n    props.onScrollOffsetChange?.(scrollOffset);\n  });\n\n  const scrollHandler = useAnimatedScrollHandler(\n    {\n      onScroll: (evt) => {\n        scrollOffset.value = horizontalAnim.value\n          ? evt.contentOffset.x\n          : evt.contentOffset.y;\n        runOnJS(onScroll)(scrollOffset.value);\n      },\n    },\n    [horizontalAnim]\n  );\n\n  useAutoScroll();\n\n  const onViewableItemsChanged = useStableCallback<\n    OnViewableItemsChangedCallback<T>\n  >((info) => {\n    const viewableIndices = info.viewableItems\n      .filter((item) => item.isViewable)\n      .map((item) => item.index)\n      .filter((index): index is number => typeof index === \"number\");\n\n    const min = Math.min(...viewableIndices);\n    const max = Math.max(...viewableIndices);\n    viewableIndexMin.value = min;\n    viewableIndexMax.value = max;\n    props.onViewableItemsChanged?.(info);\n  });\n\n  return (\n    <DraggableFlatListProvider\n      activeKey={activeKey}\n      keyExtractor={keyExtractor}\n      horizontal={!!props.horizontal}\n      layoutAnimationDisabled={layoutAnimationDisabled}\n    >\n      <GestureDetector gesture={panGesture}>\n        <Animated.View\n          style={props.containerStyle}\n          ref={containerRef}\n          onLayout={onContainerLayout}\n        >\n          {props.renderPlaceholder && (\n            <PlaceholderItem renderPlaceholder={props.renderPlaceholder} />\n          )}\n          <AnimatedFlatList\n            {...props}\n            data={props.data}\n            onViewableItemsChanged={onViewableItemsChanged}\n            CellRendererComponent={CellRendererComponent}\n            ref={flatlistRef}\n            onContentSizeChange={onListContentSizeChange}\n            scrollEnabled={!activeKey && scrollEnabled}\n            renderItem={renderItem}\n            extraData={extraData}\n            keyExtractor={keyExtractor}\n            onScroll={scrollHandler}\n            scrollEventThrottle={16}\n            simultaneousHandlers={props.simultaneousHandlers}\n            removeClippedSubviews={false}\n          />\n          {!!props.onScrollOffsetChange && (\n            <ScrollOffsetListener\n              onScrollOffsetChange={props.onScrollOffsetChange}\n              scrollOffset={scrollOffset}\n            />\n          )}\n        </Animated.View>\n      </GestureDetector>\n    </DraggableFlatListProvider>\n  );\n}\n\nfunction DraggableFlatList<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>> | null\n) {\n  return (\n    <PropsProvider {...props}>\n      <AnimatedValueProvider>\n        <RefProvider flatListRef={ref}>\n          <MemoizedInner {...props} />\n        </RefProvider>\n      </AnimatedValueProvider>\n    </PropsProvider>\n  );\n}\n\nconst MemoizedInner = typedMemo(DraggableFlatListInner);\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport default React.forwardRef(DraggableFlatList) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof DraggableFlatList>;\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNativeGestureHandler","_reactNativeReanimated","_CellRendererComponent","_interopRequireDefault","_constants","_PlaceholderItem","_RowItem","_propsContext","_animatedValueContext","_refContext","_draggableFlatListContext","_useAutoScroll","_useStableCallback","_ScrollOffsetListener","_utils","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AnimatedFlatList","Animated","createAnimatedComponent","FlatList","DraggableFlatListInner","props","_this","_useRefs","useRefs","cellDataRef","containerRef","flatlistRef","keyToIndexRef","propsRef","animationConfigRef","_useAnimatedValues","useAnimatedValues","activeCellOffset","activeCellSize","activeIndexAnim","containerSize","scrollOffset","scrollViewSize","spacerIndexAnim","horizontalAnim","placeholderOffset","touchTranslate","autoScrollDistance","panGestureState","isTouchActiveNative","viewableIndexMin","viewableIndexMax","disabled","reset","useStableCallback","value","setActiveKey","_props$dragHitSlop","dragHitSlop","DEFAULT_PROPS","_props$scrollEnabled","scrollEnabled","_props$activationDist","activationDistance","activationDistanceProp","_useState","useState","_useState2","_slicedToArray2","activeKey","_useState3","current","enableLayoutAnimationExperimental","_useState4","layoutAnimationDisabled","setLayoutAnimationDisabled","keyExtractor","item","index","Error","dataRef","useRef","data","dataHasChanged","map","join","useEffect","setTimeout","useLayoutEffect","forEach","d","key","drag","cellData","measurements","offset","size","onDragBegin","undefined","onContainerLayout","_ref","layout","nativeEvent","width","height","horizontal","onListContentSizeChange","w","h","onContentSizeChange","onContainerTouchStart","onContainerTouchEnd","extraData","useMemo","renderItem","useCallback","_ref2","createElement","itemKey","__self","__source","fileName","lineNumber","columnNumber","onRelease","onDragEnd","_ref3","from","to","newData","_toConsumableArray2","splice","onPlaceholderIndexChange","useAnimatedReaction","_f","_closure","asString","__workletHash","__location","cur","prev","hasMoved","runOnJS","gestureDisabled","useSharedValue","panGesture","Gesture","Pan","onBegin","evt","state","onUpdate","translation","translationX","translationY","onEnd","springTo","withSpring","onTouchesDown","onTouchesUp","hitSlop","activeOffset","activeOffsetX","activeOffsetY","onScroll","onScrollOffsetChange","scrollHandler","useAnimatedScrollHandler","contentOffset","x","y","useAutoScroll","onViewableItemsChanged","info","viewableIndices","viewableItems","filter","isViewable","min","Math","apply","max","GestureDetector","gesture","View","style","containerStyle","ref","onLayout","renderPlaceholder","_extends2","CellRendererComponent","scrollEventThrottle","simultaneousHandlers","removeClippedSubviews","DraggableFlatList","flatListRef","MemoizedInner","typedMemo","_default","exports","React","forwardRef"],"sources":["DraggableFlatList.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { ListRenderItem, FlatListProps, LayoutChangeEvent } from \"react-native\";\nimport {\n  FlatList,\n  Gesture,\n  GestureDetector,\n} from \"react-native-gesture-handler\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedScrollHandler,\n  useSharedValue,\n  withSpring,\n} from \"react-native-reanimated\";\nimport CellRendererComponent from \"./CellRendererComponent\";\nimport { DEFAULT_PROPS, isWeb } from \"../constants\";\nimport PlaceholderItem from \"./PlaceholderItem\";\nimport RowItem from \"./RowItem\";\nimport { DraggableFlatListProps } from \"../types\";\nimport PropsProvider from \"../context/propsContext\";\nimport AnimatedValueProvider, {\n  useAnimatedValues,\n} from \"../context/animatedValueContext\";\nimport RefProvider, { useRefs } from \"../context/refContext\";\nimport DraggableFlatListProvider from \"../context/draggableFlatListContext\";\nimport { useAutoScroll } from \"../hooks/useAutoScroll\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport ScrollOffsetListener from \"./ScrollOffsetListener\";\nimport { typedMemo } from \"../utils\";\n\ntype RNGHFlatListProps<T> = Animated.AnimateProps<\n  FlatListProps<T> & {\n    ref: React.Ref<FlatList<T>>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n  }\n>;\n\ntype OnViewableItemsChangedCallback<T> = Exclude<\n  FlatListProps<T>[\"onViewableItemsChanged\"],\n  undefined | null\n>;\n\nconst AnimatedFlatList = (Animated.createAnimatedComponent(\n  FlatList\n) as unknown) as <T>(props: RNGHFlatListProps<T>) => React.ReactElement;\n\nfunction DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {\n  const {\n    cellDataRef,\n    containerRef,\n    flatlistRef,\n    keyToIndexRef,\n    propsRef,\n    animationConfigRef,\n  } = useRefs<T>();\n  const {\n    activeCellOffset,\n    activeCellSize,\n    activeIndexAnim,\n    containerSize,\n    scrollOffset,\n    scrollViewSize,\n    spacerIndexAnim,\n    horizontalAnim,\n    placeholderOffset,\n    touchTranslate,\n    autoScrollDistance,\n    panGestureState,\n    isTouchActiveNative,\n    viewableIndexMin,\n    viewableIndexMax,\n    disabled,\n  } = useAnimatedValues();\n\n  const reset = useStableCallback(() => {\n    activeIndexAnim.value = -1;\n    spacerIndexAnim.value = -1;\n    touchTranslate.value = 0;\n    activeCellSize.value = -1;\n    activeCellOffset.value = -1;\n    setActiveKey(null);\n  });\n\n  const {\n    dragHitSlop = DEFAULT_PROPS.dragHitSlop,\n    scrollEnabled = DEFAULT_PROPS.scrollEnabled,\n    activationDistance: activationDistanceProp = DEFAULT_PROPS.activationDistance,\n  } = props;\n\n  let [activeKey, setActiveKey] = useState<string | null>(null);\n  const [layoutAnimationDisabled, setLayoutAnimationDisabled] = useState(\n    !propsRef.current.enableLayoutAnimationExperimental\n  );\n\n  const keyExtractor = useStableCallback((item: T, index: number) => {\n    if (!props.keyExtractor) {\n      throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n    }\n    return props.keyExtractor(item, index);\n  });\n\n  const dataRef = useRef(props.data);\n  const dataHasChanged =\n    dataRef.current.map(keyExtractor).join(\"\") !==\n    props.data.map(keyExtractor).join(\"\");\n  dataRef.current = props.data;\n  if (dataHasChanged) {\n    // When data changes make sure `activeKey` is nulled out in the same render pass\n    activeKey = null;\n  }\n\n  useEffect(() => {\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    if (activeKey) {\n      setLayoutAnimationDisabled(true);\n    } else {\n      // setTimeout result of trial-and-error to determine how long to wait before\n      // re-enabling layout animations so that a drag reorder does not trigger it.\n      setTimeout(() => {\n        setLayoutAnimationDisabled(false);\n      }, 100);\n    }\n  }, [activeKey]);\n\n  useLayoutEffect(() => {\n    props.data.forEach((d, i) => {\n      const key = keyExtractor(d, i);\n      keyToIndexRef.current.set(key, i);\n    });\n  }, [props.data, keyExtractor, keyToIndexRef]);\n\n  const drag = useStableCallback((activeKey: string) => {\n    if (disabled.value) return;\n    const index = keyToIndexRef.current.get(activeKey);\n    const cellData = cellDataRef.current.get(activeKey);\n    if (cellData) {\n      activeCellOffset.value = cellData.measurements.offset;\n      activeCellSize.value = cellData.measurements.size;\n    }\n\n    const { onDragBegin } = propsRef.current;\n    if (index !== undefined) {\n      spacerIndexAnim.value = index;\n      activeIndexAnim.value = index;\n      setActiveKey(activeKey);\n      onDragBegin?.(index);\n    }\n  });\n\n  const onContainerLayout = ({\n    nativeEvent: { layout },\n  }: LayoutChangeEvent) => {\n    const { width, height } = layout;\n    containerSize.value = props.horizontal ? width : height;\n    props.onContainerLayout?.({ layout, containerRef });\n  };\n\n  const onListContentSizeChange = (w: number, h: number) => {\n    scrollViewSize.value = props.horizontal ? w : h;\n    props.onContentSizeChange?.(w, h);\n  };\n\n  const onContainerTouchStart = () => {\n    if (!disabled.value) {\n      isTouchActiveNative.value = true;\n    }\n    return false;\n  };\n\n  const onContainerTouchEnd = () => {\n    isTouchActiveNative.value = false;\n  };\n\n  const extraData = useMemo(\n    () => ({\n      activeKey,\n      extraData: props.extraData,\n    }),\n    [activeKey, props.extraData]\n  );\n\n  const renderItem: ListRenderItem<T> = useCallback(\n    ({ item, index }) => {\n      const key = keyExtractor(item, index);\n      if (index !== keyToIndexRef.current.get(key)) {\n        keyToIndexRef.current.set(key, index);\n      }\n\n      return (\n        <RowItem\n          item={item}\n          itemKey={key}\n          renderItem={props.renderItem}\n          drag={drag}\n          extraData={props.extraData}\n        />\n      );\n    },\n    [props.renderItem, props.extraData, drag, keyExtractor]\n  );\n\n  const onRelease = useStableCallback((index: number) => {\n    props.onRelease?.(index);\n  });\n\n  const onDragEnd = useStableCallback(\n    ({ from, to }: { from: number; to: number }) => {\n      const { onDragEnd, data } = props;\n\n      const newData = [...data];\n      if (from !== to) {\n        newData.splice(from, 1);\n        newData.splice(to, 0, data[from]);\n      }\n\n      onDragEnd?.({ from, to, data: newData });\n      reset();\n    }\n  );\n\n  const onPlaceholderIndexChange = useStableCallback((index: number) => {\n    props.onPlaceholderIndexChange?.(index);\n  });\n\n  // Handle case where user ends drag without moving their finger.\n  useAnimatedReaction(\n    () => {\n      return isTouchActiveNative.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && !cur) {\n        const hasMoved = !!touchTranslate.value;\n        if (!hasMoved && activeIndexAnim.value >= 0 && !disabled.value) {\n          runOnJS(onRelease)(activeIndexAnim.value);\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n        }\n      }\n    },\n    [isTouchActiveNative, onDragEnd, onRelease]\n  );\n\n  useAnimatedReaction(\n    () => {\n      return spacerIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (prev !== null && cur !== prev && cur >= 0 && prev >= 0) {\n        runOnJS(onPlaceholderIndexChange)(cur);\n      }\n    },\n    [spacerIndexAnim]\n  );\n\n  const gestureDisabled = useSharedValue(false);\n\n  const panGesture = Gesture.Pan()\n    .onBegin((evt) => {\n      gestureDisabled.value = disabled.value;\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n    })\n    .onUpdate((evt) => {\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n      touchTranslate.value = translation;\n    })\n    .onEnd((evt) => {\n      if (gestureDisabled.value) return;\n      // Set touch val to current translate val\n      isTouchActiveNative.value = false;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n\n      touchTranslate.value = translation + autoScrollDistance.value;\n      panGestureState.value = evt.state;\n\n      // Only call onDragEnd if actually dragging a cell\n      if (activeIndexAnim.value === -1 || disabled.value) return;\n      disabled.value = true;\n      runOnJS(onRelease)(activeIndexAnim.value);\n      const springTo = placeholderOffset.value - activeCellOffset.value;\n      touchTranslate.value = withSpring(\n        springTo,\n        animationConfigRef.value,\n        () => {\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n          disabled.value = false;\n        }\n      );\n    })\n    .onTouchesDown(() => {\n      runOnJS(onContainerTouchStart)();\n    })\n    .onTouchesUp(() => {\n      // Turning this into a worklet causes timing issues. We want it to run\n      // just after the finger lifts.\n      runOnJS(onContainerTouchEnd)();\n    });\n\n  if (dragHitSlop) panGesture.hitSlop(dragHitSlop);\n  if (activationDistanceProp) {\n    const activeOffset = [-activationDistanceProp, activationDistanceProp];\n    if (props.horizontal) {\n      panGesture.activeOffsetX(activeOffset);\n    } else {\n      panGesture.activeOffsetY(activeOffset);\n    }\n  }\n\n  const onScroll = useStableCallback((scrollOffset: number) => {\n    props.onScrollOffsetChange?.(scrollOffset);\n  });\n\n  const scrollHandler = useAnimatedScrollHandler(\n    {\n      onScroll: (evt) => {\n        scrollOffset.value = horizontalAnim.value\n          ? evt.contentOffset.x\n          : evt.contentOffset.y;\n        runOnJS(onScroll)(scrollOffset.value);\n      },\n    },\n    [horizontalAnim]\n  );\n\n  useAutoScroll();\n\n  const onViewableItemsChanged = useStableCallback<\n    OnViewableItemsChangedCallback<T>\n  >((info) => {\n    const viewableIndices = info.viewableItems\n      .filter((item) => item.isViewable)\n      .map((item) => item.index)\n      .filter((index): index is number => typeof index === \"number\");\n\n    const min = Math.min(...viewableIndices);\n    const max = Math.max(...viewableIndices);\n    viewableIndexMin.value = min;\n    viewableIndexMax.value = max;\n    props.onViewableItemsChanged?.(info);\n  });\n\n  return (\n    <DraggableFlatListProvider\n      activeKey={activeKey}\n      keyExtractor={keyExtractor}\n      horizontal={!!props.horizontal}\n      layoutAnimationDisabled={layoutAnimationDisabled}\n    >\n      <GestureDetector gesture={panGesture}>\n        <Animated.View\n          style={props.containerStyle}\n          ref={containerRef}\n          onLayout={onContainerLayout}\n        >\n          {props.renderPlaceholder && (\n            <PlaceholderItem renderPlaceholder={props.renderPlaceholder} />\n          )}\n          <AnimatedFlatList\n            {...props}\n            data={props.data}\n            onViewableItemsChanged={onViewableItemsChanged}\n            CellRendererComponent={CellRendererComponent}\n            ref={flatlistRef}\n            onContentSizeChange={onListContentSizeChange}\n            scrollEnabled={!activeKey && scrollEnabled}\n            renderItem={renderItem}\n            extraData={extraData}\n            keyExtractor={keyExtractor}\n            onScroll={scrollHandler}\n            scrollEventThrottle={16}\n            simultaneousHandlers={props.simultaneousHandlers}\n            removeClippedSubviews={false}\n          />\n          {!!props.onScrollOffsetChange && (\n            <ScrollOffsetListener\n              onScrollOffsetChange={props.onScrollOffsetChange}\n              scrollOffset={scrollOffset}\n            />\n          )}\n        </Animated.View>\n      </GestureDetector>\n    </DraggableFlatListProvider>\n  );\n}\n\nfunction DraggableFlatList<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>> | null\n) {\n  return (\n    <PropsProvider {...props}>\n      <AnimatedValueProvider>\n        <RefProvider flatListRef={ref}>\n          <MemoizedInner {...props} />\n        </RefProvider>\n      </AnimatedValueProvider>\n    </PropsProvider>\n  );\n}\n\nconst MemoizedInner = typedMemo(DraggableFlatListInner);\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport default React.forwardRef(DraggableFlatList) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof DraggableFlatList>;\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/components/NestableDraggableFlatList.js b/lib/commonjs/components/NestableDraggableFlatList.js
index d59756cb010da20b67c9a20972972059de996d41..e31bb1b0fa3a9c55388cee509da1ae5f93642c0d 100644
--- a/lib/commonjs/components/NestableDraggableFlatList.js
+++ b/lib/commonjs/components/NestableDraggableFlatList.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.NestableDraggableFlatList=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=require("react-native-reanimated");var _DraggableFlatList=_interopRequireDefault(require("../components/DraggableFlatList"));var _nestableScrollContainerContext=require("../context/nestableScrollContainerContext");var _useNestedAutoScroll=require("../hooks/useNestedAutoScroll");var _useStableCallback=require("../hooks/useStableCallback");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/NestableDraggableFlatList.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function NestableDraggableFlatListInner(props,ref){var hasSuppressedWarnings=(0,_react.useRef)(false);if(!hasSuppressedWarnings.current){_reactNative.LogBox.ignoreLogs(["VirtualizedLists should never be nested inside plain ScrollViews with the same orientation because it can break windowing"]);console.reportErrorsAsExceptions=false;hasSuppressedWarnings.current=true;}var _useSafeNestableScrol=(0,_nestableScrollContainerContext.useSafeNestableScrollContainerContext)(),scrollableRef=_useSafeNestableScrol.scrollableRef,outerScrollOffset=_useSafeNestableScrol.outerScrollOffset,setOuterScrollEnabled=_useSafeNestableScrol.setOuterScrollEnabled;var listVerticalOffset=(0,_reactNativeReanimated.useSharedValue)(0);var _useState=(0,_react.useState)({}),_useState2=(0,_slicedToArray2.default)(_useState,2),animVals=_useState2[0],setAnimVals=_useState2[1];var defaultHoverOffset=(0,_reactNativeReanimated.useSharedValue)(0);var _useState3=(0,_react.useState)(defaultHoverOffset),_useState4=(0,_slicedToArray2.default)(_useState3,2),listHoverOffset=_useState4[0],setListHoverOffset=_useState4[1];var hoverOffset=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return listHoverOffset.value+listVerticalOffset.value;};_f._closure={listHoverOffset:listHoverOffset,listVerticalOffset:listVerticalOffset};_f.asString="function _f(){const{listHoverOffset,listVerticalOffset}=jsThis._closure;{return listHoverOffset.value+listVerticalOffset.value;}}";_f.__workletHash=4066479402801;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/NestableDraggableFlatList.tsx (41:38)";return _f;}(),[listHoverOffset]);(0,_useNestedAutoScroll.useNestedAutoScroll)(Object.assign({},animVals,{hoverOffset:hoverOffset}));var onListContainerLayout=(0,_useStableCallback.useStableCallback)(function(){var _ref2=(0,_asyncToGenerator2.default)(function*(_ref){var containerRef=_ref.containerRef;var nodeHandle=(0,_reactNative.findNodeHandle)(scrollableRef.current);var onSuccess=function onSuccess(_x,y){listVerticalOffset.value=y;};var onFail=function onFail(){console.log("## nested draggable list measure fail");};containerRef.current.measureLayout(nodeHandle,onSuccess,onFail);});return function(_x2){return _ref2.apply(this,arguments);};}());var onDragBegin=(0,_useStableCallback.useStableCallback)(function(params){setOuterScrollEnabled(false);props.onDragBegin==null?void 0:props.onDragBegin(params);});var onDragEnd=(0,_useStableCallback.useStableCallback)(function(params){setOuterScrollEnabled(true);props.onDragEnd==null?void 0:props.onDragEnd(params);});var onAnimValInit=(0,_useStableCallback.useStableCallback)(function(params){setListHoverOffset(params.hoverOffset);setAnimVals(Object.assign({},params,{hoverOffset:hoverOffset}));props.onAnimValInit==null?void 0:props.onAnimValInit(params);});return _react.default.createElement(_DraggableFlatList.default,(0,_extends2.default)({ref:ref,onContainerLayout:onListContainerLayout,activationDistance:props.activationDistance||20,scrollEnabled:false},props,{outerScrollOffset:outerScrollOffset,onDragBegin:onDragBegin,onDragEnd:onDragEnd,onAnimValInit:onAnimValInit,__self:this,__source:{fileName:_jsxFileName,lineNumber:89,columnNumber:5}}));}var NestableDraggableFlatList=_react.default.forwardRef(NestableDraggableFlatListInner);exports.NestableDraggableFlatList=NestableDraggableFlatList;
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.NestableDraggableFlatList=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=require("react-native-reanimated");var _DraggableFlatList=_interopRequireDefault(require("../components/DraggableFlatList"));var _nestableScrollContainerContext=require("../context/nestableScrollContainerContext");var _useNestedAutoScroll=require("../hooks/useNestedAutoScroll");var _useStableCallback=require("../hooks/useStableCallback");var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\NestableDraggableFlatList.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}function NestableDraggableFlatListInner(props,ref){var hasSuppressedWarnings=(0,_react.useRef)(false);if(!hasSuppressedWarnings.current){_reactNative.LogBox.ignoreLogs(["VirtualizedLists should never be nested inside plain ScrollViews with the same orientation because it can break windowing"]);console.reportErrorsAsExceptions=false;hasSuppressedWarnings.current=true;}var _useSafeNestableScrol=(0,_nestableScrollContainerContext.useSafeNestableScrollContainerContext)(),scrollableRef=_useSafeNestableScrol.scrollableRef,outerScrollOffset=_useSafeNestableScrol.outerScrollOffset,setOuterScrollEnabled=_useSafeNestableScrol.setOuterScrollEnabled;var listVerticalOffset=(0,_reactNativeReanimated.useSharedValue)(0);var _useState=(0,_react.useState)({}),_useState2=(0,_slicedToArray2.default)(_useState,2),animVals=_useState2[0],setAnimVals=_useState2[1];var defaultHoverOffset=(0,_reactNativeReanimated.useSharedValue)(0);var _useState3=(0,_react.useState)(defaultHoverOffset),_useState4=(0,_slicedToArray2.default)(_useState3,2),listHoverOffset=_useState4[0],setListHoverOffset=_useState4[1];var hoverOffset=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return listHoverOffset.value+listVerticalOffset.value;};_f._closure={listHoverOffset:listHoverOffset,listVerticalOffset:listVerticalOffset};_f.asString="function _f(){const{listHoverOffset,listVerticalOffset}=jsThis._closure;{return listHoverOffset.value+listVerticalOffset.value;}}";_f.__workletHash=4066479402801;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\NestableDraggableFlatList.tsx (41:38)";return _f;}(),[listHoverOffset]);(0,_useNestedAutoScroll.useNestedAutoScroll)(Object.assign({},animVals,{hoverOffset:hoverOffset}));var onListContainerLayout=(0,_useStableCallback.useStableCallback)(function(){var _ref2=(0,_asyncToGenerator2.default)(function*(_ref){var containerRef=_ref.containerRef;var nodeHandle=(0,_reactNative.findNodeHandle)(scrollableRef.current);var onSuccess=function onSuccess(_x,y){listVerticalOffset.value=y;};var onFail=function onFail(){console.log("## nested draggable list measure fail");};containerRef.current.measureLayout(nodeHandle,onSuccess,onFail);});return function(_x2){return _ref2.apply(this,arguments);};}());var onDragBegin=(0,_useStableCallback.useStableCallback)(function(params){setOuterScrollEnabled(false);props.onDragBegin==null?void 0:props.onDragBegin(params);});var onDragEnd=(0,_useStableCallback.useStableCallback)(function(params){setOuterScrollEnabled(true);props.onDragEnd==null?void 0:props.onDragEnd(params);});var onAnimValInit=(0,_useStableCallback.useStableCallback)(function(params){setListHoverOffset(params.hoverOffset);setAnimVals(Object.assign({},params,{hoverOffset:hoverOffset}));props.onAnimValInit==null?void 0:props.onAnimValInit(params);});return _react.default.createElement(_DraggableFlatList.default,(0,_extends2.default)({ref:ref,onContainerLayout:onListContainerLayout,activationDistance:props.activationDistance||20,scrollEnabled:false},props,{outerScrollOffset:outerScrollOffset,onDragBegin:onDragBegin,onDragEnd:onDragEnd,onAnimValInit:onAnimValInit,__self:this,__source:{fileName:_jsxFileName,lineNumber:89,columnNumber:5}}));}var NestableDraggableFlatList=exports.NestableDraggableFlatList=_react.default.forwardRef(NestableDraggableFlatListInner);
 //# sourceMappingURL=NestableDraggableFlatList.js.map
\ No newline at end of file
diff --git a/lib/commonjs/components/NestableDraggableFlatList.js.map b/lib/commonjs/components/NestableDraggableFlatList.js.map
index 8b8c400552b6d5c64ba2cd7ded2440c814d93ad5..52b7282fd58e77ca02be49d0ab0a6f78947a73f5 100644
--- a/lib/commonjs/components/NestableDraggableFlatList.js.map
+++ b/lib/commonjs/components/NestableDraggableFlatList.js.map
@@ -1 +1 @@
-{"version":3,"names":["NestableDraggableFlatListInner","props","ref","hasSuppressedWarnings","useRef","current","LogBox","ignoreLogs","console","reportErrorsAsExceptions","useSafeNestableScrollContainerContext","scrollableRef","outerScrollOffset","setOuterScrollEnabled","listVerticalOffset","useSharedValue","useState","animVals","setAnimVals","defaultHoverOffset","listHoverOffset","setListHoverOffset","hoverOffset","useDerivedValue","value","useNestedAutoScroll","onListContainerLayout","useStableCallback","containerRef","nodeHandle","findNodeHandle","onSuccess","_x","y","onFail","log","measureLayout","onDragBegin","params","onDragEnd","onAnimValInit","activationDistance","NestableDraggableFlatList","React","forwardRef"],"sources":["NestableDraggableFlatList.tsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { findNodeHandle, LogBox } from \"react-native\";\nimport Animated, {\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { DraggableFlatListProps } from \"../types\";\nimport DraggableFlatList from \"../components/DraggableFlatList\";\nimport { useSafeNestableScrollContainerContext } from \"../context/nestableScrollContainerContext\";\nimport { useNestedAutoScroll } from \"../hooks/useNestedAutoScroll\";\nimport { typedMemo } from \"../utils\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport { FlatList } from \"react-native-gesture-handler\";\n\nfunction NestableDraggableFlatListInner<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>>\n) {\n  const hasSuppressedWarnings = useRef(false);\n\n  if (!hasSuppressedWarnings.current) {\n    LogBox.ignoreLogs([\n      \"VirtualizedLists should never be nested inside plain ScrollViews with the same orientation because it can break windowing\",\n    ]); // Ignore log notification by message\n    //@ts-ignore\n    console.reportErrorsAsExceptions = false;\n    hasSuppressedWarnings.current = true;\n  }\n\n  const {\n    scrollableRef,\n    outerScrollOffset,\n    setOuterScrollEnabled,\n  } = useSafeNestableScrollContainerContext();\n\n  const listVerticalOffset = useSharedValue(0);\n  const [animVals, setAnimVals] = useState({});\n  const defaultHoverOffset = useSharedValue(0);\n  const [listHoverOffset, setListHoverOffset] = useState(defaultHoverOffset);\n\n  const hoverOffset = useDerivedValue(() => {\n    return listHoverOffset.value + listVerticalOffset.value;\n  }, [listHoverOffset]);\n\n  useNestedAutoScroll({\n    ...animVals,\n    hoverOffset,\n  });\n\n  const onListContainerLayout = useStableCallback(async ({ containerRef }) => {\n    const nodeHandle = findNodeHandle(scrollableRef.current);\n\n    const onSuccess = (_x: number, y: number) => {\n      listVerticalOffset.value = y;\n    };\n    const onFail = () => {\n      console.log(\"## nested draggable list measure fail\");\n    };\n    //@ts-ignore\n    containerRef.current.measureLayout(nodeHandle, onSuccess, onFail);\n  });\n\n  const onDragBegin: DraggableFlatListProps<T>[\"onDragBegin\"] = useStableCallback(\n    (params) => {\n      setOuterScrollEnabled(false);\n      props.onDragBegin?.(params);\n    }\n  );\n\n  const onDragEnd: DraggableFlatListProps<T>[\"onDragEnd\"] = useStableCallback(\n    (params) => {\n      setOuterScrollEnabled(true);\n      props.onDragEnd?.(params);\n    }\n  );\n\n  const onAnimValInit: DraggableFlatListProps<T>[\"onAnimValInit\"] = useStableCallback(\n    (params) => {\n      setListHoverOffset(params.hoverOffset);\n      setAnimVals({\n        ...params,\n        hoverOffset,\n      });\n      props.onAnimValInit?.(params);\n    }\n  );\n\n  return (\n    <DraggableFlatList\n      ref={ref}\n      onContainerLayout={onListContainerLayout}\n      activationDistance={props.activationDistance || 20}\n      scrollEnabled={false}\n      {...props}\n      outerScrollOffset={outerScrollOffset}\n      onDragBegin={onDragBegin}\n      onDragEnd={onDragEnd}\n      onAnimValInit={onAnimValInit}\n    />\n  );\n}\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport const NestableDraggableFlatList = React.forwardRef(\n  NestableDraggableFlatListInner\n) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof NestableDraggableFlatListInner>;\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeReanimated","_DraggableFlatList","_interopRequireDefault","_nestableScrollContainerContext","_useNestedAutoScroll","_useStableCallback","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","NestableDraggableFlatListInner","props","ref","hasSuppressedWarnings","useRef","current","LogBox","ignoreLogs","console","reportErrorsAsExceptions","_useSafeNestableScrol","useSafeNestableScrollContainerContext","scrollableRef","outerScrollOffset","setOuterScrollEnabled","listVerticalOffset","useSharedValue","_useState","useState","_useState2","_slicedToArray2","animVals","setAnimVals","defaultHoverOffset","_useState3","_useState4","listHoverOffset","setListHoverOffset","hoverOffset","useDerivedValue","_f","value","_closure","asString","__workletHash","__location","useNestedAutoScroll","assign","onListContainerLayout","useStableCallback","_ref2","_asyncToGenerator2","_ref","containerRef","nodeHandle","findNodeHandle","onSuccess","_x","y","onFail","log","measureLayout","_x2","apply","arguments","onDragBegin","params","onDragEnd","onAnimValInit","createElement","_extends2","onContainerLayout","activationDistance","scrollEnabled","__self","__source","fileName","lineNumber","columnNumber","NestableDraggableFlatList","exports","React","forwardRef"],"sources":["NestableDraggableFlatList.tsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { findNodeHandle, LogBox } from \"react-native\";\nimport Animated, {\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { DraggableFlatListProps } from \"../types\";\nimport DraggableFlatList from \"../components/DraggableFlatList\";\nimport { useSafeNestableScrollContainerContext } from \"../context/nestableScrollContainerContext\";\nimport { useNestedAutoScroll } from \"../hooks/useNestedAutoScroll\";\nimport { typedMemo } from \"../utils\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport { FlatList } from \"react-native-gesture-handler\";\n\nfunction NestableDraggableFlatListInner<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>>\n) {\n  const hasSuppressedWarnings = useRef(false);\n\n  if (!hasSuppressedWarnings.current) {\n    LogBox.ignoreLogs([\n      \"VirtualizedLists should never be nested inside plain ScrollViews with the same orientation because it can break windowing\",\n    ]); // Ignore log notification by message\n    //@ts-ignore\n    console.reportErrorsAsExceptions = false;\n    hasSuppressedWarnings.current = true;\n  }\n\n  const {\n    scrollableRef,\n    outerScrollOffset,\n    setOuterScrollEnabled,\n  } = useSafeNestableScrollContainerContext();\n\n  const listVerticalOffset = useSharedValue(0);\n  const [animVals, setAnimVals] = useState({});\n  const defaultHoverOffset = useSharedValue(0);\n  const [listHoverOffset, setListHoverOffset] = useState(defaultHoverOffset);\n\n  const hoverOffset = useDerivedValue(() => {\n    return listHoverOffset.value + listVerticalOffset.value;\n  }, [listHoverOffset]);\n\n  useNestedAutoScroll({\n    ...animVals,\n    hoverOffset,\n  });\n\n  const onListContainerLayout = useStableCallback(async ({ containerRef }) => {\n    const nodeHandle = findNodeHandle(scrollableRef.current);\n\n    const onSuccess = (_x: number, y: number) => {\n      listVerticalOffset.value = y;\n    };\n    const onFail = () => {\n      console.log(\"## nested draggable list measure fail\");\n    };\n    //@ts-ignore\n    containerRef.current.measureLayout(nodeHandle, onSuccess, onFail);\n  });\n\n  const onDragBegin: DraggableFlatListProps<T>[\"onDragBegin\"] = useStableCallback(\n    (params) => {\n      setOuterScrollEnabled(false);\n      props.onDragBegin?.(params);\n    }\n  );\n\n  const onDragEnd: DraggableFlatListProps<T>[\"onDragEnd\"] = useStableCallback(\n    (params) => {\n      setOuterScrollEnabled(true);\n      props.onDragEnd?.(params);\n    }\n  );\n\n  const onAnimValInit: DraggableFlatListProps<T>[\"onAnimValInit\"] = useStableCallback(\n    (params) => {\n      setListHoverOffset(params.hoverOffset);\n      setAnimVals({\n        ...params,\n        hoverOffset,\n      });\n      props.onAnimValInit?.(params);\n    }\n  );\n\n  return (\n    <DraggableFlatList\n      ref={ref}\n      onContainerLayout={onListContainerLayout}\n      activationDistance={props.activationDistance || 20}\n      scrollEnabled={false}\n      {...props}\n      outerScrollOffset={outerScrollOffset}\n      onDragBegin={onDragBegin}\n      onDragEnd={onDragEnd}\n      onAnimValInit={onAnimValInit}\n    />\n  );\n}\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport const NestableDraggableFlatList = React.forwardRef(\n  NestableDraggableFlatListInner\n) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof NestableDraggableFlatListInner>;\n"],"mappings":"mcAAA,IAAAA,MAAA,CAAAC,uBAAA,CAAAC,OAAA,WACA,IAAAC,YAAA,CAAAD,OAAA,iBACA,IAAAE,sBAAA,CAAAF,OAAA,4BAKA,IAAAG,kBAAA,CAAAC,sBAAA,CAAAJ,OAAA,qCACA,IAAAK,+BAAA,CAAAL,OAAA,8CACA,IAAAM,oBAAA,CAAAN,OAAA,iCAEA,IAAAO,kBAAA,CAAAP,OAAA,+BAA+D,IAAAQ,YAAA,uHAAAC,yBAAAC,CAAA,wBAAAC,OAAA,iBAAAC,CAAA,KAAAD,OAAA,GAAAE,CAAA,KAAAF,OAAA,UAAAF,wBAAA,UAAAA,yBAAAC,CAAA,SAAAA,CAAA,CAAAG,CAAA,CAAAD,CAAA,IAAAF,CAAA,YAAAX,wBAAAW,CAAA,CAAAE,CAAA,MAAAA,CAAA,EAAAF,CAAA,EAAAA,CAAA,CAAAI,UAAA,QAAAJ,CAAA,WAAAA,CAAA,mBAAAA,CAAA,qBAAAA,CAAA,QAAAK,OAAA,CAAAL,CAAA,MAAAG,CAAA,CAAAJ,wBAAA,CAAAG,CAAA,KAAAC,CAAA,EAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,SAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,MAAAQ,CAAA,EAAAC,SAAA,OAAAC,CAAA,CAAAC,MAAA,CAAAC,cAAA,EAAAD,MAAA,CAAAE,wBAAA,SAAAC,CAAA,IAAAd,CAAA,gBAAAc,CAAA,KAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,CAAAc,CAAA,OAAAG,CAAA,CAAAP,CAAA,CAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,CAAAc,CAAA,OAAAG,CAAA,GAAAA,CAAA,CAAAV,GAAA,EAAAU,CAAA,CAAAC,GAAA,EAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,CAAAM,CAAA,CAAAG,CAAA,EAAAT,CAAA,CAAAM,CAAA,EAAAd,CAAA,CAAAc,CAAA,UAAAN,CAAA,CAAAH,OAAA,CAAAL,CAAA,CAAAG,CAAA,EAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,CAAAQ,CAAA,EAAAA,CAAA,EAG/D,QAAS,CAAAW,8BAA8BA,CACrCC,KAAgC,CAChCC,GAAqC,CACrC,CACA,GAAM,CAAAC,qBAAqB,CAAG,GAAAC,aAAM,EAAC,KAAK,CAAC,CAE3C,GAAI,CAACD,qBAAqB,CAACE,OAAO,CAAE,CAClCC,mBAAM,CAACC,UAAU,CAAC,CAChB,2HAA2H,CAC5H,CAAC,CAEFC,OAAO,CAACC,wBAAwB,CAAG,KAAK,CACxCN,qBAAqB,CAACE,OAAO,CAAG,IAAI,CACtC,CAEA,IAAAK,qBAAA,CAII,GAAAC,qEAAqC,EAAC,CAAC,CAHzCC,aAAa,CAAAF,qBAAA,CAAbE,aAAa,CACbC,iBAAiB,CAAAH,qBAAA,CAAjBG,iBAAiB,CACjBC,qBAAqB,CAAAJ,qBAAA,CAArBI,qBAAqB,CAGvB,GAAM,CAAAC,kBAAkB,CAAG,GAAAC,qCAAc,EAAC,CAAC,CAAC,CAC5C,IAAAC,SAAA,CAAgC,GAAAC,eAAQ,EAAC,CAAC,CAAC,CAAC,CAAAC,UAAA,IAAAC,eAAA,CAAAlC,OAAA,EAAA+B,SAAA,IAArCI,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,GAAM,CAAAI,kBAAkB,CAAG,GAAAP,qCAAc,EAAC,CAAC,CAAC,CAC5C,IAAAQ,UAAA,CAA8C,GAAAN,eAAQ,EAACK,kBAAkB,CAAC,CAAAE,UAAA,IAAAL,eAAA,CAAAlC,OAAA,EAAAsC,UAAA,IAAnEE,eAAe,CAAAD,UAAA,IAAEE,kBAAkB,CAAAF,UAAA,IAE1C,GAAM,CAAAG,WAAW,CAAG,GAAAC,sCAAe,iBAAAC,EAAA,UAAAA,GAAA,CAAO,CACxC,MAAO,CAAAJ,eAAe,CAACK,KAAK,CAAGhB,kBAAkB,CAACgB,KAAK,CACzD,CAAC,CAAAD,EAAA,CAAAE,QAAA,EAAAN,eAAA,CAxCMA,eAAe,CAAAX,kBAAA,CAASA,kBAAkB,EAAAe,EAAA,CAAAG,QAAA,qIAAAH,EAAA,CAAAI,aAAA,eAAAJ,EAAA,CAAAK,UAAA,6HAAAL,EAAA,KAwC9C,CAACJ,eAAe,CAAC,CAAC,CAErB,GAAAU,wCAAmB,EAAA5C,MAAA,CAAA6C,MAAA,IACdhB,QAAQ,EACXO,WAAW,CAAXA,WAAW,EACZ,CAAC,CAEF,GAAM,CAAAU,qBAAqB,CAAG,GAAAC,oCAAiB,iBAAAC,KAAA,IAAAC,kBAAA,CAAAvD,OAAA,EAAC,UAAAwD,IAAA,CAA4B,IAAnB,CAAAC,YAAY,CAAAD,IAAA,CAAZC,YAAY,CACnE,GAAM,CAAAC,UAAU,CAAG,GAAAC,2BAAc,EAACjC,aAAa,CAACP,OAAO,CAAC,CAExD,GAAM,CAAAyC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,EAAU,CAAEC,CAAS,CAAK,CAC3CjC,kBAAkB,CAACgB,KAAK,CAAGiB,CAAC,CAC9B,CAAC,CACD,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACnBzC,OAAO,CAAC0C,GAAG,CAAC,uCAAuC,CAAC,CACtD,CAAC,CAEDP,YAAY,CAACtC,OAAO,CAAC8C,aAAa,CAACP,UAAU,CAAEE,SAAS,CAAEG,MAAM,CAAC,CACnE,CAAC,kBAAAG,GAAA,SAAAZ,KAAA,CAAAa,KAAA,MAAAC,SAAA,QAAC,CAEF,GAAM,CAAAC,WAAqD,CAAG,GAAAhB,oCAAiB,EAC7E,SAACiB,MAAM,CAAK,CACV1C,qBAAqB,CAAC,KAAK,CAAC,CAC5Bb,KAAK,CAACsD,WAAW,cAAjBtD,KAAK,CAACsD,WAAW,CAAGC,MAAM,CAAC,CAC7B,CACF,CAAC,CAED,GAAM,CAAAC,SAAiD,CAAG,GAAAlB,oCAAiB,EACzE,SAACiB,MAAM,CAAK,CACV1C,qBAAqB,CAAC,IAAI,CAAC,CAC3Bb,KAAK,CAACwD,SAAS,cAAfxD,KAAK,CAACwD,SAAS,CAAGD,MAAM,CAAC,CAC3B,CACF,CAAC,CAED,GAAM,CAAAE,aAAyD,CAAG,GAAAnB,oCAAiB,EACjF,SAACiB,MAAM,CAAK,CACV7B,kBAAkB,CAAC6B,MAAM,CAAC5B,WAAW,CAAC,CACtCN,WAAW,CAAA9B,MAAA,CAAA6C,MAAA,IACNmB,MAAM,EACT5B,WAAW,CAAXA,WAAW,EACZ,CAAC,CACF3B,KAAK,CAACyD,aAAa,cAAnBzD,KAAK,CAACyD,aAAa,CAAGF,MAAM,CAAC,CAC/B,CACF,CAAC,CAED,MACE,CAAAvF,MAAA,CAAAiB,OAAA,CAAAyE,aAAA,CAACrF,kBAAA,CAAAY,OAAiB,IAAA0E,SAAA,CAAA1E,OAAA,GAChBgB,GAAG,CAAEA,GAAI,CACT2D,iBAAiB,CAAEvB,qBAAsB,CACzCwB,kBAAkB,CAAE7D,KAAK,CAAC6D,kBAAkB,EAAI,EAAG,CACnDC,aAAa,CAAE,KAAM,EACjB9D,KAAK,EACTY,iBAAiB,CAAEA,iBAAkB,CACrC0C,WAAW,CAAEA,WAAY,CACzBE,SAAS,CAAEA,SAAU,CACrBC,aAAa,CAAEA,aAAc,CAAAM,MAAA,MAAAC,QAAA,EAAAC,QAAA,CAAAvF,YAAA,CAAAwF,UAAA,IAAAC,YAAA,KAC9B,CAAC,CAEN,CAIO,GAAM,CAAAC,yBAAyB,CAAAC,OAAA,CAAAD,yBAAA,CAAGE,cAAK,CAACC,UAAU,CACvDxE,8BACF,CAEsD","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/components/NestableScrollContainer.js b/lib/commonjs/components/NestableScrollContainer.js
index 1c67ba3d75b56152eb5c93300c9be62419d2313c..1d6e31dc9f36500a5d89663a105c6f2d80b9492d 100644
--- a/lib/commonjs/components/NestableScrollContainer.js
+++ b/lib/commonjs/components/NestableScrollContainer.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.NestableScrollContainer=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _react=_interopRequireDefault(require("react"));var _reactNativeGestureHandler=require("react-native-gesture-handler");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _nestableScrollContainerContext=require("../context/nestableScrollContainerContext");var _useStableCallback=require("../hooks/useStableCallback");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/NestableScrollContainer.tsx",_this=this;function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var AnimatedScrollView=_reactNativeReanimated.default.createAnimatedComponent(_reactNativeGestureHandler.ScrollView);function NestableScrollContainerInner(props){var _useSafeNestableScrol=(0,_nestableScrollContainerContext.useSafeNestableScrollContainerContext)(),outerScrollOffset=_useSafeNestableScrol.outerScrollOffset,containerSize=_useSafeNestableScrol.containerSize,scrollViewSize=_useSafeNestableScrol.scrollViewSize,scrollableRef=_useSafeNestableScrol.scrollableRef,outerScrollEnabled=_useSafeNestableScrol.outerScrollEnabled;var onScroll=(0,_reactNativeReanimated.useAnimatedScrollHandler)({onScroll:function(){var _f=function _f(_ref){var contentOffset=_ref.contentOffset;outerScrollOffset.value=contentOffset.y;};_f._closure={outerScrollOffset:outerScrollOffset};_f.asString="function _f({contentOffset:contentOffset}){const{outerScrollOffset}=jsThis._closure;{outerScrollOffset.value=contentOffset.y;}}";_f.__workletHash=1284487457963;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/NestableScrollContainer.tsx (23:14)";return _f;}()});var onLayout=(0,_useStableCallback.useStableCallback)(function(event){var layout=event.nativeEvent.layout;containerSize.value=layout.height;});var onContentSizeChange=(0,_useStableCallback.useStableCallback)(function(w,h){scrollViewSize.value=h;props.onContentSizeChange==null?void 0:props.onContentSizeChange(w,h);});return _react.default.createElement(AnimatedScrollView,(0,_extends2.default)({},props,{onLayout:onLayout,onContentSizeChange:onContentSizeChange,scrollEnabled:outerScrollEnabled,ref:scrollableRef,scrollEventThrottle:1,onScroll:onScroll,__self:this,__source:{fileName:_jsxFileName,lineNumber:41,columnNumber:5}}));}var NestableScrollContainer=_react.default.forwardRef(function(props,forwardedRef){return _react.default.createElement(_nestableScrollContainerContext.NestableScrollContainerProvider,{forwardedRef:forwardedRef||undefined,__self:_this,__source:{fileName:_jsxFileName,lineNumber:56,columnNumber:7}},_react.default.createElement(NestableScrollContainerInner,(0,_extends2.default)({},props,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:61,columnNumber:9}})));});exports.NestableScrollContainer=NestableScrollContainer;
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.NestableScrollContainer=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _react=_interopRequireDefault(require("react"));var _reactNativeGestureHandler=require("react-native-gesture-handler");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _nestableScrollContainerContext=require("../context/nestableScrollContainerContext");var _useStableCallback=require("../hooks/useStableCallback");var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\NestableScrollContainer.tsx",_this=this;function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var AnimatedScrollView=_reactNativeReanimated.default.createAnimatedComponent(_reactNativeGestureHandler.ScrollView);function NestableScrollContainerInner(props){var _useSafeNestableScrol=(0,_nestableScrollContainerContext.useSafeNestableScrollContainerContext)(),outerScrollOffset=_useSafeNestableScrol.outerScrollOffset,containerSize=_useSafeNestableScrol.containerSize,scrollViewSize=_useSafeNestableScrol.scrollViewSize,scrollableRef=_useSafeNestableScrol.scrollableRef,outerScrollEnabled=_useSafeNestableScrol.outerScrollEnabled;var onScroll=(0,_reactNativeReanimated.useAnimatedScrollHandler)({onScroll:function(){var _f=function _f(_ref){var contentOffset=_ref.contentOffset;outerScrollOffset.value=contentOffset.y;};_f._closure={outerScrollOffset:outerScrollOffset};_f.asString="function _f({contentOffset:contentOffset}){const{outerScrollOffset}=jsThis._closure;{outerScrollOffset.value=contentOffset.y;}}";_f.__workletHash=1284487457963;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\NestableScrollContainer.tsx (23:14)";return _f;}()});var onLayout=(0,_useStableCallback.useStableCallback)(function(event){var layout=event.nativeEvent.layout;containerSize.value=layout.height;});var onContentSizeChange=(0,_useStableCallback.useStableCallback)(function(w,h){scrollViewSize.value=h;props.onContentSizeChange==null?void 0:props.onContentSizeChange(w,h);});return _react.default.createElement(AnimatedScrollView,(0,_extends2.default)({},props,{onLayout:onLayout,onContentSizeChange:onContentSizeChange,scrollEnabled:outerScrollEnabled,ref:scrollableRef,scrollEventThrottle:1,onScroll:onScroll,__self:this,__source:{fileName:_jsxFileName,lineNumber:41,columnNumber:5}}));}var NestableScrollContainer=exports.NestableScrollContainer=_react.default.forwardRef(function(props,forwardedRef){return _react.default.createElement(_nestableScrollContainerContext.NestableScrollContainerProvider,{forwardedRef:forwardedRef||undefined,__self:_this,__source:{fileName:_jsxFileName,lineNumber:56,columnNumber:7}},_react.default.createElement(NestableScrollContainerInner,(0,_extends2.default)({},props,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:61,columnNumber:9}})));});
 //# sourceMappingURL=NestableScrollContainer.js.map
\ No newline at end of file
diff --git a/lib/commonjs/components/NestableScrollContainer.js.map b/lib/commonjs/components/NestableScrollContainer.js.map
index 8d4d09654d1c866468d113d88dcb107fc8882dc7..fc647ff754ce5c43e384035d1199c479cf06482b 100644
--- a/lib/commonjs/components/NestableScrollContainer.js.map
+++ b/lib/commonjs/components/NestableScrollContainer.js.map
@@ -1 +1 @@
-{"version":3,"names":["AnimatedScrollView","Animated","createAnimatedComponent","ScrollView","NestableScrollContainerInner","props","useSafeNestableScrollContainerContext","outerScrollOffset","containerSize","scrollViewSize","scrollableRef","outerScrollEnabled","onScroll","useAnimatedScrollHandler","contentOffset","value","y","onLayout","useStableCallback","event","layout","nativeEvent","height","onContentSizeChange","w","h","NestableScrollContainer","React","forwardRef","forwardedRef","undefined"],"sources":["NestableScrollContainer.tsx"],"sourcesContent":["import React from \"react\";\nimport { LayoutChangeEvent, ScrollViewProps } from \"react-native\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useAnimatedScrollHandler } from \"react-native-reanimated\";\nimport {\n  NestableScrollContainerProvider,\n  useSafeNestableScrollContainerContext,\n} from \"../context/nestableScrollContainerContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\nconst AnimatedScrollView = Animated.createAnimatedComponent(ScrollView);\n\nfunction NestableScrollContainerInner(props: ScrollViewProps) {\n  const {\n    outerScrollOffset,\n    containerSize,\n    scrollViewSize,\n    scrollableRef,\n    outerScrollEnabled,\n  } = useSafeNestableScrollContainerContext();\n\n  const onScroll = useAnimatedScrollHandler({\n    onScroll: ({ contentOffset }) => {\n      outerScrollOffset.value = contentOffset.y;\n    },\n  });\n\n  const onLayout = useStableCallback((event: LayoutChangeEvent) => {\n    const {\n      nativeEvent: { layout },\n    } = event;\n    containerSize.value = layout.height;\n  });\n\n  const onContentSizeChange = useStableCallback((w: number, h: number) => {\n    scrollViewSize.value = h;\n    props.onContentSizeChange?.(w, h);\n  });\n\n  return (\n    <AnimatedScrollView\n      {...props}\n      onLayout={onLayout}\n      onContentSizeChange={onContentSizeChange}\n      scrollEnabled={outerScrollEnabled}\n      ref={scrollableRef}\n      scrollEventThrottle={1}\n      onScroll={onScroll}\n    />\n  );\n}\n\nexport const NestableScrollContainer = React.forwardRef(\n  (props: ScrollViewProps, forwardedRef?: React.ForwardedRef<ScrollView>) => {\n    return (\n      <NestableScrollContainerProvider\n        forwardedRef={\n          (forwardedRef as React.MutableRefObject<ScrollView>) || undefined\n        }\n      >\n        <NestableScrollContainerInner {...props} />\n      </NestableScrollContainerProvider>\n    );\n  }\n);\n"],"mappings":"mQAAA,oDAEA,uEACA,uFACA,yFAIA,6D,soCAEA,GAAMA,mBAAkB,CAAGC,8BAAA,CAASC,uBAAT,CAAiCC,qCAAjC,CAA3B,CAEA,QAASC,6BAAT,CAAsCC,KAAtC,CAA8D,2BAOxD,GAAAC,qEAAA,GAPwD,CAE1DC,iBAF0D,uBAE1DA,iBAF0D,CAG1DC,aAH0D,uBAG1DA,aAH0D,CAI1DC,cAJ0D,uBAI1DA,cAJ0D,CAK1DC,aAL0D,uBAK1DA,aAL0D,CAM1DC,kBAN0D,uBAM1DA,kBAN0D,CAS5D,GAAMC,SAAQ,CAAG,GAAAC,+CAAA,EAAyB,CACxCD,QAAQ,oCAAyB,IAApBE,cAAoB,MAApBA,aAAoB,CAC/BP,iBAAiB,CAACQ,KAAlB,CAA0BD,aAAa,CAACE,CAAxC,CACD,CAFO,gCAlBVT,iBAkBU,kUADgC,CAAzB,CAAjB,CAMA,GAAMU,SAAQ,CAAG,GAAAC,oCAAA,EAAkB,SAACC,KAAD,CAA8B,IAE9CC,OAF8C,CAG3DD,KAH2D,CAE7DE,WAF6D,CAE9CD,MAF8C,CAI/DZ,aAAa,CAACO,KAAd,CAAsBK,MAAM,CAACE,MAA7B,CACD,CALgB,CAAjB,CAOA,GAAMC,oBAAmB,CAAG,GAAAL,oCAAA,EAAkB,SAACM,CAAD,CAAYC,CAAZ,CAA0B,CACtEhB,cAAc,CAACM,KAAf,CAAuBU,CAAvB,CACApB,KAAK,CAACkB,mBAAN,cAAAlB,KAAK,CAACkB,mBAAN,CAA4BC,CAA5B,CAA+BC,CAA/B,EACD,CAH2B,CAA5B,CAKA,MACE,8BAAC,kBAAD,0BACMpB,KADN,EAEE,QAAQ,CAAEY,QAFZ,CAGE,mBAAmB,CAAEM,mBAHvB,CAIE,aAAa,CAAEZ,kBAJjB,CAKE,GAAG,CAAED,aALP,CAME,mBAAmB,CAAE,CANvB,CAOE,QAAQ,CAAEE,QAPZ,6EADF,CAWD,CAEM,GAAMc,wBAAuB,CAAGC,cAAA,CAAMC,UAAN,CACrC,SAACvB,KAAD,CAAyBwB,YAAzB,CAA2E,CACzE,MACE,8BAAC,+DAAD,EACE,YAAY,CACTA,YAAD,EAAwDC,SAF5D,6EAKE,6BAAC,4BAAD,0BAAkCzB,KAAlC,+EALF,CADF,CASD,CAXoC,CAAhC,C"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireDefault","require","_reactNativeGestureHandler","_reactNativeReanimated","_interopRequireWildcard","_nestableScrollContainerContext","_useStableCallback","_jsxFileName","_this","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AnimatedScrollView","Animated","createAnimatedComponent","ScrollView","NestableScrollContainerInner","props","_useSafeNestableScrol","useSafeNestableScrollContainerContext","outerScrollOffset","containerSize","scrollViewSize","scrollableRef","outerScrollEnabled","onScroll","useAnimatedScrollHandler","_f","_ref","contentOffset","value","y","_closure","asString","__workletHash","__location","onLayout","useStableCallback","event","layout","nativeEvent","height","onContentSizeChange","w","h","createElement","_extends2","scrollEnabled","ref","scrollEventThrottle","__self","__source","fileName","lineNumber","columnNumber","NestableScrollContainer","exports","React","forwardRef","forwardedRef","NestableScrollContainerProvider","undefined"],"sources":["NestableScrollContainer.tsx"],"sourcesContent":["import React from \"react\";\nimport { LayoutChangeEvent, ScrollViewProps } from \"react-native\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useAnimatedScrollHandler } from \"react-native-reanimated\";\nimport {\n  NestableScrollContainerProvider,\n  useSafeNestableScrollContainerContext,\n} from \"../context/nestableScrollContainerContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\nconst AnimatedScrollView = Animated.createAnimatedComponent(ScrollView);\n\nfunction NestableScrollContainerInner(props: ScrollViewProps) {\n  const {\n    outerScrollOffset,\n    containerSize,\n    scrollViewSize,\n    scrollableRef,\n    outerScrollEnabled,\n  } = useSafeNestableScrollContainerContext();\n\n  const onScroll = useAnimatedScrollHandler({\n    onScroll: ({ contentOffset }) => {\n      outerScrollOffset.value = contentOffset.y;\n    },\n  });\n\n  const onLayout = useStableCallback((event: LayoutChangeEvent) => {\n    const {\n      nativeEvent: { layout },\n    } = event;\n    containerSize.value = layout.height;\n  });\n\n  const onContentSizeChange = useStableCallback((w: number, h: number) => {\n    scrollViewSize.value = h;\n    props.onContentSizeChange?.(w, h);\n  });\n\n  return (\n    <AnimatedScrollView\n      {...props}\n      onLayout={onLayout}\n      onContentSizeChange={onContentSizeChange}\n      scrollEnabled={outerScrollEnabled}\n      ref={scrollableRef}\n      scrollEventThrottle={1}\n      onScroll={onScroll}\n    />\n  );\n}\n\nexport const NestableScrollContainer = React.forwardRef(\n  (props: ScrollViewProps, forwardedRef?: React.ForwardedRef<ScrollView>) => {\n    return (\n      <NestableScrollContainerProvider\n        forwardedRef={\n          (forwardedRef as React.MutableRefObject<ScrollView>) || undefined\n        }\n      >\n        <NestableScrollContainerInner {...props} />\n      </NestableScrollContainerProvider>\n    );\n  }\n);\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/components/PlaceholderItem.js b/lib/commonjs/components/PlaceholderItem.js
index 89bc4dfc54f25a155801bf0d180945b141196257..0884bdaf4d345f3e0658b14a5338fe2f87c95fca 100644
--- a/lib/commonjs/components/PlaceholderItem.js
+++ b/lib/commonjs/components/PlaceholderItem.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _animatedValueContext=require("../context/animatedValueContext");var _draggableFlatListContext=require("../context/draggableFlatListContext");var _refContext=require("../context/refContext");var _utils=require("../utils");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/PlaceholderItem.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function PlaceholderItem(_ref){var _propsRef$current;var renderPlaceholder=_ref.renderPlaceholder;var _useState=(0,_react.useState)(0),_useState2=(0,_slicedToArray2.default)(_useState,2),size=_useState2[0],setSize=_useState2[1];var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),activeCellSize=_useAnimatedValues.activeCellSize,placeholderOffset=_useAnimatedValues.placeholderOffset,spacerIndexAnim=_useAnimatedValues.spacerIndexAnim,horizontalAnim=_useAnimatedValues.horizontalAnim,scrollOffset=_useAnimatedValues.scrollOffset;var _useRefs=(0,_refContext.useRefs)(),keyToIndexRef=_useRefs.keyToIndexRef,propsRef=_useRefs.propsRef;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),activeKey=_useDraggableFlatList.activeKey,horizontal=_useDraggableFlatList.horizontal;(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return activeCellSize.value;};_f._closure={activeCellSize:activeCellSize};_f.asString="function _f(){const{activeCellSize}=jsThis._closure;{return activeCellSize.value;}}";_f.__workletHash=8295849844051;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/PlaceholderItem.tsx (32:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur!==prev){(0,_reactNativeReanimated.runOnJS)(setSize)(cur);}};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,setSize:setSize};_f.asString="function _f(cur,prev){const{runOnJS,setSize}=jsThis._closure;{if(cur!==prev){runOnJS(setSize)(cur);}}}";_f.__workletHash=8290012385169;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/PlaceholderItem.tsx (35:4)";return _f;}());var activeIndex=activeKey?keyToIndexRef.current.get(activeKey):undefined;var activeItem=activeIndex===undefined?null:(_propsRef$current=propsRef.current)==null?void 0:_propsRef$current.data[activeIndex];var animStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var offset=placeholderOffset.value-scrollOffset.value;return{opacity:size>=0?1:0,overflow:'hidden',transform:[horizontalAnim.value?{translateX:offset}:{translateY:offset}]};};_f._closure={placeholderOffset:placeholderOffset,scrollOffset:scrollOffset,size:size,horizontalAnim:horizontalAnim};_f.asString="function _f(){const{placeholderOffset,scrollOffset,size,horizontalAnim}=jsThis._closure;{const offset=placeholderOffset.value-scrollOffset.value;return{opacity:size>=0?1:0,overflow:'hidden',transform:[horizontalAnim.value?{translateX:offset}:{translateY:offset}]};}}";_f.__workletHash=13197147672694;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/PlaceholderItem.tsx (48:37)";_f.__optimalization=3;return _f;}(),[spacerIndexAnim,placeholderOffset,horizontalAnim,scrollOffset,size]);var extraStyle=(0,_react.useMemo)(function(){return horizontal?{width:size}:{height:size};},[horizontal,size]);return _react.default.createElement(_reactNativeReanimated.default.View,{pointerEvents:activeKey?"auto":"none",style:[_reactNative.StyleSheet.absoluteFill,animStyle,extraStyle],__self:this,__source:{fileName:_jsxFileName,lineNumber:67,columnNumber:5}},!activeItem||activeIndex===undefined?null:renderPlaceholder==null?void 0:renderPlaceholder({item:activeItem,index:activeIndex}));}var _default=(0,_utils.typedMemo)(PlaceholderItem);exports.default=_default;
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _animatedValueContext=require("../context/animatedValueContext");var _draggableFlatListContext=require("../context/draggableFlatListContext");var _refContext=require("../context/refContext");var _utils=require("../utils");var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\PlaceholderItem.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}function PlaceholderItem(_ref){var _propsRef$current;var renderPlaceholder=_ref.renderPlaceholder;var _useState=(0,_react.useState)(0),_useState2=(0,_slicedToArray2.default)(_useState,2),size=_useState2[0],setSize=_useState2[1];var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),activeCellSize=_useAnimatedValues.activeCellSize,placeholderOffset=_useAnimatedValues.placeholderOffset,spacerIndexAnim=_useAnimatedValues.spacerIndexAnim,horizontalAnim=_useAnimatedValues.horizontalAnim,scrollOffset=_useAnimatedValues.scrollOffset;var _useRefs=(0,_refContext.useRefs)(),keyToIndexRef=_useRefs.keyToIndexRef,propsRef=_useRefs.propsRef;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),activeKey=_useDraggableFlatList.activeKey,horizontal=_useDraggableFlatList.horizontal;(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return activeCellSize.value;};_f._closure={activeCellSize:activeCellSize};_f.asString="function _f(){const{activeCellSize}=jsThis._closure;{return activeCellSize.value;}}";_f.__workletHash=8295849844051;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\PlaceholderItem.tsx (32:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur!==prev){(0,_reactNativeReanimated.runOnJS)(setSize)(cur);}};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,setSize:setSize};_f.asString="function _f(cur,prev){const{runOnJS,setSize}=jsThis._closure;{if(cur!==prev){runOnJS(setSize)(cur);}}}";_f.__workletHash=8290012385169;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\PlaceholderItem.tsx (35:4)";return _f;}());var activeIndex=activeKey?keyToIndexRef.current.get(activeKey):undefined;var activeItem=activeIndex===undefined?null:(_propsRef$current=propsRef.current)==null?void 0:_propsRef$current.data[activeIndex];var animStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var offset=placeholderOffset.value-scrollOffset.value;return{opacity:size>=0?1:0,overflow:'hidden',transform:[horizontalAnim.value?{translateX:offset}:{translateY:offset}]};};_f._closure={placeholderOffset:placeholderOffset,scrollOffset:scrollOffset,size:size,horizontalAnim:horizontalAnim};_f.asString="function _f(){const{placeholderOffset,scrollOffset,size,horizontalAnim}=jsThis._closure;{const offset=placeholderOffset.value-scrollOffset.value;return{opacity:size>=0?1:0,overflow:'hidden',transform:[horizontalAnim.value?{translateX:offset}:{translateY:offset}]};}}";_f.__workletHash=13197147672694;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\PlaceholderItem.tsx (48:37)";_f.__optimalization=3;return _f;}(),[spacerIndexAnim,placeholderOffset,horizontalAnim,scrollOffset,size]);var extraStyle=(0,_react.useMemo)(function(){return horizontal?{width:size}:{height:size};},[horizontal,size]);return _react.default.createElement(_reactNativeReanimated.default.View,{pointerEvents:activeKey?"auto":"none",style:[_reactNative.StyleSheet.absoluteFill,animStyle,extraStyle],__self:this,__source:{fileName:_jsxFileName,lineNumber:67,columnNumber:5}},!activeItem||activeIndex===undefined?null:renderPlaceholder==null?void 0:renderPlaceholder({item:activeItem,index:activeIndex}));}var _default=exports.default=(0,_utils.typedMemo)(PlaceholderItem);
 //# sourceMappingURL=PlaceholderItem.js.map
\ No newline at end of file
diff --git a/lib/commonjs/components/PlaceholderItem.js.map b/lib/commonjs/components/PlaceholderItem.js.map
index 527f265931d73b12d030b6c32862eef8e008375a..214d57dcc5676d6c0c9ee5941348316be40aa06c 100644
--- a/lib/commonjs/components/PlaceholderItem.js.map
+++ b/lib/commonjs/components/PlaceholderItem.js.map
@@ -1 +1 @@
-{"version":3,"names":["PlaceholderItem","renderPlaceholder","useState","size","setSize","useAnimatedValues","activeCellSize","placeholderOffset","spacerIndexAnim","horizontalAnim","scrollOffset","useRefs","keyToIndexRef","propsRef","useDraggableFlatListContext","activeKey","horizontal","useAnimatedReaction","value","cur","prev","runOnJS","activeIndex","current","get","undefined","activeItem","data","animStyle","useAnimatedStyle","offset","opacity","overflow","transform","translateX","translateY","extraStyle","useMemo","width","height","StyleSheet","absoluteFill","item","index","typedMemo"],"sources":["PlaceholderItem.tsx"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\nimport { RenderPlaceholder } from \"../types\";\nimport { typedMemo } from \"../utils\";\n\ntype Props<T> = {\n  renderPlaceholder?: RenderPlaceholder<T>;\n};\n\nfunction PlaceholderItem<T>({ renderPlaceholder }: Props<T>) {\n  const [size, setSize] = useState(0);\n  const {\n    activeCellSize,\n    placeholderOffset,\n    spacerIndexAnim,\n    horizontalAnim,\n    scrollOffset,\n  } = useAnimatedValues();\n  const { keyToIndexRef, propsRef } = useRefs<T>();\n  const { activeKey, horizontal } = useDraggableFlatListContext();\n\n  // Size does not seem to be respected when it is an animated style\n  useAnimatedReaction(\n    () => {\n      return activeCellSize.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev) {\n        runOnJS(setSize)(cur);\n      }\n    }\n  );\n\n  const activeIndex = activeKey\n    ? keyToIndexRef.current.get(activeKey)\n    : undefined;\n  const activeItem =\n    activeIndex === undefined ? null : propsRef.current?.data[activeIndex];\n\n  const animStyle = useAnimatedStyle(() => {\n    const offset = placeholderOffset.value - scrollOffset.value\n    return {\n        opacity: size >= 0 ? 1 : 0,\n        overflow: 'hidden',\n        transform: [\n          horizontalAnim.value\n            ? { translateX: offset }\n            : { translateY: offset },\n        ],\n      };\n\n  }, [spacerIndexAnim, placeholderOffset, horizontalAnim, scrollOffset, size]);\n\n  const extraStyle = useMemo(() => {\n    return horizontal ? { width: size } : { height: size };\n  }, [horizontal, size])\n\n  return (\n    <Animated.View\n      pointerEvents={activeKey ? \"auto\" : \"none\"}\n      style={[StyleSheet.absoluteFill, animStyle, extraStyle]}\n    >\n      {!activeItem || activeIndex === undefined\n        ? null\n        : renderPlaceholder?.({ item: activeItem, index: activeIndex })}\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(PlaceholderItem);\n"],"mappings":"+PAAA,qDACA,yCACA,uFAKA,qEACA,6EACA,iDAEA,+B,mnCAMA,QAASA,gBAAT,MAA6D,0BAA/BC,kBAA+B,MAA/BA,iBAA+B,eACnC,GAAAC,eAAA,EAAS,CAAT,CADmC,qDACpDC,IADoD,eAC9CC,OAD8C,sCAQvD,GAAAC,uCAAA,GARuD,CAGzDC,cAHyD,oBAGzDA,cAHyD,CAIzDC,iBAJyD,oBAIzDA,iBAJyD,CAKzDC,eALyD,oBAKzDA,eALyD,CAMzDC,cANyD,oBAMzDA,cANyD,CAOzDC,YAPyD,oBAOzDA,YAPyD,cASvB,GAAAC,mBAAA,GATuB,CASnDC,aATmD,UASnDA,aATmD,CASpCC,QAToC,UASpCA,QAToC,2BAUzB,GAAAC,qDAAA,GAVyB,CAUnDC,SAVmD,uBAUnDA,SAVmD,CAUxCC,UAVwC,uBAUxCA,UAVwC,CAa3D,GAAAC,0CAAA,iCACQ,CACJ,MAAOX,eAAc,CAACY,KAAtB,CACD,CAHH,6BA5BOZ,cA4BP,4SAIGa,GAJH,CAIQC,IAJR,CAIiB,CACb,GAAID,GAAG,GAAKC,IAAZ,CAAkB,CAChB,GAAAC,8BAAA,EAAQjB,OAAR,EAAiBe,GAAjB,EACD,CACF,CARH,sBA3BEE,8BA2BF,SA3BUjB,OA2BV,kSAWA,GAAMkB,YAAW,CAAGP,SAAS,CACzBH,aAAa,CAACW,OAAd,CAAsBC,GAAtB,CAA0BT,SAA1B,CADyB,CAEzBU,SAFJ,CAGA,GAAMC,WAAU,CACdJ,WAAW,GAAKG,SAAhB,CAA4B,IAA5B,oBAAmCZ,QAAQ,CAACU,OAA5C,eAAmC,kBAAkBI,IAAlB,CAAuBL,WAAvB,CADrC,CAGA,GAAMM,UAAS,CAAG,GAAAC,uCAAA,iCAAuB,CACvC,GAAMC,OAAM,CAAGvB,iBAAiB,CAACW,KAAlB,CAA0BR,YAAY,CAACQ,KAAtD,CACA,MAAO,CACHa,OAAO,CAAE5B,IAAI,EAAI,CAAR,CAAY,CAAZ,CAAgB,CADtB,CAEH6B,QAAQ,CAAE,QAFP,CAGHC,SAAS,CAAE,CACTxB,cAAc,CAACS,KAAf,CACI,CAAEgB,UAAU,CAAEJ,MAAd,CADJ,CAEI,CAAEK,UAAU,CAAEL,MAAd,CAHK,CAHR,CAAP,CAUD,CAZiB,gCA7CHvB,iBA6CG,cA7CuBG,YA6CvB,MA3CPP,IA2CO,gBAzCJM,cAyCI,6dAYf,CAACD,eAAD,CAAkBD,iBAAlB,CAAqCE,cAArC,CAAqDC,YAArD,CAAmEP,IAAnE,CAZe,CAAlB,CAcA,GAAMiC,WAAU,CAAG,GAAAC,cAAA,EAAQ,UAAM,CAC/B,MAAOrB,WAAU,CAAG,CAAEsB,KAAK,CAAEnC,IAAT,CAAH,CAAqB,CAAEoC,MAAM,CAAEpC,IAAV,CAAtC,CACD,CAFkB,CAEhB,CAACa,UAAD,CAAab,IAAb,CAFgB,CAAnB,CAIA,MACE,8BAAC,8BAAD,CAAU,IAAV,EACE,aAAa,CAAEY,SAAS,CAAG,MAAH,CAAY,MADtC,CAEE,KAAK,CAAE,CAACyB,uBAAA,CAAWC,YAAZ,CAA0Bb,SAA1B,CAAqCQ,UAArC,CAFT,4EAIG,CAACV,UAAD,EAAeJ,WAAW,GAAKG,SAA/B,CACG,IADH,CAEGxB,iBAFH,cAEGA,iBAAiB,CAAG,CAAEyC,IAAI,CAAEhB,UAAR,CAAoBiB,KAAK,CAAErB,WAA3B,CAAH,CANvB,CADF,CAUD,C,aAEc,GAAAsB,gBAAA,EAAU5C,eAAV,C"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeReanimated","_animatedValueContext","_draggableFlatListContext","_refContext","_utils","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","PlaceholderItem","_ref","_propsRef$current","renderPlaceholder","_useState","useState","_useState2","_slicedToArray2","size","setSize","_useAnimatedValues","useAnimatedValues","activeCellSize","placeholderOffset","spacerIndexAnim","horizontalAnim","scrollOffset","_useRefs","useRefs","keyToIndexRef","propsRef","_useDraggableFlatList","useDraggableFlatListContext","activeKey","horizontal","useAnimatedReaction","_f","value","_closure","asString","__workletHash","__location","cur","prev","runOnJS","activeIndex","current","undefined","activeItem","data","animStyle","useAnimatedStyle","offset","opacity","overflow","transform","translateX","translateY","__optimalization","extraStyle","useMemo","width","height","createElement","View","pointerEvents","style","StyleSheet","absoluteFill","__self","__source","fileName","lineNumber","columnNumber","item","index","_default","exports","typedMemo"],"sources":["PlaceholderItem.tsx"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\nimport { RenderPlaceholder } from \"../types\";\nimport { typedMemo } from \"../utils\";\n\ntype Props<T> = {\n  renderPlaceholder?: RenderPlaceholder<T>;\n};\n\nfunction PlaceholderItem<T>({ renderPlaceholder }: Props<T>) {\n  const [size, setSize] = useState(0);\n  const {\n    activeCellSize,\n    placeholderOffset,\n    spacerIndexAnim,\n    horizontalAnim,\n    scrollOffset,\n  } = useAnimatedValues();\n  const { keyToIndexRef, propsRef } = useRefs<T>();\n  const { activeKey, horizontal } = useDraggableFlatListContext();\n\n  // Size does not seem to be respected when it is an animated style\n  useAnimatedReaction(\n    () => {\n      return activeCellSize.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev) {\n        runOnJS(setSize)(cur);\n      }\n    }\n  );\n\n  const activeIndex = activeKey\n    ? keyToIndexRef.current.get(activeKey)\n    : undefined;\n  const activeItem =\n    activeIndex === undefined ? null : propsRef.current?.data[activeIndex];\n\n  const animStyle = useAnimatedStyle(() => {\n    const offset = placeholderOffset.value - scrollOffset.value\n    return {\n        opacity: size >= 0 ? 1 : 0,\n        overflow: 'hidden',\n        transform: [\n          horizontalAnim.value\n            ? { translateX: offset }\n            : { translateY: offset },\n        ],\n      };\n\n  }, [spacerIndexAnim, placeholderOffset, horizontalAnim, scrollOffset, size]);\n\n  const extraStyle = useMemo(() => {\n    return horizontal ? { width: size } : { height: size };\n  }, [horizontal, size])\n\n  return (\n    <Animated.View\n      pointerEvents={activeKey ? \"auto\" : \"none\"}\n      style={[StyleSheet.absoluteFill, animStyle, extraStyle]}\n    >\n      {!activeItem || activeIndex === undefined\n        ? null\n        : renderPlaceholder?.({ item: activeItem, index: activeIndex })}\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(PlaceholderItem);\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/components/RowItem.js b/lib/commonjs/components/RowItem.js
index dcfdf957372d10921e5d96e7ab375082fc698d03..e71fc34543afb53e072a483f4864546437c1ca37 100644
--- a/lib/commonjs/components/RowItem.js
+++ b/lib/commonjs/components/RowItem.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _draggableFlatListContext=require("../context/draggableFlatListContext");var _refContext=require("../context/refContext");var _useStableCallback=require("../hooks/useStableCallback");var _utils=require("../utils");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/RowItem.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function RowItem(props){var propsRef=(0,_react.useRef)(props);propsRef.current=props;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),activeKey=_useDraggableFlatList.activeKey;var activeKeyRef=(0,_react.useRef)(activeKey);activeKeyRef.current=activeKey;var _useRefs=(0,_refContext.useRefs)(),keyToIndexRef=_useRefs.keyToIndexRef;var drag=(0,_useStableCallback.useStableCallback)(function(){var _propsRef$current=propsRef.current,drag=_propsRef$current.drag,itemKey=_propsRef$current.itemKey,debug=_propsRef$current.debug;if(activeKeyRef.current){if(debug)console.log("## attempt to drag item while another item is already active, noop");}drag(itemKey);});var renderItem=props.renderItem,item=props.item,itemKey=props.itemKey,extraData=props.extraData;var getIndex=(0,_useStableCallback.useStableCallback)(function(){return keyToIndexRef.current.get(itemKey);});return _react.default.createElement(MemoizedInner,{isActive:activeKey===itemKey,drag:drag,renderItem:renderItem,item:item,getIndex:getIndex,extraData:extraData,__self:this,__source:{fileName:_jsxFileName,lineNumber:45,columnNumber:5}});}var _default=(0,_utils.typedMemo)(RowItem);exports.default=_default;function Inner(_ref){var renderItem=_ref.renderItem,extraData=_ref.extraData,rest=(0,_objectWithoutProperties2.default)(_ref,["renderItem","extraData"]);return renderItem(Object.assign({},rest));}var MemoizedInner=(0,_utils.typedMemo)(Inner);
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _draggableFlatListContext=require("../context/draggableFlatListContext");var _refContext=require("../context/refContext");var _useStableCallback=require("../hooks/useStableCallback");var _utils=require("../utils");var _excluded=["renderItem","extraData"];var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\RowItem.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}function RowItem(props){var propsRef=(0,_react.useRef)(props);propsRef.current=props;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),activeKey=_useDraggableFlatList.activeKey;var activeKeyRef=(0,_react.useRef)(activeKey);activeKeyRef.current=activeKey;var _useRefs=(0,_refContext.useRefs)(),keyToIndexRef=_useRefs.keyToIndexRef;var drag=(0,_useStableCallback.useStableCallback)(function(){var _propsRef$current=propsRef.current,drag=_propsRef$current.drag,itemKey=_propsRef$current.itemKey,debug=_propsRef$current.debug;if(activeKeyRef.current){if(debug)console.log("## attempt to drag item while another item is already active, noop");}drag(itemKey);});var renderItem=props.renderItem,item=props.item,itemKey=props.itemKey,extraData=props.extraData;var getIndex=(0,_useStableCallback.useStableCallback)(function(){return keyToIndexRef.current.get(itemKey);});return _react.default.createElement(MemoizedInner,{isActive:activeKey===itemKey,drag:drag,renderItem:renderItem,item:item,getIndex:getIndex,extraData:extraData,__self:this,__source:{fileName:_jsxFileName,lineNumber:45,columnNumber:5}});}var _default=exports.default=(0,_utils.typedMemo)(RowItem);function Inner(_ref){var renderItem=_ref.renderItem,extraData=_ref.extraData,rest=(0,_objectWithoutProperties2.default)(_ref,_excluded);return renderItem(Object.assign({},rest));}var MemoizedInner=(0,_utils.typedMemo)(Inner);
 //# sourceMappingURL=RowItem.js.map
\ No newline at end of file
diff --git a/lib/commonjs/components/RowItem.js.map b/lib/commonjs/components/RowItem.js.map
index 901b1b7a0e2cce64070e86a11fd24f914473ce71..4a9724bf66eb39f22bec72d148941f105740cc6c 100644
--- a/lib/commonjs/components/RowItem.js.map
+++ b/lib/commonjs/components/RowItem.js.map
@@ -1 +1 @@
-{"version":3,"names":["RowItem","props","propsRef","useRef","current","useDraggableFlatListContext","activeKey","activeKeyRef","useRefs","keyToIndexRef","drag","useStableCallback","itemKey","debug","console","log","renderItem","item","extraData","getIndex","get","typedMemo","Inner","rest","MemoizedInner"],"sources":["RowItem.tsx"],"sourcesContent":["import React, { useRef } from \"react\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport { RenderItem } from \"../types\";\nimport { typedMemo } from \"../utils\";\n\ntype Props<T> = {\n  extraData?: any;\n  drag: (itemKey: string) => void;\n  item: T;\n  renderItem: RenderItem<T>;\n  itemKey: string;\n  debug?: boolean;\n};\n\nfunction RowItem<T>(props: Props<T>) {\n  const propsRef = useRef(props);\n  propsRef.current = props;\n\n  const { activeKey } = useDraggableFlatListContext();\n  const activeKeyRef = useRef(activeKey);\n  activeKeyRef.current = activeKey;\n  const { keyToIndexRef } = useRefs();\n\n  const drag = useStableCallback(() => {\n    const { drag, itemKey, debug } = propsRef.current;\n    if (activeKeyRef.current) {\n      // already dragging an item, noop\n      if (debug)\n        console.log(\n          \"## attempt to drag item while another item is already active, noop\"\n        );\n    }\n    drag(itemKey);\n  });\n\n  const { renderItem, item, itemKey, extraData } = props;\n\n  const getIndex = useStableCallback(() => {\n    return keyToIndexRef.current.get(itemKey);\n  });\n\n  return (\n    <MemoizedInner\n      isActive={activeKey === itemKey}\n      drag={drag}\n      renderItem={renderItem}\n      item={item}\n      getIndex={getIndex}\n      extraData={extraData}\n    />\n  );\n}\n\nexport default typedMemo(RowItem);\n\ntype InnerProps<T> = {\n  isActive: boolean;\n  item: T;\n  getIndex: () => number | undefined;\n  drag: () => void;\n  renderItem: RenderItem<T>;\n  extraData?: any;\n};\n\nfunction Inner<T>({ renderItem, extraData, ...rest }: InnerProps<T>) {\n  return renderItem({ ...rest }) as JSX.Element;\n}\n\nconst MemoizedInner = typedMemo(Inner);\n"],"mappings":"mRAAA,qDACA,6EACA,iDACA,6DAEA,+B,2mCAWA,QAASA,QAAT,CAAoBC,KAApB,CAAqC,CACnC,GAAMC,SAAQ,CAAG,GAAAC,aAAA,EAAOF,KAAP,CAAjB,CACAC,QAAQ,CAACE,OAAT,CAAmBH,KAAnB,CAFmC,0BAIb,GAAAI,qDAAA,GAJa,CAI3BC,SAJ2B,uBAI3BA,SAJ2B,CAKnC,GAAMC,aAAY,CAAG,GAAAJ,aAAA,EAAOG,SAAP,CAArB,CACAC,YAAY,CAACH,OAAb,CAAuBE,SAAvB,CANmC,aAOT,GAAAE,mBAAA,GAPS,CAO3BC,aAP2B,UAO3BA,aAP2B,CASnC,GAAMC,KAAI,CAAG,GAAAC,oCAAA,EAAkB,UAAM,uBACFT,QAAQ,CAACE,OADP,CAC3BM,IAD2B,mBAC3BA,IAD2B,CACrBE,OADqB,mBACrBA,OADqB,CACZC,KADY,mBACZA,KADY,CAEnC,GAAIN,YAAY,CAACH,OAAjB,CAA0B,CAExB,GAAIS,KAAJ,CACEC,OAAO,CAACC,GAAR,CACE,oEADF,EAGH,CACDL,IAAI,CAACE,OAAD,CAAJ,CACD,CAVY,CAAb,CATmC,GAqB3BI,WArB2B,CAqBcf,KArBd,CAqB3Be,UArB2B,CAqBfC,IArBe,CAqBchB,KArBd,CAqBfgB,IArBe,CAqBTL,OArBS,CAqBcX,KArBd,CAqBTW,OArBS,CAqBAM,SArBA,CAqBcjB,KArBd,CAqBAiB,SArBA,CAuBnC,GAAMC,SAAQ,CAAG,GAAAR,oCAAA,EAAkB,UAAM,CACvC,MAAOF,cAAa,CAACL,OAAd,CAAsBgB,GAAtB,CAA0BR,OAA1B,CAAP,CACD,CAFgB,CAAjB,CAIA,MACE,8BAAC,aAAD,EACE,QAAQ,CAAEN,SAAS,GAAKM,OAD1B,CAEE,IAAI,CAAEF,IAFR,CAGE,UAAU,CAAEM,UAHd,CAIE,IAAI,CAAEC,IAJR,CAKE,QAAQ,CAAEE,QALZ,CAME,SAAS,CAAED,SANb,4EADF,CAUD,C,aAEc,GAAAG,gBAAA,EAAUrB,OAAV,C,0BAWf,QAASsB,MAAT,MAAqE,IAAjDN,WAAiD,MAAjDA,UAAiD,CAArCE,SAAqC,MAArCA,SAAqC,CAAvBK,IAAuB,wEACnE,MAAOP,WAAU,kBAAMO,IAAN,EAAjB,CACD,CAED,GAAMC,cAAa,CAAG,GAAAH,gBAAA,EAAUC,KAAV,CAAtB"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_draggableFlatListContext","_refContext","_useStableCallback","_utils","_excluded","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","RowItem","props","propsRef","useRef","current","_useDraggableFlatList","useDraggableFlatListContext","activeKey","activeKeyRef","_useRefs","useRefs","keyToIndexRef","drag","useStableCallback","_propsRef$current","itemKey","debug","console","log","renderItem","item","extraData","getIndex","createElement","MemoizedInner","isActive","__self","__source","fileName","lineNumber","columnNumber","_default","exports","typedMemo","Inner","_ref","rest","_objectWithoutProperties2","assign"],"sources":["RowItem.tsx"],"sourcesContent":["import React, { useRef } from \"react\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport { RenderItem } from \"../types\";\nimport { typedMemo } from \"../utils\";\n\ntype Props<T> = {\n  extraData?: any;\n  drag: (itemKey: string) => void;\n  item: T;\n  renderItem: RenderItem<T>;\n  itemKey: string;\n  debug?: boolean;\n};\n\nfunction RowItem<T>(props: Props<T>) {\n  const propsRef = useRef(props);\n  propsRef.current = props;\n\n  const { activeKey } = useDraggableFlatListContext();\n  const activeKeyRef = useRef(activeKey);\n  activeKeyRef.current = activeKey;\n  const { keyToIndexRef } = useRefs();\n\n  const drag = useStableCallback(() => {\n    const { drag, itemKey, debug } = propsRef.current;\n    if (activeKeyRef.current) {\n      // already dragging an item, noop\n      if (debug)\n        console.log(\n          \"## attempt to drag item while another item is already active, noop\"\n        );\n    }\n    drag(itemKey);\n  });\n\n  const { renderItem, item, itemKey, extraData } = props;\n\n  const getIndex = useStableCallback(() => {\n    return keyToIndexRef.current.get(itemKey);\n  });\n\n  return (\n    <MemoizedInner\n      isActive={activeKey === itemKey}\n      drag={drag}\n      renderItem={renderItem}\n      item={item}\n      getIndex={getIndex}\n      extraData={extraData}\n    />\n  );\n}\n\nexport default typedMemo(RowItem);\n\ntype InnerProps<T> = {\n  isActive: boolean;\n  item: T;\n  getIndex: () => number | undefined;\n  drag: () => void;\n  renderItem: RenderItem<T>;\n  extraData?: any;\n};\n\nfunction Inner<T>({ renderItem, extraData, ...rest }: InnerProps<T>) {\n  return renderItem({ ...rest }) as JSX.Element;\n}\n\nconst MemoizedInner = typedMemo(Inner);\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/components/ScrollOffsetListener.js b/lib/commonjs/components/ScrollOffsetListener.js
index c4b16e6248185d615b77f5e6a5e459fc1b2ed212..5cc143fd64107a5ffae5c7754ff90acec7f3b997 100644
--- a/lib/commonjs/components/ScrollOffsetListener.js
+++ b/lib/commonjs/components/ScrollOffsetListener.js
@@ -1,2 +1,2 @@
-Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _reactNativeReanimated=require("react-native-reanimated");var _utils=require("../utils");var ScrollOffsetListener=function ScrollOffsetListener(_ref){var scrollOffset=_ref.scrollOffset,onScrollOffsetChange=_ref.onScrollOffsetChange;(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return scrollOffset.value;};_f._closure={scrollOffset:scrollOffset};_f.asString="function _f(){const{scrollOffset}=jsThis._closure;{return scrollOffset.value;}}";_f.__workletHash=14236293224915;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/ScrollOffsetListener.tsx (14:22)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur!==prev){(0,_reactNativeReanimated.runOnJS)(onScrollOffsetChange)(cur);}};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onScrollOffsetChange:onScrollOffsetChange};_f.asString="function _f(cur,prev){const{runOnJS,onScrollOffsetChange}=jsThis._closure;{if(cur!==prev){runOnJS(onScrollOffsetChange)(cur);}}}";_f.__workletHash=2670088941649;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/ScrollOffsetListener.tsx (16:5)";return _f;}(),[scrollOffset]);return null;};var _default=(0,_utils.typedMemo)(ScrollOffsetListener);exports.default=_default;
+Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _reactNativeReanimated=require("react-native-reanimated");var _utils=require("../utils");var ScrollOffsetListener=function ScrollOffsetListener(_ref){var scrollOffset=_ref.scrollOffset,onScrollOffsetChange=_ref.onScrollOffsetChange;(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return scrollOffset.value;};_f._closure={scrollOffset:scrollOffset};_f.asString="function _f(){const{scrollOffset}=jsThis._closure;{return scrollOffset.value;}}";_f.__workletHash=14236293224915;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\ScrollOffsetListener.tsx (14:22)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur!==prev){(0,_reactNativeReanimated.runOnJS)(onScrollOffsetChange)(cur);}};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onScrollOffsetChange:onScrollOffsetChange};_f.asString="function _f(cur,prev){const{runOnJS,onScrollOffsetChange}=jsThis._closure;{if(cur!==prev){runOnJS(onScrollOffsetChange)(cur);}}}";_f.__workletHash=2670088941649;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\components\\ScrollOffsetListener.tsx (16:5)";return _f;}(),[scrollOffset]);return null;};var _default=exports.default=(0,_utils.typedMemo)(ScrollOffsetListener);
 //# sourceMappingURL=ScrollOffsetListener.js.map
\ No newline at end of file
diff --git a/lib/commonjs/components/ScrollOffsetListener.js.map b/lib/commonjs/components/ScrollOffsetListener.js.map
index e16cae86d5f1adb85b1afe70858971aafeac5bce..6b28e96a021185176a17d7d9ec3e25fda51de65f 100644
--- a/lib/commonjs/components/ScrollOffsetListener.js.map
+++ b/lib/commonjs/components/ScrollOffsetListener.js.map
@@ -1 +1 @@
-{"version":3,"names":["ScrollOffsetListener","scrollOffset","onScrollOffsetChange","useAnimatedReaction","value","cur","prev","runOnJS","typedMemo"],"sources":["ScrollOffsetListener.tsx"],"sourcesContent":["import Animated, { runOnJS, useAnimatedReaction } from \"react-native-reanimated\";\nimport { typedMemo } from \"../utils\";\n\ntype Props = {\n  scrollOffset: Animated.SharedValue<number>;\n  onScrollOffsetChange: (offset: number) => void;\n};\n\nconst ScrollOffsetListener = ({\n  scrollOffset,\n  onScrollOffsetChange,\n}: Props) => {\n\n  useAnimatedReaction(() => {\n    return scrollOffset.value\n  }, (cur, prev) => {\n    if (cur !== prev) {\n      runOnJS(onScrollOffsetChange)(cur)\n    }\n  }, [scrollOffset])\n\n  return null;\n};\n\nexport default typedMemo(ScrollOffsetListener);\n"],"mappings":"gFAAA,8DACA,+BAOA,GAAMA,qBAAoB,CAAG,QAAvBA,qBAAuB,MAGhB,IAFXC,aAEW,MAFXA,YAEW,CADXC,oBACW,MADXA,oBACW,CAEX,GAAAC,0CAAA,iCAA0B,CACxB,MAAOF,aAAY,CAACG,KAApB,CACD,CAFD,2BAXOH,YAWP,+SAEII,GAFJ,CAESC,IAFT,CAEkB,CAChB,GAAID,GAAG,GAAKC,IAAZ,CAAkB,CAChB,GAAAC,8BAAA,EAAQL,oBAAR,EAA8BG,GAA9B,EACD,CACF,CAND,sBAVEE,8BAUF,sBAVUL,oBAUV,gUAMG,CAACD,YAAD,CANH,EAQA,MAAO,KAAP,CACD,CAdD,C,aAgBe,GAAAO,gBAAA,EAAUR,oBAAV,C"}
\ No newline at end of file
+{"version":3,"names":["_reactNativeReanimated","require","_utils","ScrollOffsetListener","_ref","scrollOffset","onScrollOffsetChange","useAnimatedReaction","_f","value","_closure","asString","__workletHash","__location","cur","prev","runOnJS","_default","exports","default","typedMemo"],"sources":["ScrollOffsetListener.tsx"],"sourcesContent":["import Animated, { runOnJS, useAnimatedReaction } from \"react-native-reanimated\";\nimport { typedMemo } from \"../utils\";\n\ntype Props = {\n  scrollOffset: Animated.SharedValue<number>;\n  onScrollOffsetChange: (offset: number) => void;\n};\n\nconst ScrollOffsetListener = ({\n  scrollOffset,\n  onScrollOffsetChange,\n}: Props) => {\n\n  useAnimatedReaction(() => {\n    return scrollOffset.value\n  }, (cur, prev) => {\n    if (cur !== prev) {\n      runOnJS(onScrollOffsetChange)(cur)\n    }\n  }, [scrollOffset])\n\n  return null;\n};\n\nexport default typedMemo(ScrollOffsetListener);\n"],"mappings":"gFAAA,IAAAA,sBAAA,CAAAC,OAAA,4BACA,IAAAC,MAAA,CAAAD,OAAA,aAOA,GAAM,CAAAE,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAAC,IAAA,CAGb,IAFX,CAAAC,YAAY,CAAAD,IAAA,CAAZC,YAAY,CACZC,oBAAoB,CAAAF,IAAA,CAApBE,oBAAoB,CAGpB,GAAAC,0CAAmB,iBAAAC,EAAA,UAAAA,GAAA,CAAO,CACxB,MAAO,CAAAH,YAAY,CAACI,KAAK,CAC3B,CAAC,CAAAD,EAAA,CAAAE,QAAA,EAAAL,YAAA,CAbMA,YAAY,EAAAG,EAAA,CAAAG,QAAA,mFAAAH,EAAA,CAAAI,aAAA,gBAAAJ,EAAA,CAAAK,UAAA,wHAAAL,EAAA,oBAAAA,EAAA,UAAAA,GAafM,GAAG,CAAEC,IAAI,CAAK,CAChB,GAAID,GAAG,GAAKC,IAAI,CAAE,CAChB,GAAAC,8BAAO,EAACV,oBAAoB,CAAC,CAACQ,GAAG,CAAC,CACpC,CACF,CAAC,CAAAN,EAAA,CAAAE,QAAA,EAAAM,OAAA,CAhBCA,8BAAO,CAAAV,oBAAA,CAACA,oBAAoB,EAAAE,EAAA,CAAAG,QAAA,oIAAAH,EAAA,CAAAI,aAAA,eAAAJ,EAAA,CAAAK,UAAA,uHAAAL,EAAA,KAgB3B,CAACH,YAAY,CAAC,CAAC,CAElB,MAAO,KAAI,CACb,CAAC,CAAC,IAAAY,QAAA,CAAAC,OAAA,CAAAC,OAAA,CAEa,GAAAC,gBAAS,EAACjB,oBAAoB,CAAC","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/constants.js b/lib/commonjs/constants.js
index 80dfb8d9789d8e18ca2124945bd7dc0a2100d71b..4b33b73c4531d9add2d731e321984fe6615ec153 100644
--- a/lib/commonjs/constants.js
+++ b/lib/commonjs/constants.js
@@ -1,2 +1,2 @@
-Object.defineProperty(exports,"__esModule",{value:true});exports.isReanimatedV2=exports.isWeb=exports.isAndroid=exports.isIOS=exports.DEFAULT_PROPS=exports.DEFAULT_ANIMATION_CONFIG=exports.SCROLL_POSITION_TOLERANCE=void 0;var _reactNative=require("react-native");var _reactNativeReanimated=require("react-native-reanimated");var SCROLL_POSITION_TOLERANCE=2;exports.SCROLL_POSITION_TOLERANCE=SCROLL_POSITION_TOLERANCE;var DEFAULT_ANIMATION_CONFIG={damping:20,mass:0.2,stiffness:100,overshootClamping:false,restSpeedThreshold:0.2,restDisplacementThreshold:0.2};exports.DEFAULT_ANIMATION_CONFIG=DEFAULT_ANIMATION_CONFIG;var DEFAULT_PROPS={autoscrollThreshold:30,autoscrollSpeed:100,animationConfig:DEFAULT_ANIMATION_CONFIG,scrollEnabled:true,dragHitSlop:0,activationDistance:0,dragItemOverflow:false};exports.DEFAULT_PROPS=DEFAULT_PROPS;var isIOS=_reactNative.Platform.OS==="ios";exports.isIOS=isIOS;var isAndroid=_reactNative.Platform.OS==="android";exports.isAndroid=isAndroid;var isWeb=_reactNative.Platform.OS==="web";exports.isWeb=isWeb;var isReanimatedV2=!!_reactNativeReanimated.useSharedValue;exports.isReanimatedV2=isReanimatedV2;if(!isReanimatedV2){throw new Error("Your version of react-native-reanimated is too old for react-native-draggable-flatlist!");}
+Object.defineProperty(exports,"__esModule",{value:true});exports.isWeb=exports.isReanimatedV2=exports.isIOS=exports.isAndroid=exports.SCROLL_POSITION_TOLERANCE=exports.DEFAULT_PROPS=exports.DEFAULT_ANIMATION_CONFIG=void 0;var _reactNative=require("react-native");var _reactNativeReanimated=require("react-native-reanimated");var SCROLL_POSITION_TOLERANCE=exports.SCROLL_POSITION_TOLERANCE=2;var DEFAULT_ANIMATION_CONFIG=exports.DEFAULT_ANIMATION_CONFIG={damping:20,mass:0.2,stiffness:100,overshootClamping:false,restSpeedThreshold:0.2,restDisplacementThreshold:0.2};var DEFAULT_PROPS=exports.DEFAULT_PROPS={autoscrollThreshold:30,autoscrollSpeed:100,animationConfig:DEFAULT_ANIMATION_CONFIG,scrollEnabled:true,dragHitSlop:0,activationDistance:0,dragItemOverflow:false};var isIOS=exports.isIOS=_reactNative.Platform.OS==="ios";var isAndroid=exports.isAndroid=_reactNative.Platform.OS==="android";var isWeb=exports.isWeb=_reactNative.Platform.OS==="web";var isReanimatedV2=exports.isReanimatedV2=!!_reactNativeReanimated.useSharedValue;if(!isReanimatedV2){throw new Error("Your version of react-native-reanimated is too old for react-native-draggable-flatlist!");}
 //# sourceMappingURL=constants.js.map
\ No newline at end of file
diff --git a/lib/commonjs/constants.js.map b/lib/commonjs/constants.js.map
index 9b5666147fe32d735e9edeac257b47a108b784f4..b8bdfec1a33bab6e4d6dd37515fa4b2d0c99b080 100644
--- a/lib/commonjs/constants.js.map
+++ b/lib/commonjs/constants.js.map
@@ -1 +1 @@
-{"version":3,"names":["SCROLL_POSITION_TOLERANCE","DEFAULT_ANIMATION_CONFIG","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","DEFAULT_PROPS","autoscrollThreshold","autoscrollSpeed","animationConfig","scrollEnabled","dragHitSlop","activationDistance","dragItemOverflow","isIOS","Platform","OS","isAndroid","isWeb","isReanimatedV2","useSharedValue","Error"],"sources":["constants.ts"],"sourcesContent":["import { Platform } from \"react-native\";\nimport { PanGestureHandlerProperties } from \"react-native-gesture-handler\";\nimport Animated, {\n  useSharedValue,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\n// Fire onScrollComplete when within this many px of target offset\nexport const SCROLL_POSITION_TOLERANCE = 2;\nexport const DEFAULT_ANIMATION_CONFIG: WithSpringConfig = {\n  damping: 20,\n  mass: 0.2,\n  stiffness: 100,\n  overshootClamping: false,\n  restSpeedThreshold: 0.2,\n  restDisplacementThreshold: 0.2,\n};\n\nexport const DEFAULT_PROPS = {\n  autoscrollThreshold: 30,\n  autoscrollSpeed: 100,\n  animationConfig: DEFAULT_ANIMATION_CONFIG,\n  scrollEnabled: true,\n  dragHitSlop: 0 as PanGestureHandlerProperties[\"hitSlop\"],\n  activationDistance: 0,\n  dragItemOverflow: false,\n};\n\nexport const isIOS = Platform.OS === \"ios\";\nexport const isAndroid = Platform.OS === \"android\";\nexport const isWeb = Platform.OS === \"web\";\n\n// Is there a better way to check for v2?\nexport const isReanimatedV2 = !!useSharedValue;\n\nif (!isReanimatedV2) {\n  throw new Error(\n    \"Your version of react-native-reanimated is too old for react-native-draggable-flatlist!\"\n  );\n}\n"],"mappings":"8NAAA,yCAEA,8DAMO,GAAMA,0BAAyB,CAAG,CAAlC,C,4DACA,GAAMC,yBAA0C,CAAG,CACxDC,OAAO,CAAE,EAD+C,CAExDC,IAAI,CAAE,GAFkD,CAGxDC,SAAS,CAAE,GAH6C,CAIxDC,iBAAiB,CAAE,KAJqC,CAKxDC,kBAAkB,CAAE,GALoC,CAMxDC,yBAAyB,CAAE,GAN6B,CAAnD,C,0DASA,GAAMC,cAAa,CAAG,CAC3BC,mBAAmB,CAAE,EADM,CAE3BC,eAAe,CAAE,GAFU,CAG3BC,eAAe,CAAEV,wBAHU,CAI3BW,aAAa,CAAE,IAJY,CAK3BC,WAAW,CAAE,CALc,CAM3BC,kBAAkB,CAAE,CANO,CAO3BC,gBAAgB,CAAE,KAPS,CAAtB,C,oCAUA,GAAMC,MAAK,CAAGC,qBAAA,CAASC,EAAT,GAAgB,KAA9B,C,oBACA,GAAMC,UAAS,CAAGF,qBAAA,CAASC,EAAT,GAAgB,SAAlC,C,4BACA,GAAME,MAAK,CAAGH,qBAAA,CAASC,EAAT,GAAgB,KAA9B,C,oBAGA,GAAMG,eAAc,CAAG,CAAC,CAACC,qCAAzB,C,sCAEP,GAAI,CAACD,cAAL,CAAqB,CACnB,KAAM,IAAIE,MAAJ,CACJ,yFADI,CAAN,CAGD"}
\ No newline at end of file
+{"version":3,"names":["_reactNative","require","_reactNativeReanimated","SCROLL_POSITION_TOLERANCE","exports","DEFAULT_ANIMATION_CONFIG","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","DEFAULT_PROPS","autoscrollThreshold","autoscrollSpeed","animationConfig","scrollEnabled","dragHitSlop","activationDistance","dragItemOverflow","isIOS","Platform","OS","isAndroid","isWeb","isReanimatedV2","useSharedValue","Error"],"sources":["constants.ts"],"sourcesContent":["import { Platform } from \"react-native\";\nimport { PanGestureHandlerProperties } from \"react-native-gesture-handler\";\nimport Animated, {\n  useSharedValue,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\n// Fire onScrollComplete when within this many px of target offset\nexport const SCROLL_POSITION_TOLERANCE = 2;\nexport const DEFAULT_ANIMATION_CONFIG: WithSpringConfig = {\n  damping: 20,\n  mass: 0.2,\n  stiffness: 100,\n  overshootClamping: false,\n  restSpeedThreshold: 0.2,\n  restDisplacementThreshold: 0.2,\n};\n\nexport const DEFAULT_PROPS = {\n  autoscrollThreshold: 30,\n  autoscrollSpeed: 100,\n  animationConfig: DEFAULT_ANIMATION_CONFIG,\n  scrollEnabled: true,\n  dragHitSlop: 0 as PanGestureHandlerProperties[\"hitSlop\"],\n  activationDistance: 0,\n  dragItemOverflow: false,\n};\n\nexport const isIOS = Platform.OS === \"ios\";\nexport const isAndroid = Platform.OS === \"android\";\nexport const isWeb = Platform.OS === \"web\";\n\n// Is there a better way to check for v2?\nexport const isReanimatedV2 = !!useSharedValue;\n\nif (!isReanimatedV2) {\n  throw new Error(\n    \"Your version of react-native-reanimated is too old for react-native-draggable-flatlist!\"\n  );\n}\n"],"mappings":"8NAAA,IAAAA,YAAA,CAAAC,OAAA,iBAEA,IAAAC,sBAAA,CAAAD,OAAA,4BAMO,GAAM,CAAAE,yBAAyB,CAAAC,OAAA,CAAAD,yBAAA,CAAG,CAAC,CACnC,GAAM,CAAAE,wBAA0C,CAAAD,OAAA,CAAAC,wBAAA,CAAG,CACxDC,OAAO,CAAE,EAAE,CACXC,IAAI,CAAE,GAAG,CACTC,SAAS,CAAE,GAAG,CACdC,iBAAiB,CAAE,KAAK,CACxBC,kBAAkB,CAAE,GAAG,CACvBC,yBAAyB,CAAE,GAC7B,CAAC,CAEM,GAAM,CAAAC,aAAa,CAAAR,OAAA,CAAAQ,aAAA,CAAG,CAC3BC,mBAAmB,CAAE,EAAE,CACvBC,eAAe,CAAE,GAAG,CACpBC,eAAe,CAAEV,wBAAwB,CACzCW,aAAa,CAAE,IAAI,CACnBC,WAAW,CAAE,CAA2C,CACxDC,kBAAkB,CAAE,CAAC,CACrBC,gBAAgB,CAAE,KACpB,CAAC,CAEM,GAAM,CAAAC,KAAK,CAAAhB,OAAA,CAAAgB,KAAA,CAAGC,qBAAQ,CAACC,EAAE,GAAK,KAAK,CACnC,GAAM,CAAAC,SAAS,CAAAnB,OAAA,CAAAmB,SAAA,CAAGF,qBAAQ,CAACC,EAAE,GAAK,SAAS,CAC3C,GAAM,CAAAE,KAAK,CAAApB,OAAA,CAAAoB,KAAA,CAAGH,qBAAQ,CAACC,EAAE,GAAK,KAAK,CAGnC,GAAM,CAAAG,cAAc,CAAArB,OAAA,CAAAqB,cAAA,CAAG,CAAC,CAACC,qCAAc,CAE9C,GAAI,CAACD,cAAc,CAAE,CACnB,KAAM,IAAI,CAAAE,KAAK,CACb,yFACF,CAAC,CACH","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/context/animatedValueContext.js b/lib/commonjs/context/animatedValueContext.js
index 19eec6261c591fd79ec462c5ee6fa6aaf2126fa5..538c3663a3a377b30a05f2b9ebc1e7a8d42c5544 100644
--- a/lib/commonjs/context/animatedValueContext.js
+++ b/lib/commonjs/context/animatedValueContext.js
@@ -1,2 +1,2 @@
-Object.defineProperty(exports,"__esModule",{value:true});exports.default=AnimatedValueProvider;exports.useAnimatedValues=useAnimatedValues;var _react=_interopRequireWildcard(require("react"));var _reactNativeReanimated=require("react-native-reanimated");var _reactNativeGestureHandler=require("react-native-gesture-handler");var _propsContext=require("./propsContext");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/animatedValueContext.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var AnimatedValueContext=_react.default.createContext(undefined);function AnimatedValueProvider(_ref){var children=_ref.children;var value=useSetupAnimatedValues();return _react.default.createElement(AnimatedValueContext.Provider,{value:value,__self:this,__source:{fileName:_jsxFileName,lineNumber:21,columnNumber:5}},children);}function useAnimatedValues(){var value=(0,_react.useContext)(AnimatedValueContext);if(!value){throw new Error("useAnimatedValues must be called from within AnimatedValueProvider!");}return value;}function useSetupAnimatedValues(){var props=(0,_propsContext.useProps)();var DEFAULT_VAL=(0,_reactNativeReanimated.useSharedValue)(0);var containerSize=(0,_reactNativeReanimated.useSharedValue)(0);var scrollViewSize=(0,_reactNativeReanimated.useSharedValue)(0);var panGestureState=(0,_reactNativeReanimated.useSharedValue)(_reactNativeGestureHandler.State.UNDETERMINED);var touchTranslate=(0,_reactNativeReanimated.useSharedValue)(0);var isTouchActiveNative=(0,_reactNativeReanimated.useSharedValue)(false);var hasMoved=(0,_reactNativeReanimated.useSharedValue)(0);var disabled=(0,_reactNativeReanimated.useSharedValue)(false);var horizontalAnim=(0,_reactNativeReanimated.useSharedValue)(!!props.horizontal);var activeIndexAnim=(0,_reactNativeReanimated.useSharedValue)(-1);var spacerIndexAnim=(0,_reactNativeReanimated.useSharedValue)(-1);var activeCellSize=(0,_reactNativeReanimated.useSharedValue)(0);var activeCellOffset=(0,_reactNativeReanimated.useSharedValue)(0);var scrollOffset=(0,_reactNativeReanimated.useSharedValue)(0);var scrollInit=(0,_reactNativeReanimated.useSharedValue)(0);var viewableIndexMin=(0,_reactNativeReanimated.useSharedValue)(0);var viewableIndexMax=(0,_reactNativeReanimated.useSharedValue)(0);var outerScrollOffset=props.outerScrollOffset||DEFAULT_VAL;var outerScrollInit=(0,_reactNativeReanimated.useSharedValue)(0);(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return activeIndexAnim.value;};_f._closure={activeIndexAnim:activeIndexAnim};_f.asString="function _f(){const{activeIndexAnim}=jsThis._closure;{return activeIndexAnim.value;}}";_f.__workletHash=1662895275731;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/animatedValueContext.tsx (74:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur!==prev&&cur>=0){scrollInit.value=scrollOffset.value;outerScrollInit.value=outerScrollOffset.value;}};_f._closure={scrollInit:scrollInit,scrollOffset:scrollOffset,outerScrollInit:outerScrollInit,outerScrollOffset:outerScrollOffset};_f.asString="function _f(cur,prev){const{scrollInit,scrollOffset,outerScrollInit,outerScrollOffset}=jsThis._closure;{if(cur!==prev&&cur>=0){scrollInit.value=scrollOffset.value;outerScrollInit.value=outerScrollOffset.value;}}}";_f.__workletHash=14917928217945;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/animatedValueContext.tsx (77:4)";return _f;}(),[outerScrollOffset]);var placeholderOffset=(0,_reactNativeReanimated.useSharedValue)(0);var isDraggingCell=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return isTouchActiveNative.value&&activeIndexAnim.value>=0;};_f._closure={isTouchActiveNative:isTouchActiveNative,activeIndexAnim:activeIndexAnim};_f.asString="function _f(){const{isTouchActiveNative,activeIndexAnim}=jsThis._closure;{return isTouchActiveNative.value&&activeIndexAnim.value>=0;}}";_f.__workletHash=15157110606697;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/animatedValueContext.tsx (88:41)";return _f;}(),[]);var autoScrollDistance=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){if(!isDraggingCell.value)return 0;var innerScrollDiff=scrollOffset.value-scrollInit.value;var outerScrollDiff=outerScrollOffset.value-outerScrollInit.value;var scrollDiff=innerScrollDiff+outerScrollDiff;return scrollDiff;};_f._closure={isDraggingCell:isDraggingCell,scrollOffset:scrollOffset,scrollInit:scrollInit,outerScrollOffset:outerScrollOffset,outerScrollInit:outerScrollInit};_f.asString="function _f(){const{isDraggingCell,scrollOffset,scrollInit,outerScrollOffset,outerScrollInit}=jsThis._closure;{if(!isDraggingCell.value)return 0;const innerScrollDiff=scrollOffset.value-scrollInit.value;const outerScrollDiff=outerScrollOffset.value-outerScrollInit.value;const scrollDiff=innerScrollDiff+outerScrollDiff;return scrollDiff;}}";_f.__workletHash=15552139107413;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/animatedValueContext.tsx (92:45)";return _f;}(),[]);var touchPositionDiff=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var extraTranslate=isTouchActiveNative.value?autoScrollDistance.value:0;return touchTranslate.value+extraTranslate;};_f._closure={isTouchActiveNative:isTouchActiveNative,autoScrollDistance:autoScrollDistance,touchTranslate:touchTranslate};_f.asString="function _f(){const{isTouchActiveNative,autoScrollDistance,touchTranslate}=jsThis._closure;{const extraTranslate=isTouchActiveNative.value?autoScrollDistance.value:0;return touchTranslate.value+extraTranslate;}}";_f.__workletHash=6038336113742;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/animatedValueContext.tsx (101:44)";return _f;}(),[]);var touchPositionDiffConstrained=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var containerMinusActiveCell=containerSize.value-activeCellSize.value+scrollOffset.value;var offsetRelativeToScrollTop=touchPositionDiff.value+activeCellOffset.value;var constrained=Math.min(containerMinusActiveCell,Math.max(scrollOffset.value,offsetRelativeToScrollTop));var maxTranslateNegative=-activeCellOffset.value;var maxTranslatePositive=scrollViewSize.value-(activeCellOffset.value+activeCellSize.value);var constrainedBase=isTouchActiveNative.value?constrained-activeCellOffset.value:touchPositionDiff.value;return Math.min(Math.max(constrainedBase,maxTranslateNegative),maxTranslatePositive);};_f._closure={containerSize:containerSize,activeCellSize:activeCellSize,scrollOffset:scrollOffset,touchPositionDiff:touchPositionDiff,activeCellOffset:activeCellOffset,scrollViewSize:scrollViewSize,isTouchActiveNative:isTouchActiveNative};_f.asString="function _f(){const{containerSize,activeCellSize,scrollOffset,touchPositionDiff,activeCellOffset,scrollViewSize,isTouchActiveNative}=jsThis._closure;{const containerMinusActiveCell=containerSize.value-activeCellSize.value+scrollOffset.value;const offsetRelativeToScrollTop=touchPositionDiff.value+activeCellOffset.value;const constrained=Math.min(containerMinusActiveCell,Math.max(scrollOffset.value,offsetRelativeToScrollTop));const maxTranslateNegative=-activeCellOffset.value;const maxTranslatePositive=scrollViewSize.value-(activeCellOffset.value+activeCellSize.value);const constrainedBase=isTouchActiveNative.value?constrained-activeCellOffset.value:touchPositionDiff.value;return Math.min(Math.max(constrainedBase,maxTranslateNegative),maxTranslatePositive);}}";_f.__workletHash=12403615032773;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/animatedValueContext.tsx (108:55)";return _f;}(),[]);var hoverAnim=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){if(activeIndexAnim.value<0)return 0;return props.dragItemOverflow?touchPositionDiff.value:touchPositionDiffConstrained.value;};_f._closure={activeIndexAnim:activeIndexAnim,props:{dragItemOverflow:props.dragItemOverflow},touchPositionDiff:touchPositionDiff,touchPositionDiffConstrained:touchPositionDiffConstrained};_f.asString="function _f(){const{activeIndexAnim,props,touchPositionDiff,touchPositionDiffConstrained}=jsThis._closure;{if(activeIndexAnim.value<0)return 0;return props.dragItemOverflow?touchPositionDiff.value:touchPositionDiffConstrained.value;}}";_f.__workletHash=4766979967758;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/animatedValueContext.tsx (136:36)";return _f;}(),[]);var hoverOffset=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return hoverAnim.value+activeCellOffset.value;};_f._closure={hoverAnim:hoverAnim,activeCellOffset:activeCellOffset};_f.asString="function _f(){const{hoverAnim,activeCellOffset}=jsThis._closure;{return hoverAnim.value+activeCellOffset.value;}}";_f.__workletHash=13741556660209;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/animatedValueContext.tsx (143:38)";return _f;}(),[hoverAnim,activeCellOffset]);(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var isHovering=activeIndexAnim.value>=0;if(!isHovering&&spacerIndexAnim.value>=0){spacerIndexAnim.value=-1;}};_f._closure={activeIndexAnim:activeIndexAnim,spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(){const{activeIndexAnim,spacerIndexAnim}=jsThis._closure;{const isHovering=activeIndexAnim.value>=0;if(!isHovering&&spacerIndexAnim.value>=0){spacerIndexAnim.value=-1;}}}";_f.__workletHash=11056248743165;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/animatedValueContext.tsx (147:18)";return _f;}(),[]);var resetTouchedCell=(0,_react.useCallback)(function(){activeCellOffset.value=0;hasMoved.value=0;},[]);var value=(0,_react.useMemo)(function(){return{activeCellOffset:activeCellOffset,activeCellSize:activeCellSize,activeIndexAnim:activeIndexAnim,containerSize:containerSize,disabled:disabled,horizontalAnim:horizontalAnim,hoverAnim:hoverAnim,hoverOffset:hoverOffset,isDraggingCell:isDraggingCell,isTouchActiveNative:isTouchActiveNative,panGestureState:panGestureState,placeholderOffset:placeholderOffset,resetTouchedCell:resetTouchedCell,scrollOffset:scrollOffset,scrollViewSize:scrollViewSize,spacerIndexAnim:spacerIndexAnim,touchPositionDiff:touchPositionDiff,touchTranslate:touchTranslate,autoScrollDistance:autoScrollDistance,viewableIndexMin:viewableIndexMin,viewableIndexMax:viewableIndexMax};},[activeCellOffset,activeCellSize,activeIndexAnim,containerSize,disabled,horizontalAnim,hoverAnim,hoverOffset,isDraggingCell,isTouchActiveNative,panGestureState,placeholderOffset,resetTouchedCell,scrollOffset,scrollViewSize,spacerIndexAnim,touchPositionDiff,touchTranslate,autoScrollDistance,viewableIndexMin,viewableIndexMax]);(0,_react.useEffect)(function(){props.onAnimValInit==null?void 0:props.onAnimValInit(value);},[value]);return value;}
+Object.defineProperty(exports,"__esModule",{value:true});exports.default=AnimatedValueProvider;exports.useAnimatedValues=useAnimatedValues;var _react=_interopRequireWildcard(require("react"));var _reactNativeReanimated=require("react-native-reanimated");var _reactNativeGestureHandler=require("react-native-gesture-handler");var _propsContext=require("./propsContext");var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\animatedValueContext.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var AnimatedValueContext=_react.default.createContext(undefined);function AnimatedValueProvider(_ref){var children=_ref.children;var value=useSetupAnimatedValues();return _react.default.createElement(AnimatedValueContext.Provider,{value:value,__self:this,__source:{fileName:_jsxFileName,lineNumber:21,columnNumber:5}},children);}function useAnimatedValues(){var value=(0,_react.useContext)(AnimatedValueContext);if(!value){throw new Error("useAnimatedValues must be called from within AnimatedValueProvider!");}return value;}function useSetupAnimatedValues(){var props=(0,_propsContext.useProps)();var DEFAULT_VAL=(0,_reactNativeReanimated.useSharedValue)(0);var containerSize=(0,_reactNativeReanimated.useSharedValue)(0);var scrollViewSize=(0,_reactNativeReanimated.useSharedValue)(0);var panGestureState=(0,_reactNativeReanimated.useSharedValue)(_reactNativeGestureHandler.State.UNDETERMINED);var touchTranslate=(0,_reactNativeReanimated.useSharedValue)(0);var isTouchActiveNative=(0,_reactNativeReanimated.useSharedValue)(false);var hasMoved=(0,_reactNativeReanimated.useSharedValue)(0);var disabled=(0,_reactNativeReanimated.useSharedValue)(false);var horizontalAnim=(0,_reactNativeReanimated.useSharedValue)(!!props.horizontal);var activeIndexAnim=(0,_reactNativeReanimated.useSharedValue)(-1);var spacerIndexAnim=(0,_reactNativeReanimated.useSharedValue)(-1);var activeCellSize=(0,_reactNativeReanimated.useSharedValue)(0);var activeCellOffset=(0,_reactNativeReanimated.useSharedValue)(0);var scrollOffset=(0,_reactNativeReanimated.useSharedValue)(0);var scrollInit=(0,_reactNativeReanimated.useSharedValue)(0);var viewableIndexMin=(0,_reactNativeReanimated.useSharedValue)(0);var viewableIndexMax=(0,_reactNativeReanimated.useSharedValue)(0);var outerScrollOffset=props.outerScrollOffset||DEFAULT_VAL;var outerScrollInit=(0,_reactNativeReanimated.useSharedValue)(0);(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return activeIndexAnim.value;};_f._closure={activeIndexAnim:activeIndexAnim};_f.asString="function _f(){const{activeIndexAnim}=jsThis._closure;{return activeIndexAnim.value;}}";_f.__workletHash=1662895275731;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\animatedValueContext.tsx (74:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur!==prev&&cur>=0){scrollInit.value=scrollOffset.value;outerScrollInit.value=outerScrollOffset.value;}};_f._closure={scrollInit:scrollInit,scrollOffset:scrollOffset,outerScrollInit:outerScrollInit,outerScrollOffset:outerScrollOffset};_f.asString="function _f(cur,prev){const{scrollInit,scrollOffset,outerScrollInit,outerScrollOffset}=jsThis._closure;{if(cur!==prev&&cur>=0){scrollInit.value=scrollOffset.value;outerScrollInit.value=outerScrollOffset.value;}}}";_f.__workletHash=14917928217945;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\animatedValueContext.tsx (77:4)";return _f;}(),[outerScrollOffset]);var placeholderOffset=(0,_reactNativeReanimated.useSharedValue)(0);var isDraggingCell=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return isTouchActiveNative.value&&activeIndexAnim.value>=0;};_f._closure={isTouchActiveNative:isTouchActiveNative,activeIndexAnim:activeIndexAnim};_f.asString="function _f(){const{isTouchActiveNative,activeIndexAnim}=jsThis._closure;{return isTouchActiveNative.value&&activeIndexAnim.value>=0;}}";_f.__workletHash=15157110606697;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\animatedValueContext.tsx (88:41)";return _f;}(),[]);var autoScrollDistance=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){if(!isDraggingCell.value)return 0;var innerScrollDiff=scrollOffset.value-scrollInit.value;var outerScrollDiff=outerScrollOffset.value-outerScrollInit.value;var scrollDiff=innerScrollDiff+outerScrollDiff;return scrollDiff;};_f._closure={isDraggingCell:isDraggingCell,scrollOffset:scrollOffset,scrollInit:scrollInit,outerScrollOffset:outerScrollOffset,outerScrollInit:outerScrollInit};_f.asString="function _f(){const{isDraggingCell,scrollOffset,scrollInit,outerScrollOffset,outerScrollInit}=jsThis._closure;{if(!isDraggingCell.value)return 0;const innerScrollDiff=scrollOffset.value-scrollInit.value;const outerScrollDiff=outerScrollOffset.value-outerScrollInit.value;const scrollDiff=innerScrollDiff+outerScrollDiff;return scrollDiff;}}";_f.__workletHash=15552139107413;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\animatedValueContext.tsx (92:45)";return _f;}(),[]);var touchPositionDiff=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var extraTranslate=isTouchActiveNative.value?autoScrollDistance.value:0;return touchTranslate.value+extraTranslate;};_f._closure={isTouchActiveNative:isTouchActiveNative,autoScrollDistance:autoScrollDistance,touchTranslate:touchTranslate};_f.asString="function _f(){const{isTouchActiveNative,autoScrollDistance,touchTranslate}=jsThis._closure;{const extraTranslate=isTouchActiveNative.value?autoScrollDistance.value:0;return touchTranslate.value+extraTranslate;}}";_f.__workletHash=6038336113742;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\animatedValueContext.tsx (101:44)";return _f;}(),[]);var touchPositionDiffConstrained=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var containerMinusActiveCell=containerSize.value-activeCellSize.value+scrollOffset.value;var offsetRelativeToScrollTop=touchPositionDiff.value+activeCellOffset.value;var constrained=Math.min(containerMinusActiveCell,Math.max(scrollOffset.value,offsetRelativeToScrollTop));var maxTranslateNegative=-activeCellOffset.value;var maxTranslatePositive=scrollViewSize.value-(activeCellOffset.value+activeCellSize.value);var constrainedBase=isTouchActiveNative.value?constrained-activeCellOffset.value:touchPositionDiff.value;return Math.min(Math.max(constrainedBase,maxTranslateNegative),maxTranslatePositive);};_f._closure={containerSize:containerSize,activeCellSize:activeCellSize,scrollOffset:scrollOffset,touchPositionDiff:touchPositionDiff,activeCellOffset:activeCellOffset,scrollViewSize:scrollViewSize,isTouchActiveNative:isTouchActiveNative};_f.asString="function _f(){const{containerSize,activeCellSize,scrollOffset,touchPositionDiff,activeCellOffset,scrollViewSize,isTouchActiveNative}=jsThis._closure;{const containerMinusActiveCell=containerSize.value-activeCellSize.value+scrollOffset.value;const offsetRelativeToScrollTop=touchPositionDiff.value+activeCellOffset.value;const constrained=Math.min(containerMinusActiveCell,Math.max(scrollOffset.value,offsetRelativeToScrollTop));const maxTranslateNegative=-activeCellOffset.value;const maxTranslatePositive=scrollViewSize.value-(activeCellOffset.value+activeCellSize.value);const constrainedBase=isTouchActiveNative.value?constrained-activeCellOffset.value:touchPositionDiff.value;return Math.min(Math.max(constrainedBase,maxTranslateNegative),maxTranslatePositive);}}";_f.__workletHash=12403615032773;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\animatedValueContext.tsx (108:55)";return _f;}(),[]);var hoverAnim=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){if(activeIndexAnim.value<0)return 0;return props.dragItemOverflow?touchPositionDiff.value:touchPositionDiffConstrained.value;};_f._closure={activeIndexAnim:activeIndexAnim,props:{dragItemOverflow:props.dragItemOverflow},touchPositionDiff:touchPositionDiff,touchPositionDiffConstrained:touchPositionDiffConstrained};_f.asString="function _f(){const{activeIndexAnim,props,touchPositionDiff,touchPositionDiffConstrained}=jsThis._closure;{if(activeIndexAnim.value<0)return 0;return props.dragItemOverflow?touchPositionDiff.value:touchPositionDiffConstrained.value;}}";_f.__workletHash=4766979967758;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\animatedValueContext.tsx (136:36)";return _f;}(),[]);var hoverOffset=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return hoverAnim.value+activeCellOffset.value;};_f._closure={hoverAnim:hoverAnim,activeCellOffset:activeCellOffset};_f.asString="function _f(){const{hoverAnim,activeCellOffset}=jsThis._closure;{return hoverAnim.value+activeCellOffset.value;}}";_f.__workletHash=13741556660209;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\animatedValueContext.tsx (143:38)";return _f;}(),[hoverAnim,activeCellOffset]);(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var isHovering=activeIndexAnim.value>=0;if(!isHovering&&spacerIndexAnim.value>=0){spacerIndexAnim.value=-1;}};_f._closure={activeIndexAnim:activeIndexAnim,spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(){const{activeIndexAnim,spacerIndexAnim}=jsThis._closure;{const isHovering=activeIndexAnim.value>=0;if(!isHovering&&spacerIndexAnim.value>=0){spacerIndexAnim.value=-1;}}}";_f.__workletHash=11056248743165;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\animatedValueContext.tsx (147:18)";return _f;}(),[]);var resetTouchedCell=(0,_react.useCallback)(function(){activeCellOffset.value=0;hasMoved.value=0;},[]);var value=(0,_react.useMemo)(function(){return{activeCellOffset:activeCellOffset,activeCellSize:activeCellSize,activeIndexAnim:activeIndexAnim,containerSize:containerSize,disabled:disabled,horizontalAnim:horizontalAnim,hoverAnim:hoverAnim,hoverOffset:hoverOffset,isDraggingCell:isDraggingCell,isTouchActiveNative:isTouchActiveNative,panGestureState:panGestureState,placeholderOffset:placeholderOffset,resetTouchedCell:resetTouchedCell,scrollOffset:scrollOffset,scrollViewSize:scrollViewSize,spacerIndexAnim:spacerIndexAnim,touchPositionDiff:touchPositionDiff,touchTranslate:touchTranslate,autoScrollDistance:autoScrollDistance,viewableIndexMin:viewableIndexMin,viewableIndexMax:viewableIndexMax};},[activeCellOffset,activeCellSize,activeIndexAnim,containerSize,disabled,horizontalAnim,hoverAnim,hoverOffset,isDraggingCell,isTouchActiveNative,panGestureState,placeholderOffset,resetTouchedCell,scrollOffset,scrollViewSize,spacerIndexAnim,touchPositionDiff,touchTranslate,autoScrollDistance,viewableIndexMin,viewableIndexMax]);(0,_react.useEffect)(function(){props.onAnimValInit==null?void 0:props.onAnimValInit(value);},[value]);return value;}
 //# sourceMappingURL=animatedValueContext.js.map
\ No newline at end of file
diff --git a/lib/commonjs/context/animatedValueContext.js.map b/lib/commonjs/context/animatedValueContext.js.map
index 57308fbd96004d2b12d49994bb179805558d9e2f..35a972524bee780f2bb10fb400f146a9e2d6dfc1 100644
--- a/lib/commonjs/context/animatedValueContext.js.map
+++ b/lib/commonjs/context/animatedValueContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["AnimatedValueContext","React","createContext","undefined","AnimatedValueProvider","children","value","useSetupAnimatedValues","useAnimatedValues","useContext","Error","props","useProps","DEFAULT_VAL","useSharedValue","containerSize","scrollViewSize","panGestureState","GestureState","UNDETERMINED","touchTranslate","isTouchActiveNative","hasMoved","disabled","horizontalAnim","horizontal","activeIndexAnim","spacerIndexAnim","activeCellSize","activeCellOffset","scrollOffset","scrollInit","viewableIndexMin","viewableIndexMax","outerScrollOffset","outerScrollInit","useAnimatedReaction","cur","prev","placeholderOffset","isDraggingCell","useDerivedValue","autoScrollDistance","innerScrollDiff","outerScrollDiff","scrollDiff","touchPositionDiff","extraTranslate","touchPositionDiffConstrained","containerMinusActiveCell","offsetRelativeToScrollTop","constrained","Math","min","max","maxTranslateNegative","maxTranslatePositive","constrainedBase","hoverAnim","dragItemOverflow","hoverOffset","isHovering","resetTouchedCell","useCallback","useMemo","useEffect","onAnimValInit"],"sources":["animatedValueContext.tsx"],"sourcesContent":["import React, { useMemo, useEffect, useCallback, useContext } from \"react\";\nimport {\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { State as GestureState } from \"react-native-gesture-handler\";\nimport { useProps } from \"./propsContext\";\n\nconst AnimatedValueContext = React.createContext<\n  ReturnType<typeof useSetupAnimatedValues> | undefined\n>(undefined);\n\nexport default function AnimatedValueProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const value = useSetupAnimatedValues();\n  return (\n    <AnimatedValueContext.Provider value={value}>\n      {children}\n    </AnimatedValueContext.Provider>\n  );\n}\n\nexport function useAnimatedValues() {\n  const value = useContext(AnimatedValueContext);\n  if (!value) {\n    throw new Error(\n      \"useAnimatedValues must be called from within AnimatedValueProvider!\"\n    );\n  }\n  return value;\n}\n\nfunction useSetupAnimatedValues<T>() {\n  const props = useProps<T>();\n\n  const DEFAULT_VAL = useSharedValue(0);\n\n  const containerSize = useSharedValue(0);\n  const scrollViewSize = useSharedValue(0);\n\n  const panGestureState = useSharedValue<GestureState>(\n    GestureState.UNDETERMINED\n  );\n  const touchTranslate = useSharedValue(0);\n\n  const isTouchActiveNative = useSharedValue(false);\n\n  const hasMoved = useSharedValue(0);\n  const disabled = useSharedValue(false);\n\n  const horizontalAnim = useSharedValue(!!props.horizontal);\n\n  const activeIndexAnim = useSharedValue(-1); // Index of hovering cell\n  const spacerIndexAnim = useSharedValue(-1); // Index of hovered-over cell\n\n  const activeCellSize = useSharedValue(0); // Height or width of acctive cell\n  const activeCellOffset = useSharedValue(0); // Distance between active cell and edge of container\n\n  const scrollOffset = useSharedValue(0);\n  const scrollInit = useSharedValue(0);\n\n  const viewableIndexMin = useSharedValue(0);\n  const viewableIndexMax = useSharedValue(0);\n\n  // If list is nested there may be an outer scrollview\n  const outerScrollOffset = props.outerScrollOffset || DEFAULT_VAL;\n  const outerScrollInit = useSharedValue(0);\n\n  useAnimatedReaction(\n    () => {\n      return activeIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && cur >= 0) {\n        scrollInit.value = scrollOffset.value;\n        outerScrollInit.value = outerScrollOffset.value;\n      }\n    },\n    [outerScrollOffset]\n  );\n\n  const placeholderOffset = useSharedValue(0);\n\n  const isDraggingCell = useDerivedValue(() => {\n    return isTouchActiveNative.value && activeIndexAnim.value >= 0;\n  }, []);\n\n  const autoScrollDistance = useDerivedValue(() => {\n    if (!isDraggingCell.value) return 0;\n    const innerScrollDiff = scrollOffset.value - scrollInit.value;\n    // If list is nested there may be an outer scroll diff\n    const outerScrollDiff = outerScrollOffset.value - outerScrollInit.value;\n    const scrollDiff = innerScrollDiff + outerScrollDiff;\n    return scrollDiff;\n  }, []);\n\n  const touchPositionDiff = useDerivedValue(() => {\n    const extraTranslate = isTouchActiveNative.value\n      ? autoScrollDistance.value\n      : 0;\n    return touchTranslate.value + extraTranslate;\n  }, []);\n\n  const touchPositionDiffConstrained = useDerivedValue(() => {\n    const containerMinusActiveCell =\n      containerSize.value - activeCellSize.value + scrollOffset.value;\n\n    const offsetRelativeToScrollTop =\n      touchPositionDiff.value + activeCellOffset.value;\n    const constrained = Math.min(\n      containerMinusActiveCell,\n      Math.max(scrollOffset.value, offsetRelativeToScrollTop)\n    );\n\n    const maxTranslateNegative = -activeCellOffset.value;\n    const maxTranslatePositive =\n      scrollViewSize.value - (activeCellOffset.value + activeCellSize.value);\n\n    // Only constrain the touch position while the finger is on the screen. This allows the active cell\n    // to snap above/below the fold once let go, if the drag ends at the top/bottom of the screen.\n    const constrainedBase = isTouchActiveNative.value\n      ? constrained - activeCellOffset.value\n      : touchPositionDiff.value;\n\n    // Make sure item is constrained to the boundaries of the scrollview\n    return Math.min(\n      Math.max(constrainedBase, maxTranslateNegative),\n      maxTranslatePositive\n    );\n  }, []);\n\n  const hoverAnim = useDerivedValue(() => {\n    if (activeIndexAnim.value < 0) return 0;\n    return props.dragItemOverflow\n      ? touchPositionDiff.value\n      : touchPositionDiffConstrained.value;\n  }, []);\n\n  const hoverOffset = useDerivedValue(() => {\n    return hoverAnim.value + activeCellOffset.value;\n  }, [hoverAnim, activeCellOffset]);\n\n  useDerivedValue(() => {\n    // Reset spacer index when we stop hovering\n    const isHovering = activeIndexAnim.value >= 0;\n    if (!isHovering && spacerIndexAnim.value >= 0) {\n      spacerIndexAnim.value = -1;\n    }\n  }, []);\n\n  // Note: this could use a refactor as it combines touch state + cell animation\n  const resetTouchedCell = useCallback(() => {\n    activeCellOffset.value = 0;\n    hasMoved.value = 0;\n  }, []);\n\n  const value = useMemo(\n    () => ({\n      activeCellOffset,\n      activeCellSize,\n      activeIndexAnim,\n      containerSize,\n      disabled,\n      horizontalAnim,\n      hoverAnim,\n      hoverOffset,\n      isDraggingCell,\n      isTouchActiveNative,\n      panGestureState,\n      placeholderOffset,\n      resetTouchedCell,\n      scrollOffset,\n      scrollViewSize,\n      spacerIndexAnim,\n      touchPositionDiff,\n      touchTranslate,\n      autoScrollDistance,\n      viewableIndexMin,\n      viewableIndexMax,\n    }),\n    [\n      activeCellOffset,\n      activeCellSize,\n      activeIndexAnim,\n      containerSize,\n      disabled,\n      horizontalAnim,\n      hoverAnim,\n      hoverOffset,\n      isDraggingCell,\n      isTouchActiveNative,\n      panGestureState,\n      placeholderOffset,\n      resetTouchedCell,\n      scrollOffset,\n      scrollViewSize,\n      spacerIndexAnim,\n      touchPositionDiff,\n      touchTranslate,\n      autoScrollDistance,\n      viewableIndexMin,\n      viewableIndexMax,\n    ]\n  );\n\n  useEffect(() => {\n    props.onAnimValInit?.(value);\n  }, [value]);\n\n  return value;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNativeReanimated","_reactNativeGestureHandler","_propsContext","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AnimatedValueContext","React","createContext","undefined","AnimatedValueProvider","_ref","children","value","useSetupAnimatedValues","createElement","Provider","__self","__source","fileName","lineNumber","columnNumber","useAnimatedValues","useContext","Error","props","useProps","DEFAULT_VAL","useSharedValue","containerSize","scrollViewSize","panGestureState","GestureState","UNDETERMINED","touchTranslate","isTouchActiveNative","hasMoved","disabled","horizontalAnim","horizontal","activeIndexAnim","spacerIndexAnim","activeCellSize","activeCellOffset","scrollOffset","scrollInit","viewableIndexMin","viewableIndexMax","outerScrollOffset","outerScrollInit","useAnimatedReaction","_f","_closure","asString","__workletHash","__location","cur","prev","placeholderOffset","isDraggingCell","useDerivedValue","autoScrollDistance","innerScrollDiff","outerScrollDiff","scrollDiff","touchPositionDiff","extraTranslate","touchPositionDiffConstrained","containerMinusActiveCell","offsetRelativeToScrollTop","constrained","Math","min","max","maxTranslateNegative","maxTranslatePositive","constrainedBase","hoverAnim","dragItemOverflow","hoverOffset","isHovering","resetTouchedCell","useCallback","useMemo","useEffect","onAnimValInit"],"sources":["animatedValueContext.tsx"],"sourcesContent":["import React, { useMemo, useEffect, useCallback, useContext } from \"react\";\nimport {\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { State as GestureState } from \"react-native-gesture-handler\";\nimport { useProps } from \"./propsContext\";\n\nconst AnimatedValueContext = React.createContext<\n  ReturnType<typeof useSetupAnimatedValues> | undefined\n>(undefined);\n\nexport default function AnimatedValueProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const value = useSetupAnimatedValues();\n  return (\n    <AnimatedValueContext.Provider value={value}>\n      {children}\n    </AnimatedValueContext.Provider>\n  );\n}\n\nexport function useAnimatedValues() {\n  const value = useContext(AnimatedValueContext);\n  if (!value) {\n    throw new Error(\n      \"useAnimatedValues must be called from within AnimatedValueProvider!\"\n    );\n  }\n  return value;\n}\n\nfunction useSetupAnimatedValues<T>() {\n  const props = useProps<T>();\n\n  const DEFAULT_VAL = useSharedValue(0);\n\n  const containerSize = useSharedValue(0);\n  const scrollViewSize = useSharedValue(0);\n\n  const panGestureState = useSharedValue<GestureState>(\n    GestureState.UNDETERMINED\n  );\n  const touchTranslate = useSharedValue(0);\n\n  const isTouchActiveNative = useSharedValue(false);\n\n  const hasMoved = useSharedValue(0);\n  const disabled = useSharedValue(false);\n\n  const horizontalAnim = useSharedValue(!!props.horizontal);\n\n  const activeIndexAnim = useSharedValue(-1); // Index of hovering cell\n  const spacerIndexAnim = useSharedValue(-1); // Index of hovered-over cell\n\n  const activeCellSize = useSharedValue(0); // Height or width of acctive cell\n  const activeCellOffset = useSharedValue(0); // Distance between active cell and edge of container\n\n  const scrollOffset = useSharedValue(0);\n  const scrollInit = useSharedValue(0);\n\n  const viewableIndexMin = useSharedValue(0);\n  const viewableIndexMax = useSharedValue(0);\n\n  // If list is nested there may be an outer scrollview\n  const outerScrollOffset = props.outerScrollOffset || DEFAULT_VAL;\n  const outerScrollInit = useSharedValue(0);\n\n  useAnimatedReaction(\n    () => {\n      return activeIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && cur >= 0) {\n        scrollInit.value = scrollOffset.value;\n        outerScrollInit.value = outerScrollOffset.value;\n      }\n    },\n    [outerScrollOffset]\n  );\n\n  const placeholderOffset = useSharedValue(0);\n\n  const isDraggingCell = useDerivedValue(() => {\n    return isTouchActiveNative.value && activeIndexAnim.value >= 0;\n  }, []);\n\n  const autoScrollDistance = useDerivedValue(() => {\n    if (!isDraggingCell.value) return 0;\n    const innerScrollDiff = scrollOffset.value - scrollInit.value;\n    // If list is nested there may be an outer scroll diff\n    const outerScrollDiff = outerScrollOffset.value - outerScrollInit.value;\n    const scrollDiff = innerScrollDiff + outerScrollDiff;\n    return scrollDiff;\n  }, []);\n\n  const touchPositionDiff = useDerivedValue(() => {\n    const extraTranslate = isTouchActiveNative.value\n      ? autoScrollDistance.value\n      : 0;\n    return touchTranslate.value + extraTranslate;\n  }, []);\n\n  const touchPositionDiffConstrained = useDerivedValue(() => {\n    const containerMinusActiveCell =\n      containerSize.value - activeCellSize.value + scrollOffset.value;\n\n    const offsetRelativeToScrollTop =\n      touchPositionDiff.value + activeCellOffset.value;\n    const constrained = Math.min(\n      containerMinusActiveCell,\n      Math.max(scrollOffset.value, offsetRelativeToScrollTop)\n    );\n\n    const maxTranslateNegative = -activeCellOffset.value;\n    const maxTranslatePositive =\n      scrollViewSize.value - (activeCellOffset.value + activeCellSize.value);\n\n    // Only constrain the touch position while the finger is on the screen. This allows the active cell\n    // to snap above/below the fold once let go, if the drag ends at the top/bottom of the screen.\n    const constrainedBase = isTouchActiveNative.value\n      ? constrained - activeCellOffset.value\n      : touchPositionDiff.value;\n\n    // Make sure item is constrained to the boundaries of the scrollview\n    return Math.min(\n      Math.max(constrainedBase, maxTranslateNegative),\n      maxTranslatePositive\n    );\n  }, []);\n\n  const hoverAnim = useDerivedValue(() => {\n    if (activeIndexAnim.value < 0) return 0;\n    return props.dragItemOverflow\n      ? touchPositionDiff.value\n      : touchPositionDiffConstrained.value;\n  }, []);\n\n  const hoverOffset = useDerivedValue(() => {\n    return hoverAnim.value + activeCellOffset.value;\n  }, [hoverAnim, activeCellOffset]);\n\n  useDerivedValue(() => {\n    // Reset spacer index when we stop hovering\n    const isHovering = activeIndexAnim.value >= 0;\n    if (!isHovering && spacerIndexAnim.value >= 0) {\n      spacerIndexAnim.value = -1;\n    }\n  }, []);\n\n  // Note: this could use a refactor as it combines touch state + cell animation\n  const resetTouchedCell = useCallback(() => {\n    activeCellOffset.value = 0;\n    hasMoved.value = 0;\n  }, []);\n\n  const value = useMemo(\n    () => ({\n      activeCellOffset,\n      activeCellSize,\n      activeIndexAnim,\n      containerSize,\n      disabled,\n      horizontalAnim,\n      hoverAnim,\n      hoverOffset,\n      isDraggingCell,\n      isTouchActiveNative,\n      panGestureState,\n      placeholderOffset,\n      resetTouchedCell,\n      scrollOffset,\n      scrollViewSize,\n      spacerIndexAnim,\n      touchPositionDiff,\n      touchTranslate,\n      autoScrollDistance,\n      viewableIndexMin,\n      viewableIndexMax,\n    }),\n    [\n      activeCellOffset,\n      activeCellSize,\n      activeIndexAnim,\n      containerSize,\n      disabled,\n      horizontalAnim,\n      hoverAnim,\n      hoverOffset,\n      isDraggingCell,\n      isTouchActiveNative,\n      panGestureState,\n      placeholderOffset,\n      resetTouchedCell,\n      scrollOffset,\n      scrollViewSize,\n      spacerIndexAnim,\n      touchPositionDiff,\n      touchTranslate,\n      autoScrollDistance,\n      viewableIndexMin,\n      viewableIndexMax,\n    ]\n  );\n\n  useEffect(() => {\n    props.onAnimValInit?.(value);\n  }, [value]);\n\n  return value;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/context/cellContext.js b/lib/commonjs/context/cellContext.js
index bbfdec4caf963579f02038e14c16bc60ede39ddd..975c1c827329028830486054ff41830c5b8d4d15 100644
--- a/lib/commonjs/context/cellContext.js
+++ b/lib/commonjs/context/cellContext.js
@@ -1,2 +1,2 @@
-Object.defineProperty(exports,"__esModule",{value:true});exports.CellProvider=CellProvider;exports.useIsActive=useIsActive;exports.default=void 0;var _react=_interopRequireWildcard(require("react"));var _utils=require("../utils");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/cellContext.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var CellContext=_react.default.createContext(undefined);function CellProvider(_ref){var isActive=_ref.isActive,children=_ref.children;var value=(0,_react.useMemo)(function(){return{isActive:isActive};},[isActive]);return _react.default.createElement(CellContext.Provider,{value:value,__self:this,__source:{fileName:_jsxFileName,lineNumber:24,columnNumber:10}},children);}var _default=(0,_utils.typedMemo)(CellProvider);exports.default=_default;function useIsActive(){var value=(0,_react.useContext)(CellContext);if(!value){throw new Error("useIsActive must be called from within CellProvider!");}return value.isActive;}
+Object.defineProperty(exports,"__esModule",{value:true});exports.CellProvider=CellProvider;exports.default=void 0;exports.useIsActive=useIsActive;var _react=_interopRequireWildcard(require("react"));var _utils=require("../utils");var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\cellContext.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var CellContext=_react.default.createContext(undefined);function CellProvider(_ref){var isActive=_ref.isActive,children=_ref.children;var value=(0,_react.useMemo)(function(){return{isActive:isActive};},[isActive]);return _react.default.createElement(CellContext.Provider,{value:value,__self:this,__source:{fileName:_jsxFileName,lineNumber:24,columnNumber:10}},children);}var _default=exports.default=(0,_utils.typedMemo)(CellProvider);function useIsActive(){var value=(0,_react.useContext)(CellContext);if(!value){throw new Error("useIsActive must be called from within CellProvider!");}return value.isActive;}
 //# sourceMappingURL=cellContext.js.map
\ No newline at end of file
diff --git a/lib/commonjs/context/cellContext.js.map b/lib/commonjs/context/cellContext.js.map
index 40604e1bf92bb9a5427174c4f2d68e93150076cc..846edc05b80bd88eae6c2c58b9cef2deba9bc537 100644
--- a/lib/commonjs/context/cellContext.js.map
+++ b/lib/commonjs/context/cellContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["CellContext","React","createContext","undefined","CellProvider","isActive","children","value","useMemo","typedMemo","useIsActive","useContext","Error"],"sources":["cellContext.tsx"],"sourcesContent":["import React, { useContext, useMemo } from \"react\";\nimport { typedMemo } from \"../utils\";\n\ntype CellContextValue = {\n  isActive: boolean;\n};\n\nconst CellContext = React.createContext<CellContextValue | undefined>(\n  undefined\n);\n\ntype Props = {\n  isActive: boolean;\n  children: React.ReactNode;\n};\n\nexport function CellProvider({ isActive, children }: Props) {\n  const value = useMemo(\n    () => ({\n      isActive,\n    }),\n    [isActive]\n  );\n  return <CellContext.Provider value={value}>{children}</CellContext.Provider>;\n}\n\nexport default typedMemo(CellProvider);\n\nexport function useIsActive() {\n  const value = useContext(CellContext);\n  if (!value) {\n    throw new Error(\"useIsActive must be called from within CellProvider!\");\n  }\n  return value.isActive;\n}\n"],"mappings":"kJAAA,qDACA,+B,4mCAMA,GAAMA,YAAW,CAAGC,cAAA,CAAMC,aAAN,CAClBC,SADkB,CAApB,CASO,QAASC,aAAT,MAAqD,IAA7BC,SAA6B,MAA7BA,QAA6B,CAAnBC,QAAmB,MAAnBA,QAAmB,CAC1D,GAAMC,MAAK,CAAG,GAAAC,cAAA,EACZ,iBAAO,CACLH,QAAQ,CAARA,QADK,CAAP,EADY,CAIZ,CAACA,QAAD,CAJY,CAAd,CAMA,MAAO,8BAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAEE,KAA7B,6EAAqCD,QAArC,CAAP,CACD,C,aAEc,GAAAG,gBAAA,EAAUL,YAAV,C,0BAER,QAASM,YAAT,EAAuB,CAC5B,GAAMH,MAAK,CAAG,GAAAI,iBAAA,EAAWX,WAAX,CAAd,CACA,GAAI,CAACO,KAAL,CAAY,CACV,KAAM,IAAIK,MAAJ,CAAU,sDAAV,CAAN,CACD,CACD,MAAOL,MAAK,CAACF,QAAb,CACD"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_utils","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CellContext","React","createContext","undefined","CellProvider","_ref","isActive","children","value","useMemo","createElement","Provider","__self","__source","fileName","lineNumber","columnNumber","_default","exports","typedMemo","useIsActive","useContext","Error"],"sources":["cellContext.tsx"],"sourcesContent":["import React, { useContext, useMemo } from \"react\";\nimport { typedMemo } from \"../utils\";\n\ntype CellContextValue = {\n  isActive: boolean;\n};\n\nconst CellContext = React.createContext<CellContextValue | undefined>(\n  undefined\n);\n\ntype Props = {\n  isActive: boolean;\n  children: React.ReactNode;\n};\n\nexport function CellProvider({ isActive, children }: Props) {\n  const value = useMemo(\n    () => ({\n      isActive,\n    }),\n    [isActive]\n  );\n  return <CellContext.Provider value={value}>{children}</CellContext.Provider>;\n}\n\nexport default typedMemo(CellProvider);\n\nexport function useIsActive() {\n  const value = useContext(CellContext);\n  if (!value) {\n    throw new Error(\"useIsActive must be called from within CellProvider!\");\n  }\n  return value.isActive;\n}\n"],"mappings":"kJAAA,IAAAA,MAAA,CAAAC,uBAAA,CAAAC,OAAA,WACA,IAAAC,MAAA,CAAAD,OAAA,aAAqC,IAAAE,YAAA,sGAAAC,yBAAAC,CAAA,wBAAAC,OAAA,iBAAAC,CAAA,KAAAD,OAAA,GAAAE,CAAA,KAAAF,OAAA,UAAAF,wBAAA,UAAAA,yBAAAC,CAAA,SAAAA,CAAA,CAAAG,CAAA,CAAAD,CAAA,IAAAF,CAAA,YAAAL,wBAAAK,CAAA,CAAAE,CAAA,MAAAA,CAAA,EAAAF,CAAA,EAAAA,CAAA,CAAAI,UAAA,QAAAJ,CAAA,WAAAA,CAAA,mBAAAA,CAAA,qBAAAA,CAAA,QAAAK,OAAA,CAAAL,CAAA,MAAAG,CAAA,CAAAJ,wBAAA,CAAAG,CAAA,KAAAC,CAAA,EAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,SAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,MAAAQ,CAAA,EAAAC,SAAA,OAAAC,CAAA,CAAAC,MAAA,CAAAC,cAAA,EAAAD,MAAA,CAAAE,wBAAA,SAAAC,CAAA,IAAAd,CAAA,gBAAAc,CAAA,KAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,CAAAc,CAAA,OAAAG,CAAA,CAAAP,CAAA,CAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,CAAAc,CAAA,OAAAG,CAAA,GAAAA,CAAA,CAAAV,GAAA,EAAAU,CAAA,CAAAC,GAAA,EAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,CAAAM,CAAA,CAAAG,CAAA,EAAAT,CAAA,CAAAM,CAAA,EAAAd,CAAA,CAAAc,CAAA,UAAAN,CAAA,CAAAH,OAAA,CAAAL,CAAA,CAAAG,CAAA,EAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,CAAAQ,CAAA,EAAAA,CAAA,EAMrC,GAAM,CAAAW,WAAW,CAAGC,cAAK,CAACC,aAAa,CACrCC,SACF,CAAC,CAOM,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAgC,IAA7B,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAC/C,GAAM,CAAAC,KAAK,CAAG,GAAAC,cAAO,EACnB,iBAAO,CACLH,QAAQ,CAARA,QACF,CAAC,EAAC,CACF,CAACA,QAAQ,CACX,CAAC,CACD,MAAO,CAAA/B,MAAA,CAAAW,OAAA,CAAAwB,aAAA,CAACV,WAAW,CAACW,QAAQ,EAACH,KAAK,CAAEA,KAAM,CAAAI,MAAA,MAAAC,QAAA,EAAAC,QAAA,CAAAnC,YAAA,CAAAoC,UAAA,IAAAC,YAAA,MAAET,QAA+B,CAAC,CAC9E,CAAC,IAAAU,QAAA,CAAAC,OAAA,CAAAhC,OAAA,CAEc,GAAAiC,gBAAS,EAACf,YAAY,CAAC,CAE/B,QAAS,CAAAgB,WAAWA,CAAA,CAAG,CAC5B,GAAM,CAAAZ,KAAK,CAAG,GAAAa,iBAAU,EAACrB,WAAW,CAAC,CACrC,GAAI,CAACQ,KAAK,CAAE,CACV,KAAM,IAAI,CAAAc,KAAK,CAAC,sDAAsD,CAAC,CACzE,CACA,MAAO,CAAAd,KAAK,CAACF,QAAQ,CACvB","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/context/draggableFlatListContext.js b/lib/commonjs/context/draggableFlatListContext.js
index 9053ce34c4b13a1d3b379cf25e69de8994cf50c5..9ba3d47cc0f1b561d29207e81b2a49d7f65fc7a4 100644
--- a/lib/commonjs/context/draggableFlatListContext.js
+++ b/lib/commonjs/context/draggableFlatListContext.js
@@ -1,2 +1,2 @@
-Object.defineProperty(exports,"__esModule",{value:true});exports.default=DraggableFlatListProvider;exports.useDraggableFlatListContext=useDraggableFlatListContext;var _react=_interopRequireWildcard(require("react"));var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/draggableFlatListContext.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var DraggableFlatListContext=_react.default.createContext(undefined);function DraggableFlatListProvider(_ref){var activeKey=_ref.activeKey,keyExtractor=_ref.keyExtractor,horizontal=_ref.horizontal,layoutAnimationDisabled=_ref.layoutAnimationDisabled,children=_ref.children;var value=(0,_react.useMemo)(function(){return{activeKey:activeKey,keyExtractor:keyExtractor,horizontal:horizontal,layoutAnimationDisabled:layoutAnimationDisabled};},[activeKey,keyExtractor,horizontal,layoutAnimationDisabled]);return _react.default.createElement(DraggableFlatListContext.Provider,{value:value,__self:this,__source:{fileName:_jsxFileName,lineNumber:35,columnNumber:5}},children);}function useDraggableFlatListContext(){var value=(0,_react.useContext)(DraggableFlatListContext);if(!value){throw new Error("useDraggableFlatListContext must be called within DraggableFlatListProvider");}return value;}
+Object.defineProperty(exports,"__esModule",{value:true});exports.default=DraggableFlatListProvider;exports.useDraggableFlatListContext=useDraggableFlatListContext;var _react=_interopRequireWildcard(require("react"));var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\draggableFlatListContext.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var DraggableFlatListContext=_react.default.createContext(undefined);function DraggableFlatListProvider(_ref){var activeKey=_ref.activeKey,keyExtractor=_ref.keyExtractor,horizontal=_ref.horizontal,layoutAnimationDisabled=_ref.layoutAnimationDisabled,children=_ref.children;var value=(0,_react.useMemo)(function(){return{activeKey:activeKey,keyExtractor:keyExtractor,horizontal:horizontal,layoutAnimationDisabled:layoutAnimationDisabled};},[activeKey,keyExtractor,horizontal,layoutAnimationDisabled]);return _react.default.createElement(DraggableFlatListContext.Provider,{value:value,__self:this,__source:{fileName:_jsxFileName,lineNumber:35,columnNumber:5}},children);}function useDraggableFlatListContext(){var value=(0,_react.useContext)(DraggableFlatListContext);if(!value){throw new Error("useDraggableFlatListContext must be called within DraggableFlatListProvider");}return value;}
 //# sourceMappingURL=draggableFlatListContext.js.map
\ No newline at end of file
diff --git a/lib/commonjs/context/draggableFlatListContext.js.map b/lib/commonjs/context/draggableFlatListContext.js.map
index 8d6842cb01d0751027bf0beccb9b67cf15aeb4b5..97839ee4e6560f5dcfc91e6a9dd9ed73921d35e8 100644
--- a/lib/commonjs/context/draggableFlatListContext.js.map
+++ b/lib/commonjs/context/draggableFlatListContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["DraggableFlatListContext","React","createContext","undefined","DraggableFlatListProvider","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","children","value","useMemo","useDraggableFlatListContext","useContext","Error"],"sources":["draggableFlatListContext.tsx"],"sourcesContent":["import React, { useContext, useMemo } from \"react\";\n\ntype Props<T> = {\n  activeKey: string | null;\n  keyExtractor: (item: T, index: number) => string;\n  horizontal: boolean;\n  layoutAnimationDisabled: boolean;\n  children: React.ReactNode;\n};\n\ntype DraggableFlatListContextValue<T> = Omit<Props<T>, \"children\">;\n\nconst DraggableFlatListContext = React.createContext<\n  DraggableFlatListContextValue<any> | undefined\n>(undefined);\n\nexport default function DraggableFlatListProvider<T>({\n  activeKey,\n  keyExtractor,\n  horizontal,\n  layoutAnimationDisabled,\n  children,\n}: Props<T>) {\n  const value = useMemo(\n    () => ({\n      activeKey,\n      keyExtractor,\n      horizontal,\n      layoutAnimationDisabled,\n    }),\n    [activeKey, keyExtractor, horizontal, layoutAnimationDisabled]\n  );\n\n  return (\n    <DraggableFlatListContext.Provider value={value}>\n      {children}\n    </DraggableFlatListContext.Provider>\n  );\n}\n\nexport function useDraggableFlatListContext<T>() {\n  const value = useContext(DraggableFlatListContext);\n  if (!value) {\n    throw new Error(\n      \"useDraggableFlatListContext must be called within DraggableFlatListProvider\"\n    );\n  }\n  return value as DraggableFlatListContextValue<T>;\n}\n"],"mappings":"mKAAA,qD,ynCAYA,GAAMA,yBAAwB,CAAGC,cAAA,CAAMC,aAAN,CAE/BC,SAF+B,CAAjC,CAIe,QAASC,0BAAT,MAMF,IALXC,UAKW,MALXA,SAKW,CAJXC,YAIW,MAJXA,YAIW,CAHXC,UAGW,MAHXA,UAGW,CAFXC,uBAEW,MAFXA,uBAEW,CADXC,QACW,MADXA,QACW,CACX,GAAMC,MAAK,CAAG,GAAAC,cAAA,EACZ,iBAAO,CACLN,SAAS,CAATA,SADK,CAELC,YAAY,CAAZA,YAFK,CAGLC,UAAU,CAAVA,UAHK,CAILC,uBAAuB,CAAvBA,uBAJK,CAAP,EADY,CAOZ,CAACH,SAAD,CAAYC,YAAZ,CAA0BC,UAA1B,CAAsCC,uBAAtC,CAPY,CAAd,CAUA,MACE,8BAAC,wBAAD,CAA0B,QAA1B,EAAmC,KAAK,CAAEE,KAA1C,4EACGD,QADH,CADF,CAKD,CAEM,QAASG,4BAAT,EAA0C,CAC/C,GAAMF,MAAK,CAAG,GAAAG,iBAAA,EAAWb,wBAAX,CAAd,CACA,GAAI,CAACU,KAAL,CAAY,CACV,KAAM,IAAII,MAAJ,CACJ,6EADI,CAAN,CAGD,CACD,MAAOJ,MAAP,CACD"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","DraggableFlatListContext","React","createContext","undefined","DraggableFlatListProvider","_ref","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","children","value","useMemo","createElement","Provider","__self","__source","fileName","lineNumber","columnNumber","useDraggableFlatListContext","useContext","Error"],"sources":["draggableFlatListContext.tsx"],"sourcesContent":["import React, { useContext, useMemo } from \"react\";\n\ntype Props<T> = {\n  activeKey: string | null;\n  keyExtractor: (item: T, index: number) => string;\n  horizontal: boolean;\n  layoutAnimationDisabled: boolean;\n  children: React.ReactNode;\n};\n\ntype DraggableFlatListContextValue<T> = Omit<Props<T>, \"children\">;\n\nconst DraggableFlatListContext = React.createContext<\n  DraggableFlatListContextValue<any> | undefined\n>(undefined);\n\nexport default function DraggableFlatListProvider<T>({\n  activeKey,\n  keyExtractor,\n  horizontal,\n  layoutAnimationDisabled,\n  children,\n}: Props<T>) {\n  const value = useMemo(\n    () => ({\n      activeKey,\n      keyExtractor,\n      horizontal,\n      layoutAnimationDisabled,\n    }),\n    [activeKey, keyExtractor, horizontal, layoutAnimationDisabled]\n  );\n\n  return (\n    <DraggableFlatListContext.Provider value={value}>\n      {children}\n    </DraggableFlatListContext.Provider>\n  );\n}\n\nexport function useDraggableFlatListContext<T>() {\n  const value = useContext(DraggableFlatListContext);\n  if (!value) {\n    throw new Error(\n      \"useDraggableFlatListContext must be called within DraggableFlatListProvider\"\n    );\n  }\n  return value as DraggableFlatListContextValue<T>;\n}\n"],"mappings":"mKAAA,IAAAA,MAAA,CAAAC,uBAAA,CAAAC,OAAA,WAAmD,IAAAC,YAAA,mHAAAC,yBAAAC,CAAA,wBAAAC,OAAA,iBAAAC,CAAA,KAAAD,OAAA,GAAAE,CAAA,KAAAF,OAAA,UAAAF,wBAAA,UAAAA,yBAAAC,CAAA,SAAAA,CAAA,CAAAG,CAAA,CAAAD,CAAA,IAAAF,CAAA,YAAAJ,wBAAAI,CAAA,CAAAE,CAAA,MAAAA,CAAA,EAAAF,CAAA,EAAAA,CAAA,CAAAI,UAAA,QAAAJ,CAAA,WAAAA,CAAA,mBAAAA,CAAA,qBAAAA,CAAA,QAAAK,OAAA,CAAAL,CAAA,MAAAG,CAAA,CAAAJ,wBAAA,CAAAG,CAAA,KAAAC,CAAA,EAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,SAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,MAAAQ,CAAA,EAAAC,SAAA,OAAAC,CAAA,CAAAC,MAAA,CAAAC,cAAA,EAAAD,MAAA,CAAAE,wBAAA,SAAAC,CAAA,IAAAd,CAAA,gBAAAc,CAAA,KAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,CAAAc,CAAA,OAAAG,CAAA,CAAAP,CAAA,CAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,CAAAc,CAAA,OAAAG,CAAA,GAAAA,CAAA,CAAAV,GAAA,EAAAU,CAAA,CAAAC,GAAA,EAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,CAAAM,CAAA,CAAAG,CAAA,EAAAT,CAAA,CAAAM,CAAA,EAAAd,CAAA,CAAAc,CAAA,UAAAN,CAAA,CAAAH,OAAA,CAAAL,CAAA,CAAAG,CAAA,EAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,CAAAQ,CAAA,EAAAA,CAAA,EAYnD,GAAM,CAAAW,wBAAwB,CAAGC,cAAK,CAACC,aAAa,CAElDC,SAAS,CAAC,CAEG,QAAS,CAAAC,yBAAyBA,CAAAC,IAAA,CAMpC,IALX,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,CACTC,YAAY,CAAAF,IAAA,CAAZE,YAAY,CACZC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CACVC,uBAAuB,CAAAJ,IAAA,CAAvBI,uBAAuB,CACvBC,QAAQ,CAAAL,IAAA,CAARK,QAAQ,CAER,GAAM,CAAAC,KAAK,CAAG,GAAAC,cAAO,EACnB,iBAAO,CACLN,SAAS,CAATA,SAAS,CACTC,YAAY,CAAZA,YAAY,CACZC,UAAU,CAAVA,UAAU,CACVC,uBAAuB,CAAvBA,uBACF,CAAC,EAAC,CACF,CAACH,SAAS,CAAEC,YAAY,CAAEC,UAAU,CAAEC,uBAAuB,CAC/D,CAAC,CAED,MACE,CAAAjC,MAAA,CAAAU,OAAA,CAAA2B,aAAA,CAACb,wBAAwB,CAACc,QAAQ,EAACH,KAAK,CAAEA,KAAM,CAAAI,MAAA,MAAAC,QAAA,EAAAC,QAAA,CAAAtC,YAAA,CAAAuC,UAAA,IAAAC,YAAA,KAC7CT,QACgC,CAAC,CAExC,CAEO,QAAS,CAAAU,2BAA2BA,CAAA,CAAM,CAC/C,GAAM,CAAAT,KAAK,CAAG,GAAAU,iBAAU,EAACrB,wBAAwB,CAAC,CAClD,GAAI,CAACW,KAAK,CAAE,CACV,KAAM,IAAI,CAAAW,KAAK,CACb,6EACF,CAAC,CACH,CACA,MAAO,CAAAX,KAAK,CACd","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/context/nestableScrollContainerContext.js b/lib/commonjs/context/nestableScrollContainerContext.js
index 4b01618973455003b1af828ac0bdc3a737e293a8..e8ee00962f9276ee3304336bf16992acf4284070 100644
--- a/lib/commonjs/context/nestableScrollContainerContext.js
+++ b/lib/commonjs/context/nestableScrollContainerContext.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.NestableScrollContainerProvider=NestableScrollContainerProvider;exports.useNestableScrollContainerContext=useNestableScrollContainerContext;exports.useSafeNestableScrollContainerContext=useSafeNestableScrollContainerContext;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNativeReanimated=require("react-native-reanimated");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/nestableScrollContainerContext.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var NestableScrollContainerContext=_react.default.createContext(undefined);function useSetupNestableScrollContextValue(_ref){var forwardedRef=_ref.forwardedRef;var _useState=(0,_react.useState)(true),_useState2=(0,_slicedToArray2.default)(_useState,2),outerScrollEnabled=_useState2[0],setOuterScrollEnabled=_useState2[1];var scrollViewSize=(0,_reactNativeReanimated.useSharedValue)(0);var scrollableRefInner=(0,_react.useRef)(null);var scrollableRef=forwardedRef||scrollableRefInner;var outerScrollOffset=(0,_reactNativeReanimated.useSharedValue)(0);var containerSize=(0,_reactNativeReanimated.useSharedValue)(0);var contextVal=(0,_react.useMemo)(function(){return{outerScrollEnabled:outerScrollEnabled,setOuterScrollEnabled:setOuterScrollEnabled,outerScrollOffset:outerScrollOffset,scrollViewSize:scrollViewSize,scrollableRef:scrollableRef,containerSize:containerSize};},[outerScrollEnabled]);return contextVal;}function NestableScrollContainerProvider(_ref2){var children=_ref2.children,forwardedRef=_ref2.forwardedRef;var contextVal=useSetupNestableScrollContextValue({forwardedRef:forwardedRef});return _react.default.createElement(NestableScrollContainerContext.Provider,{value:contextVal,__self:this,__source:{fileName:_jsxFileName,lineNumber:48,columnNumber:5}},children);}function useNestableScrollContainerContext(){var value=(0,_react.useContext)(NestableScrollContainerContext);return value;}function useSafeNestableScrollContainerContext(){var value=useNestableScrollContainerContext();if(!value){throw new Error("useSafeNestableScrollContainerContext must be called within a NestableScrollContainerContext.Provider");}return value;}
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.NestableScrollContainerProvider=NestableScrollContainerProvider;exports.useNestableScrollContainerContext=useNestableScrollContainerContext;exports.useSafeNestableScrollContainerContext=useSafeNestableScrollContainerContext;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNativeReanimated=require("react-native-reanimated");var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\nestableScrollContainerContext.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var NestableScrollContainerContext=_react.default.createContext(undefined);function useSetupNestableScrollContextValue(_ref){var forwardedRef=_ref.forwardedRef;var _useState=(0,_react.useState)(true),_useState2=(0,_slicedToArray2.default)(_useState,2),outerScrollEnabled=_useState2[0],setOuterScrollEnabled=_useState2[1];var scrollViewSize=(0,_reactNativeReanimated.useSharedValue)(0);var scrollableRefInner=(0,_react.useRef)(null);var scrollableRef=forwardedRef||scrollableRefInner;var outerScrollOffset=(0,_reactNativeReanimated.useSharedValue)(0);var containerSize=(0,_reactNativeReanimated.useSharedValue)(0);var contextVal=(0,_react.useMemo)(function(){return{outerScrollEnabled:outerScrollEnabled,setOuterScrollEnabled:setOuterScrollEnabled,outerScrollOffset:outerScrollOffset,scrollViewSize:scrollViewSize,scrollableRef:scrollableRef,containerSize:containerSize};},[outerScrollEnabled]);return contextVal;}function NestableScrollContainerProvider(_ref2){var children=_ref2.children,forwardedRef=_ref2.forwardedRef;var contextVal=useSetupNestableScrollContextValue({forwardedRef:forwardedRef});return _react.default.createElement(NestableScrollContainerContext.Provider,{value:contextVal,__self:this,__source:{fileName:_jsxFileName,lineNumber:48,columnNumber:5}},children);}function useNestableScrollContainerContext(){var value=(0,_react.useContext)(NestableScrollContainerContext);return value;}function useSafeNestableScrollContainerContext(){var value=useNestableScrollContainerContext();if(!value){throw new Error("useSafeNestableScrollContainerContext must be called within a NestableScrollContainerContext.Provider");}return value;}
 //# sourceMappingURL=nestableScrollContainerContext.js.map
\ No newline at end of file
diff --git a/lib/commonjs/context/nestableScrollContainerContext.js.map b/lib/commonjs/context/nestableScrollContainerContext.js.map
index b7c6933ae4c8c84fa8bea5aaa51a1a2acf29f361..0820eb5a42ee4e4dca6937eab93d3c044f0dc8c1 100644
--- a/lib/commonjs/context/nestableScrollContainerContext.js.map
+++ b/lib/commonjs/context/nestableScrollContainerContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["NestableScrollContainerContext","React","createContext","undefined","useSetupNestableScrollContextValue","forwardedRef","useState","outerScrollEnabled","setOuterScrollEnabled","scrollViewSize","useSharedValue","scrollableRefInner","useRef","scrollableRef","outerScrollOffset","containerSize","contextVal","useMemo","NestableScrollContainerProvider","children","useNestableScrollContainerContext","value","useContext","useSafeNestableScrollContainerContext","Error"],"sources":["nestableScrollContainerContext.tsx"],"sourcesContent":["import React, { useContext, useMemo, useRef, useState } from \"react\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useSharedValue } from \"react-native-reanimated\";\n\ntype NestableScrollContainerContextVal = ReturnType<\n  typeof useSetupNestableScrollContextValue\n>;\nconst NestableScrollContainerContext = React.createContext<\n  NestableScrollContainerContextVal | undefined\n>(undefined);\n\nfunction useSetupNestableScrollContextValue({\n  forwardedRef,\n}: {\n  forwardedRef?: React.MutableRefObject<ScrollView>;\n}) {\n  const [outerScrollEnabled, setOuterScrollEnabled] = useState(true);\n  const scrollViewSize = useSharedValue(0);\n  const scrollableRefInner = useRef<ScrollView>(null);\n  const scrollableRef = forwardedRef || scrollableRefInner;\n  const outerScrollOffset = useSharedValue(0);\n  const containerSize = useSharedValue(0);\n\n  const contextVal = useMemo(\n    () => ({\n      outerScrollEnabled,\n      setOuterScrollEnabled,\n      outerScrollOffset,\n      scrollViewSize,\n      scrollableRef,\n      containerSize,\n    }),\n    [outerScrollEnabled]\n  );\n\n  return contextVal;\n}\n\nexport function NestableScrollContainerProvider({\n  children,\n  forwardedRef,\n}: {\n  children: React.ReactNode;\n  forwardedRef?: React.MutableRefObject<ScrollView>;\n}) {\n  const contextVal = useSetupNestableScrollContextValue({ forwardedRef });\n  return (\n    <NestableScrollContainerContext.Provider value={contextVal}>\n      {children}\n    </NestableScrollContainerContext.Provider>\n  );\n}\n\nexport function useNestableScrollContainerContext() {\n  const value = useContext(NestableScrollContainerContext);\n  return value;\n}\n\nexport function useSafeNestableScrollContainerContext() {\n  const value = useNestableScrollContainerContext();\n  if (!value) {\n    throw new Error(\n      \"useSafeNestableScrollContainerContext must be called within a NestableScrollContainerContext.Provider\"\n    );\n  }\n  return value;\n}\n"],"mappings":"gdAAA,qDAEA,8D,+nCAKA,GAAMA,+BAA8B,CAAGC,cAAA,CAAMC,aAAN,CAErCC,SAFqC,CAAvC,CAIA,QAASC,mCAAT,MAIG,IAHDC,aAGC,MAHDA,YAGC,eACmD,GAAAC,eAAA,EAAS,IAAT,CADnD,qDACMC,kBADN,eAC0BC,qBAD1B,eAED,GAAMC,eAAc,CAAG,GAAAC,qCAAA,EAAe,CAAf,CAAvB,CACA,GAAMC,mBAAkB,CAAG,GAAAC,aAAA,EAAmB,IAAnB,CAA3B,CACA,GAAMC,cAAa,CAAGR,YAAY,EAAIM,kBAAtC,CACA,GAAMG,kBAAiB,CAAG,GAAAJ,qCAAA,EAAe,CAAf,CAA1B,CACA,GAAMK,cAAa,CAAG,GAAAL,qCAAA,EAAe,CAAf,CAAtB,CAEA,GAAMM,WAAU,CAAG,GAAAC,cAAA,EACjB,iBAAO,CACLV,kBAAkB,CAAlBA,kBADK,CAELC,qBAAqB,CAArBA,qBAFK,CAGLM,iBAAiB,CAAjBA,iBAHK,CAILL,cAAc,CAAdA,cAJK,CAKLI,aAAa,CAAbA,aALK,CAMLE,aAAa,CAAbA,aANK,CAAP,EADiB,CASjB,CAACR,kBAAD,CATiB,CAAnB,CAYA,MAAOS,WAAP,CACD,CAEM,QAASE,gCAAT,OAMJ,IALDC,SAKC,OALDA,QAKC,CAJDd,YAIC,OAJDA,YAIC,CACD,GAAMW,WAAU,CAAGZ,kCAAkC,CAAC,CAAEC,YAAY,CAAZA,YAAF,CAAD,CAArD,CACA,MACE,8BAAC,8BAAD,CAAgC,QAAhC,EAAyC,KAAK,CAAEW,UAAhD,4EACGG,QADH,CADF,CAKD,CAEM,QAASC,kCAAT,EAA6C,CAClD,GAAMC,MAAK,CAAG,GAAAC,iBAAA,EAAWtB,8BAAX,CAAd,CACA,MAAOqB,MAAP,CACD,CAEM,QAASE,sCAAT,EAAiD,CACtD,GAAMF,MAAK,CAAGD,iCAAiC,EAA/C,CACA,GAAI,CAACC,KAAL,CAAY,CACV,KAAM,IAAIG,MAAJ,CACJ,uGADI,CAAN,CAGD,CACD,MAAOH,MAAP,CACD"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNativeReanimated","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","NestableScrollContainerContext","React","createContext","undefined","useSetupNestableScrollContextValue","_ref","forwardedRef","_useState","useState","_useState2","_slicedToArray2","outerScrollEnabled","setOuterScrollEnabled","scrollViewSize","useSharedValue","scrollableRefInner","useRef","scrollableRef","outerScrollOffset","containerSize","contextVal","useMemo","NestableScrollContainerProvider","_ref2","children","createElement","Provider","value","__self","__source","fileName","lineNumber","columnNumber","useNestableScrollContainerContext","useContext","useSafeNestableScrollContainerContext","Error"],"sources":["nestableScrollContainerContext.tsx"],"sourcesContent":["import React, { useContext, useMemo, useRef, useState } from \"react\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useSharedValue } from \"react-native-reanimated\";\n\ntype NestableScrollContainerContextVal = ReturnType<\n  typeof useSetupNestableScrollContextValue\n>;\nconst NestableScrollContainerContext = React.createContext<\n  NestableScrollContainerContextVal | undefined\n>(undefined);\n\nfunction useSetupNestableScrollContextValue({\n  forwardedRef,\n}: {\n  forwardedRef?: React.MutableRefObject<ScrollView>;\n}) {\n  const [outerScrollEnabled, setOuterScrollEnabled] = useState(true);\n  const scrollViewSize = useSharedValue(0);\n  const scrollableRefInner = useRef<ScrollView>(null);\n  const scrollableRef = forwardedRef || scrollableRefInner;\n  const outerScrollOffset = useSharedValue(0);\n  const containerSize = useSharedValue(0);\n\n  const contextVal = useMemo(\n    () => ({\n      outerScrollEnabled,\n      setOuterScrollEnabled,\n      outerScrollOffset,\n      scrollViewSize,\n      scrollableRef,\n      containerSize,\n    }),\n    [outerScrollEnabled]\n  );\n\n  return contextVal;\n}\n\nexport function NestableScrollContainerProvider({\n  children,\n  forwardedRef,\n}: {\n  children: React.ReactNode;\n  forwardedRef?: React.MutableRefObject<ScrollView>;\n}) {\n  const contextVal = useSetupNestableScrollContextValue({ forwardedRef });\n  return (\n    <NestableScrollContainerContext.Provider value={contextVal}>\n      {children}\n    </NestableScrollContainerContext.Provider>\n  );\n}\n\nexport function useNestableScrollContainerContext() {\n  const value = useContext(NestableScrollContainerContext);\n  return value;\n}\n\nexport function useSafeNestableScrollContainerContext() {\n  const value = useNestableScrollContainerContext();\n  if (!value) {\n    throw new Error(\n      \"useSafeNestableScrollContainerContext must be called within a NestableScrollContainerContext.Provider\"\n    );\n  }\n  return value;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/context/propsContext.js b/lib/commonjs/context/propsContext.js
index 3a9b6503e1a24ab83a57d42764f407c270582b12..44c592f52bf10bfd2561e8c569596a654e930c9b 100644
--- a/lib/commonjs/context/propsContext.js
+++ b/lib/commonjs/context/propsContext.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=PropsProvider;exports.useProps=useProps;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/propsContext.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var PropsContext=_react.default.createContext(undefined);function PropsProvider(_ref){var children=_ref.children,props=(0,_objectWithoutProperties2.default)(_ref,["children"]);return _react.default.createElement(PropsContext.Provider,{value:props,__self:this,__source:{fileName:_jsxFileName,lineNumber:12,columnNumber:5}},children);}function useProps(){var value=(0,_react.useContext)(PropsContext);if(!value){throw new Error("useProps must be called from within PropsProvider!");}return value;}
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=PropsProvider;exports.useProps=useProps;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\propsContext.tsx";var _excluded=["children"];function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var PropsContext=_react.default.createContext(undefined);function PropsProvider(_ref){var children=_ref.children,props=(0,_objectWithoutProperties2.default)(_ref,_excluded);return _react.default.createElement(PropsContext.Provider,{value:props,__self:this,__source:{fileName:_jsxFileName,lineNumber:12,columnNumber:5}},children);}function useProps(){var value=(0,_react.useContext)(PropsContext);if(!value){throw new Error("useProps must be called from within PropsProvider!");}return value;}
 //# sourceMappingURL=propsContext.js.map
\ No newline at end of file
diff --git a/lib/commonjs/context/propsContext.js.map b/lib/commonjs/context/propsContext.js.map
index 3a37a79097acbb959a504714b1651833441ddbb2..2c632239b8edbab45cd22da3afbd9b2afc1f8c61 100644
--- a/lib/commonjs/context/propsContext.js.map
+++ b/lib/commonjs/context/propsContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["PropsContext","React","createContext","undefined","PropsProvider","children","props","useProps","value","useContext","Error"],"sources":["propsContext.tsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { DraggableFlatListProps } from \"../types\";\n\nconst PropsContext = React.createContext<\n  DraggableFlatListProps<any> | undefined\n>(undefined);\n\ntype Props<T> = DraggableFlatListProps<T> & { children: React.ReactNode };\n\nexport default function PropsProvider<T>({ children, ...props }: Props<T>) {\n  return (\n    <PropsContext.Provider value={props}>{children}</PropsContext.Provider>\n  );\n}\n\nexport function useProps<T>() {\n  const value = useContext(PropsContext) as\n    | DraggableFlatListProps<T>\n    | undefined;\n  if (!value) {\n    throw new Error(\"useProps must be called from within PropsProvider!\");\n  }\n  return value;\n}\n"],"mappings":"oTAAA,qD,6mCAGA,GAAMA,aAAY,CAAGC,cAAA,CAAMC,aAAN,CAEnBC,SAFmB,CAArB,CAMe,QAASC,cAAT,MAA4D,IAAhCC,SAAgC,MAAhCA,QAAgC,CAAnBC,KAAmB,0DACzE,MACE,8BAAC,YAAD,CAAc,QAAd,EAAuB,KAAK,CAAEA,KAA9B,4EAAsCD,QAAtC,CADF,CAGD,CAEM,QAASE,SAAT,EAAuB,CAC5B,GAAMC,MAAK,CAAG,GAAAC,iBAAA,EAAWT,YAAX,CAAd,CAGA,GAAI,CAACQ,KAAL,CAAY,CACV,KAAM,IAAIE,MAAJ,CAAU,oDAAV,CAAN,CACD,CACD,MAAOF,MAAP,CACD"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_jsxFileName","_excluded","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","PropsContext","React","createContext","undefined","PropsProvider","_ref","children","props","_objectWithoutProperties2","createElement","Provider","value","__self","__source","fileName","lineNumber","columnNumber","useProps","useContext","Error"],"sources":["propsContext.tsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { DraggableFlatListProps } from \"../types\";\n\nconst PropsContext = React.createContext<\n  DraggableFlatListProps<any> | undefined\n>(undefined);\n\ntype Props<T> = DraggableFlatListProps<T> & { children: React.ReactNode };\n\nexport default function PropsProvider<T>({ children, ...props }: Props<T>) {\n  return (\n    <PropsContext.Provider value={props}>{children}</PropsContext.Provider>\n  );\n}\n\nexport function useProps<T>() {\n  const value = useContext(PropsContext) as\n    | DraggableFlatListProps<T>\n    | undefined;\n  if (!value) {\n    throw new Error(\"useProps must be called from within PropsProvider!\");\n  }\n  return value;\n}\n"],"mappings":"oTAAA,IAAAA,MAAA,CAAAC,uBAAA,CAAAC,OAAA,WAA0C,IAAAC,YAAA,kGAAAC,SAAA,uBAAAC,yBAAAC,CAAA,wBAAAC,OAAA,iBAAAC,CAAA,KAAAD,OAAA,GAAAE,CAAA,KAAAF,OAAA,UAAAF,wBAAA,UAAAA,yBAAAC,CAAA,SAAAA,CAAA,CAAAG,CAAA,CAAAD,CAAA,IAAAF,CAAA,YAAAL,wBAAAK,CAAA,CAAAE,CAAA,MAAAA,CAAA,EAAAF,CAAA,EAAAA,CAAA,CAAAI,UAAA,QAAAJ,CAAA,WAAAA,CAAA,mBAAAA,CAAA,qBAAAA,CAAA,QAAAK,OAAA,CAAAL,CAAA,MAAAG,CAAA,CAAAJ,wBAAA,CAAAG,CAAA,KAAAC,CAAA,EAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,SAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,MAAAQ,CAAA,EAAAC,SAAA,OAAAC,CAAA,CAAAC,MAAA,CAAAC,cAAA,EAAAD,MAAA,CAAAE,wBAAA,SAAAC,CAAA,IAAAd,CAAA,gBAAAc,CAAA,KAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,CAAAc,CAAA,OAAAG,CAAA,CAAAP,CAAA,CAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,CAAAc,CAAA,OAAAG,CAAA,GAAAA,CAAA,CAAAV,GAAA,EAAAU,CAAA,CAAAC,GAAA,EAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,CAAAM,CAAA,CAAAG,CAAA,EAAAT,CAAA,CAAAM,CAAA,EAAAd,CAAA,CAAAc,CAAA,UAAAN,CAAA,CAAAH,OAAA,CAAAL,CAAA,CAAAG,CAAA,EAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,CAAAQ,CAAA,EAAAA,CAAA,EAG1C,GAAM,CAAAW,YAAY,CAAGC,cAAK,CAACC,aAAa,CAEtCC,SAAS,CAAC,CAIG,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAsC,IAAhC,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAKC,KAAK,IAAAC,yBAAA,CAAAtB,OAAA,EAAAmB,IAAA,CAAA1B,SAAA,EAC3D,MACE,CAAAJ,MAAA,CAAAW,OAAA,CAAAuB,aAAA,CAACT,YAAY,CAACU,QAAQ,EAACC,KAAK,CAAEJ,KAAM,CAAAK,MAAA,MAAAC,QAAA,EAAAC,QAAA,CAAApC,YAAA,CAAAqC,UAAA,IAAAC,YAAA,KAAEV,QAAgC,CAAC,CAE3E,CAEO,QAAS,CAAAW,QAAQA,CAAA,CAAM,CAC5B,GAAM,CAAAN,KAAK,CAAG,GAAAO,iBAAU,EAAClB,YAAY,CAExB,CACb,GAAI,CAACW,KAAK,CAAE,CACV,KAAM,IAAI,CAAAQ,KAAK,CAAC,oDAAoD,CAAC,CACvE,CACA,MAAO,CAAAR,KAAK,CACd","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/context/refContext.js b/lib/commonjs/context/refContext.js
index cd5dd90e621fe25c0a95b5fd33bdb89acf7cc60c..28ef94f11613994dcaa30bc0ae5e8d82b2e112a9 100644
--- a/lib/commonjs/context/refContext.js
+++ b/lib/commonjs/context/refContext.js
@@ -1,2 +1,2 @@
-Object.defineProperty(exports,"__esModule",{value:true});exports.default=RefProvider;exports.useRefs=useRefs;var _react=_interopRequireWildcard(require("react"));var _constants=require("../constants");var _propsContext=require("./propsContext");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/context/refContext.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var RefContext=_react.default.createContext(undefined);function RefProvider(_ref){var children=_ref.children,flatListRef=_ref.flatListRef;var value=useSetupRefs({flatListRef:flatListRef});return _react.default.createElement(RefContext.Provider,{value:value,__self:this,__source:{fileName:_jsxFileName,lineNumber:30,columnNumber:10}},children);}function useRefs(){var value=(0,_react.useContext)(RefContext);if(!value){throw new Error("useRefs must be called from within a RefContext.Provider!");}return value;}function useSetupRefs(_ref2){var flatListRefProp=_ref2.flatListRef;var props=(0,_propsContext.useProps)();var _props$animationConfi=props.animationConfig,animationConfig=_props$animationConfi===void 0?_constants.DEFAULT_PROPS.animationConfig:_props$animationConfi;var propsRef=(0,_react.useRef)(props);propsRef.current=props;var animConfig=Object.assign({},_constants.DEFAULT_PROPS.animationConfig,animationConfig);var animationConfigRef=(0,_react.useRef)(animConfig);animationConfigRef.current=animConfig;var cellDataRef=(0,_react.useRef)(new Map());var keyToIndexRef=(0,_react.useRef)(new Map());var containerRef=(0,_react.useRef)(null);var flatlistRefInternal=(0,_react.useRef)(null);var flatlistRef=flatListRefProp||flatlistRefInternal;var scrollViewRef=(0,_react.useRef)(null);var refs=(0,_react.useMemo)(function(){return{animationConfigRef:animationConfigRef,cellDataRef:cellDataRef,containerRef:containerRef,flatlistRef:flatlistRef,keyToIndexRef:keyToIndexRef,propsRef:propsRef,scrollViewRef:scrollViewRef};},[]);return refs;}
+Object.defineProperty(exports,"__esModule",{value:true});exports.default=RefProvider;exports.useRefs=useRefs;var _react=_interopRequireWildcard(require("react"));var _reactNativeReanimated=require("react-native-reanimated");var _constants=require("../constants");var _propsContext=require("./propsContext");var _jsxFileName="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\context\\refContext.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var RefContext=_react.default.createContext(undefined);function RefProvider(_ref){var children=_ref.children,flatListRef=_ref.flatListRef;var value=useSetupRefs({flatListRef:flatListRef});return _react.default.createElement(RefContext.Provider,{value:value,__self:this,__source:{fileName:_jsxFileName,lineNumber:30,columnNumber:10}},children);}function useRefs(){var value=(0,_react.useContext)(RefContext);if(!value){throw new Error("useRefs must be called from within a RefContext.Provider!");}return value;}function useSetupRefs(_ref2){var flatListRefProp=_ref2.flatListRef;var props=(0,_propsContext.useProps)();var _props$animationConfi=props.animationConfig,animationConfig=_props$animationConfi===void 0?_constants.DEFAULT_PROPS.animationConfig:_props$animationConfi;var propsRef=(0,_react.useRef)(props);propsRef.current=props;var animConfig=Object.assign({},_constants.DEFAULT_PROPS.animationConfig,animationConfig);var animationConfigRef=(0,_reactNativeReanimated.useSharedValue)(animConfig);animationConfigRef.value=animConfig;var cellDataRef=(0,_react.useRef)(new Map());var keyToIndexRef=(0,_react.useRef)(new Map());var containerRef=(0,_react.useRef)(null);var flatlistRefInternal=(0,_react.useRef)(null);var flatlistRef=flatListRefProp||flatlistRefInternal;var scrollViewRef=(0,_react.useRef)(null);var refs=(0,_react.useMemo)(function(){return{animationConfigRef:animationConfigRef,cellDataRef:cellDataRef,containerRef:containerRef,flatlistRef:flatlistRef,keyToIndexRef:keyToIndexRef,propsRef:propsRef,scrollViewRef:scrollViewRef};},[]);return refs;}
 //# sourceMappingURL=refContext.js.map
\ No newline at end of file
diff --git a/lib/commonjs/context/refContext.js.map b/lib/commonjs/context/refContext.js.map
index 163535bba2b6e4411fbb7f3a69ef64c97058b4d8..45497280973c29f5104e8e1d730ae12dd4e960b8 100644
--- a/lib/commonjs/context/refContext.js.map
+++ b/lib/commonjs/context/refContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["RefContext","React","createContext","undefined","RefProvider","children","flatListRef","value","useSetupRefs","useRefs","useContext","Error","flatListRefProp","props","useProps","animationConfig","DEFAULT_PROPS","propsRef","useRef","current","animConfig","animationConfigRef","cellDataRef","Map","keyToIndexRef","containerRef","flatlistRefInternal","flatlistRef","scrollViewRef","refs","useMemo"],"sources":["refContext.tsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useMemo, useRef } from \"react\";\nimport { FlatList } from \"react-native-gesture-handler\";\nimport Animated, { WithSpringConfig } from \"react-native-reanimated\";\nimport { DEFAULT_PROPS } from \"../constants\";\nimport { useProps } from \"./propsContext\";\nimport { CellData, DraggableFlatListProps } from \"../types\";\n\ntype RefContextValue<T> = {\n  propsRef: React.MutableRefObject<DraggableFlatListProps<T>>;\n  animationConfigRef: React.MutableRefObject<WithSpringConfig>;\n  cellDataRef: React.MutableRefObject<Map<string, CellData>>;\n  keyToIndexRef: React.MutableRefObject<Map<string, number>>;\n  containerRef: React.RefObject<Animated.View>;\n  flatlistRef: React.RefObject<FlatList<T>> | React.ForwardedRef<FlatList<T>>;\n  scrollViewRef: React.RefObject<Animated.ScrollView>;\n};\nconst RefContext = React.createContext<RefContextValue<any> | undefined>(\n  undefined\n);\n\nexport default function RefProvider<T>({\n  children,\n  flatListRef,\n}: {\n  children: React.ReactNode;\n  flatListRef?: React.ForwardedRef<FlatList<T>> | null;\n}) {\n  const value = useSetupRefs<T>({ flatListRef });\n  return <RefContext.Provider value={value}>{children}</RefContext.Provider>;\n}\n\nexport function useRefs<T>() {\n  const value = useContext(RefContext);\n  if (!value) {\n    throw new Error(\n      \"useRefs must be called from within a RefContext.Provider!\"\n    );\n  }\n  return value as RefContextValue<T>;\n}\n\nfunction useSetupRefs<T>({\n  flatListRef: flatListRefProp,\n}: {\n  flatListRef?: React.ForwardedRef<FlatList<T>> | null;\n}) {\n  const props = useProps<T>();\n  const { animationConfig = DEFAULT_PROPS.animationConfig } = props;\n\n  const propsRef = useRef(props);\n  propsRef.current = props;\n  const animConfig = {\n    ...DEFAULT_PROPS.animationConfig,\n    ...animationConfig,\n  } as WithSpringConfig;\n  const animationConfigRef = useRef(animConfig);\n  animationConfigRef.current = animConfig;\n\n  const cellDataRef = useRef(new Map<string, CellData>());\n  const keyToIndexRef = useRef(new Map<string, number>());\n  const containerRef = useRef<Animated.View>(null);\n  const flatlistRefInternal = useRef<FlatList<T>>(null);\n  const flatlistRef = flatListRefProp || flatlistRefInternal;\n  const scrollViewRef = useRef<Animated.ScrollView>(null);\n\n  // useEffect(() => {\n  //   // This is a workaround for the fact that RN does not respect refs passed in\n  //   // to renderScrollViewComponent underlying ScrollView (currently not used but\n  //   // may need to add if we want to use reanimated scrollTo in the future)\n  //   //@ts-ignore\n  //   const scrollRef = flatlistRef.current?.getNativeScrollRef();\n  //   if (!scrollViewRef.current) {\n  //     //@ts-ignore\n  //     scrollViewRef(scrollRef);\n  //   }\n  // }, []);\n\n  const refs = useMemo(\n    () => ({\n      animationConfigRef,\n      cellDataRef,\n      containerRef,\n      flatlistRef,\n      keyToIndexRef,\n      propsRef,\n      scrollViewRef,\n    }),\n    []\n  );\n\n  return refs;\n}\n"],"mappings":"6GAAA,qDAIA,uCACA,4C,2mCAYA,GAAMA,WAAU,CAAGC,cAAA,CAAMC,aAAN,CACjBC,SADiB,CAAnB,CAIe,QAASC,YAAT,MAMZ,IALDC,SAKC,MALDA,QAKC,CAJDC,WAIC,MAJDA,WAIC,CACD,GAAMC,MAAK,CAAGC,YAAY,CAAI,CAAEF,WAAW,CAAXA,WAAF,CAAJ,CAA1B,CACA,MAAO,8BAAC,UAAD,CAAY,QAAZ,EAAqB,KAAK,CAAEC,KAA5B,6EAAoCF,QAApC,CAAP,CACD,CAEM,QAASI,QAAT,EAAsB,CAC3B,GAAMF,MAAK,CAAG,GAAAG,iBAAA,EAAWV,UAAX,CAAd,CACA,GAAI,CAACO,KAAL,CAAY,CACV,KAAM,IAAII,MAAJ,CACJ,2DADI,CAAN,CAGD,CACD,MAAOJ,MAAP,CACD,CAED,QAASC,aAAT,OAIG,IAHYI,gBAGZ,OAHDN,WAGC,CACD,GAAMO,MAAK,CAAG,GAAAC,sBAAA,GAAd,CADC,0BAE2DD,KAF3D,CAEOE,eAFP,CAEOA,eAFP,gCAEyBC,wBAAA,CAAcD,eAFvC,uBAID,GAAME,SAAQ,CAAG,GAAAC,aAAA,EAAOL,KAAP,CAAjB,CACAI,QAAQ,CAACE,OAAT,CAAmBN,KAAnB,CACA,GAAMO,WAAU,kBACXJ,wBAAA,CAAcD,eADH,CAEXA,eAFW,CAAhB,CAIA,GAAMM,mBAAkB,CAAG,GAAAH,aAAA,EAAOE,UAAP,CAA3B,CACAC,kBAAkB,CAACF,OAAnB,CAA6BC,UAA7B,CAEA,GAAME,YAAW,CAAG,GAAAJ,aAAA,EAAO,GAAIK,IAAJ,EAAP,CAApB,CACA,GAAMC,cAAa,CAAG,GAAAN,aAAA,EAAO,GAAIK,IAAJ,EAAP,CAAtB,CACA,GAAME,aAAY,CAAG,GAAAP,aAAA,EAAsB,IAAtB,CAArB,CACA,GAAMQ,oBAAmB,CAAG,GAAAR,aAAA,EAAoB,IAApB,CAA5B,CACA,GAAMS,YAAW,CAAGf,eAAe,EAAIc,mBAAvC,CACA,GAAME,cAAa,CAAG,GAAAV,aAAA,EAA4B,IAA5B,CAAtB,CAcA,GAAMW,KAAI,CAAG,GAAAC,cAAA,EACX,iBAAO,CACLT,kBAAkB,CAAlBA,kBADK,CAELC,WAAW,CAAXA,WAFK,CAGLG,YAAY,CAAZA,YAHK,CAILE,WAAW,CAAXA,WAJK,CAKLH,aAAa,CAAbA,aALK,CAMLP,QAAQ,CAARA,QANK,CAOLW,aAAa,CAAbA,aAPK,CAAP,EADW,CAUX,EAVW,CAAb,CAaA,MAAOC,KAAP,CACD"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNativeReanimated","_constants","_propsContext","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","RefContext","React","createContext","undefined","RefProvider","_ref","children","flatListRef","value","useSetupRefs","createElement","Provider","__self","__source","fileName","lineNumber","columnNumber","useRefs","useContext","Error","_ref2","flatListRefProp","props","useProps","_props$animationConfi","animationConfig","DEFAULT_PROPS","propsRef","useRef","current","animConfig","assign","animationConfigRef","useSharedValue","cellDataRef","Map","keyToIndexRef","containerRef","flatlistRefInternal","flatlistRef","scrollViewRef","refs","useMemo"],"sources":["refContext.tsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useMemo, useRef } from \"react\";\nimport { FlatList } from \"react-native-gesture-handler\";\nimport Animated, { type SharedValue, useSharedValue, WithSpringConfig } from \"react-native-reanimated\";\nimport { DEFAULT_PROPS } from \"../constants\";\nimport { useProps } from \"./propsContext\";\nimport { CellData, DraggableFlatListProps } from \"../types\";\n\ntype RefContextValue<T> = {\n  propsRef: React.MutableRefObject<DraggableFlatListProps<T>>;\n  animationConfigRef: SharedValue<WithSpringConfig>;\n  cellDataRef: React.MutableRefObject<Map<string, CellData>>;\n  keyToIndexRef: React.MutableRefObject<Map<string, number>>;\n  containerRef: React.RefObject<Animated.View>;\n  flatlistRef: React.RefObject<FlatList<T>> | React.ForwardedRef<FlatList<T>>;\n  scrollViewRef: React.RefObject<Animated.ScrollView>;\n};\nconst RefContext = React.createContext<RefContextValue<any> | undefined>(\n  undefined\n);\n\nexport default function RefProvider<T>({\n  children,\n  flatListRef,\n}: {\n  children: React.ReactNode;\n  flatListRef?: React.ForwardedRef<FlatList<T>> | null;\n}) {\n  const value = useSetupRefs<T>({ flatListRef });\n  return <RefContext.Provider value={value}>{children}</RefContext.Provider>;\n}\n\nexport function useRefs<T>() {\n  const value = useContext(RefContext);\n  if (!value) {\n    throw new Error(\n      \"useRefs must be called from within a RefContext.Provider!\"\n    );\n  }\n  return value as RefContextValue<T>;\n}\n\nfunction useSetupRefs<T>({\n  flatListRef: flatListRefProp,\n}: {\n  flatListRef?: React.ForwardedRef<FlatList<T>> | null;\n}) {\n  const props = useProps<T>();\n  const { animationConfig = DEFAULT_PROPS.animationConfig } = props;\n\n  const propsRef = useRef(props);\n  propsRef.current = props;\n  const animConfig = {\n    ...DEFAULT_PROPS.animationConfig,\n    ...animationConfig,\n  } as WithSpringConfig;\n  const animationConfigRef = useSharedValue(animConfig);\n  animationConfigRef.value = animConfig;\n\n  const cellDataRef = useRef(new Map<string, CellData>());\n  const keyToIndexRef = useRef(new Map<string, number>());\n  const containerRef = useRef<Animated.View>(null);\n  const flatlistRefInternal = useRef<FlatList<T>>(null);\n  const flatlistRef = flatListRefProp || flatlistRefInternal;\n  const scrollViewRef = useRef<Animated.ScrollView>(null);\n\n  // useEffect(() => {\n  //   // This is a workaround for the fact that RN does not respect refs passed in\n  //   // to renderScrollViewComponent underlying ScrollView (currently not used but\n  //   // may need to add if we want to use reanimated scrollTo in the future)\n  //   //@ts-ignore\n  //   const scrollRef = flatlistRef.current?.getNativeScrollRef();\n  //   if (!scrollViewRef.current) {\n  //     //@ts-ignore\n  //     scrollViewRef(scrollRef);\n  //   }\n  // }, []);\n\n  const refs = useMemo(\n    () => ({\n      animationConfigRef,\n      cellDataRef,\n      containerRef,\n      flatlistRef,\n      keyToIndexRef,\n      propsRef,\n      scrollViewRef,\n    }),\n    []\n  );\n\n  return refs;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/hooks/useAutoScroll.js b/lib/commonjs/hooks/useAutoScroll.js
index ea7afdd1addb3c0ad2b053e34e93748a5599105d..f3d99c635e3d4ccffca22e7af149ea7564f0302e 100644
--- a/lib/commonjs/hooks/useAutoScroll.js
+++ b/lib/commonjs/hooks/useAutoScroll.js
@@ -1,2 +1,2 @@
-Object.defineProperty(exports,"__esModule",{value:true});exports.useAutoScroll=useAutoScroll;var _reactNativeReanimated=require("react-native-reanimated");var _constants=require("../constants");var _propsContext=require("../context/propsContext");var _animatedValueContext=require("../context/animatedValueContext");var _refContext=require("../context/refContext");function useAutoScroll(){var _useRefs=(0,_refContext.useRefs)(),flatlistRef=_useRefs.flatlistRef;var _useProps=(0,_propsContext.useProps)(),_useProps$autoscrollT=_useProps.autoscrollThreshold,autoscrollThreshold=_useProps$autoscrollT===void 0?_constants.DEFAULT_PROPS.autoscrollThreshold:_useProps$autoscrollT,_useProps$autoscrollS=_useProps.autoscrollSpeed,autoscrollSpeed=_useProps$autoscrollS===void 0?_constants.DEFAULT_PROPS.autoscrollSpeed:_useProps$autoscrollS;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),scrollOffset=_useAnimatedValues.scrollOffset,scrollViewSize=_useAnimatedValues.scrollViewSize,containerSize=_useAnimatedValues.containerSize,activeCellSize=_useAnimatedValues.activeCellSize,hoverOffset=_useAnimatedValues.hoverOffset,activeIndexAnim=_useAnimatedValues.activeIndexAnim;var hoverScreenOffset=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return hoverOffset.value-scrollOffset.value;};_f._closure={hoverOffset:hoverOffset,scrollOffset:scrollOffset};_f.asString="function _f(){const{hoverOffset,scrollOffset}=jsThis._closure;{return hoverOffset.value-scrollOffset.value;}}";_f.__workletHash=10763890843319;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (29:44)";return _f;}(),[]);var isScrolledUp=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return scrollOffset.value-_constants.SCROLL_POSITION_TOLERANCE<=0;};_f._closure={scrollOffset:scrollOffset,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE};_f.asString="function _f(){const{scrollOffset,SCROLL_POSITION_TOLERANCE}=jsThis._closure;{return scrollOffset.value-SCROLL_POSITION_TOLERANCE<=0;}}";_f.__workletHash=15578879662595;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (33:39)";return _f;}(),[]);var isScrolledDown=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return scrollOffset.value+containerSize.value+_constants.SCROLL_POSITION_TOLERANCE>=scrollViewSize.value;};_f._closure={scrollOffset:scrollOffset,containerSize:containerSize,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE,scrollViewSize:scrollViewSize};_f.asString="function _f(){const{scrollOffset,containerSize,SCROLL_POSITION_TOLERANCE,scrollViewSize}=jsThis._closure;{return scrollOffset.value+containerSize.value+SCROLL_POSITION_TOLERANCE>=scrollViewSize.value;}}";_f.__workletHash=7372520673244;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (37:41)";return _f;}(),[]);var distToTopEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return Math.max(0,hoverScreenOffset.value);};_f._closure={hoverScreenOffset:hoverScreenOffset};_f.asString="function _f(){const{hoverScreenOffset}=jsThis._closure;{return Math.max(0,hoverScreenOffset.value);}}";_f.__workletHash=5945680760068;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (44:40)";return _f;}(),[]);var distToBottomEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var hoverPlusActiveCell=hoverScreenOffset.value+activeCellSize.value;return Math.max(0,containerSize.value-hoverPlusActiveCell);};_f._closure={hoverScreenOffset:hoverScreenOffset,activeCellSize:activeCellSize,containerSize:containerSize};_f.asString="function _f(){const{hoverScreenOffset,activeCellSize,containerSize}=jsThis._closure;{const hoverPlusActiveCell=hoverScreenOffset.value+activeCellSize.value;return Math.max(0,containerSize.value-hoverPlusActiveCell);}}";_f.__workletHash=17447360140833;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (48:43)";return _f;}(),[]);var isAtTopEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return distToTopEdge.value<=autoscrollThreshold;};_f._closure={distToTopEdge:distToTopEdge,autoscrollThreshold:autoscrollThreshold};_f.asString="function _f(){const{distToTopEdge,autoscrollThreshold}=jsThis._closure;{return distToTopEdge.value<=autoscrollThreshold;}}";_f.__workletHash=499688299934;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (53:38)";return _f;}());var isAtBottomEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return distToBottomEdge.value<=autoscrollThreshold;};_f._closure={distToBottomEdge:distToBottomEdge,autoscrollThreshold:autoscrollThreshold};_f.asString="function _f(){const{distToBottomEdge,autoscrollThreshold}=jsThis._closure;{return distToBottomEdge.value<=autoscrollThreshold;}}";_f.__workletHash=10361122491518;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (57:41)";return _f;}(),[]);var scrollTarget=(0,_reactNativeReanimated.useSharedValue)(0);var dragIsActive=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return activeIndexAnim.value>=0;};_f._closure={activeIndexAnim:activeIndexAnim};_f.asString="function _f(){const{activeIndexAnim}=jsThis._closure;{return activeIndexAnim.value>=0;}}";_f.__workletHash=16254827243008;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (62:39)";return _f;}(),[]);(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return dragIsActive.value;};_f._closure={dragIsActive:dragIsActive};_f.asString="function _f(){const{dragIsActive}=jsThis._closure;{return dragIsActive.value;}}";_f.__workletHash=4207325526803;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (67:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur&&!prev){scrollTarget.value=scrollOffset.value;}};_f._closure={scrollTarget:scrollTarget,scrollOffset:scrollOffset};_f.asString="function _f(cur,prev){const{scrollTarget,scrollOffset}=jsThis._closure;{if(cur&&!prev){scrollTarget.value=scrollOffset.value;}}}";_f.__workletHash=14491611054056;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (70:4)";return _f;}());var shouldAutoScroll=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var scrollTargetDiff=Math.abs(scrollTarget.value-scrollOffset.value);var hasScrolledToTarget=scrollTargetDiff<_constants.SCROLL_POSITION_TOLERANCE;var isAtEdge=isAtTopEdge.value||isAtBottomEdge.value;var topDisabled=isAtTopEdge.value&&isScrolledUp.value;var bottomDisabled=isAtBottomEdge.value&&isScrolledDown.value;var isEdgeDisabled=topDisabled||bottomDisabled;var cellIsActive=activeIndexAnim.value>=0;return hasScrolledToTarget&&isAtEdge&&!isEdgeDisabled&&cellIsActive;};_f._closure={scrollTarget:scrollTarget,scrollOffset:scrollOffset,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE,isAtTopEdge:isAtTopEdge,isAtBottomEdge:isAtBottomEdge,isScrolledUp:isScrolledUp,isScrolledDown:isScrolledDown,activeIndexAnim:activeIndexAnim};_f.asString="function _f(){const{scrollTarget,scrollOffset,SCROLL_POSITION_TOLERANCE,isAtTopEdge,isAtBottomEdge,isScrolledUp,isScrolledDown,activeIndexAnim}=jsThis._closure;{const scrollTargetDiff=Math.abs(scrollTarget.value-scrollOffset.value);const hasScrolledToTarget=scrollTargetDiff<SCROLL_POSITION_TOLERANCE;const isAtEdge=isAtTopEdge.value||isAtBottomEdge.value;const topDisabled=isAtTopEdge.value&&isScrolledUp.value;const bottomDisabled=isAtBottomEdge.value&&isScrolledDown.value;const isEdgeDisabled=topDisabled||bottomDisabled;const cellIsActive=activeIndexAnim.value>=0;return hasScrolledToTarget&&isAtEdge&&!isEdgeDisabled&&cellIsActive;}}";_f.__workletHash=8742571894036;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (77:43)";return _f;}(),[]);function scrollToInternal(offset){if(flatlistRef&&"current"in flatlistRef){var _flatlistRef$current;(_flatlistRef$current=flatlistRef.current)==null?void 0:_flatlistRef$current.scrollToOffset({offset:offset,animated:true});}}(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){if(!shouldAutoScroll.value)return;var distFromEdge=isAtTopEdge.value?distToTopEdge.value:distToBottomEdge.value;var speedPct=1-distFromEdge/autoscrollThreshold;var offset=speedPct*autoscrollSpeed;var targetOffset=isAtTopEdge.value?Math.max(0,scrollOffset.value-offset):Math.min(scrollOffset.value+offset,scrollViewSize.value-containerSize.value);scrollTarget.value=targetOffset;(0,_reactNativeReanimated.runOnJS)(scrollToInternal)(targetOffset);};_f._closure={shouldAutoScroll:shouldAutoScroll,isAtTopEdge:isAtTopEdge,distToTopEdge:distToTopEdge,distToBottomEdge:distToBottomEdge,autoscrollThreshold:autoscrollThreshold,autoscrollSpeed:autoscrollSpeed,scrollOffset:scrollOffset,scrollViewSize:scrollViewSize,containerSize:containerSize,scrollTarget:scrollTarget,runOnJS:_reactNativeReanimated.runOnJS,scrollToInternal:scrollToInternal};_f.asString="function _f(){const{shouldAutoScroll,isAtTopEdge,distToTopEdge,distToBottomEdge,autoscrollThreshold,autoscrollSpeed,scrollOffset,scrollViewSize,containerSize,scrollTarget,runOnJS,scrollToInternal}=jsThis._closure;{if(!shouldAutoScroll.value)return;const distFromEdge=isAtTopEdge.value?distToTopEdge.value:distToBottomEdge.value;const speedPct=1-distFromEdge/autoscrollThreshold;const offset=speedPct*autoscrollSpeed;const targetOffset=isAtTopEdge.value?Math.max(0,scrollOffset.value-offset):Math.min(scrollOffset.value+offset,scrollViewSize.value-containerSize.value);scrollTarget.value=targetOffset;runOnJS(scrollToInternal)(targetOffset);}}";_f.__workletHash=8964641543522;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useAutoScroll.tsx (97:18)";return _f;}(),[]);return null;}
+Object.defineProperty(exports,"__esModule",{value:true});exports.useAutoScroll=useAutoScroll;var _reactNativeReanimated=require("react-native-reanimated");var _constants=require("../constants");var _propsContext=require("../context/propsContext");var _animatedValueContext=require("../context/animatedValueContext");var _refContext=require("../context/refContext");function useAutoScroll(){var _useRefs=(0,_refContext.useRefs)(),flatlistRef=_useRefs.flatlistRef;var _useProps=(0,_propsContext.useProps)(),_useProps$autoscrollT=_useProps.autoscrollThreshold,autoscrollThreshold=_useProps$autoscrollT===void 0?_constants.DEFAULT_PROPS.autoscrollThreshold:_useProps$autoscrollT,_useProps$autoscrollS=_useProps.autoscrollSpeed,autoscrollSpeed=_useProps$autoscrollS===void 0?_constants.DEFAULT_PROPS.autoscrollSpeed:_useProps$autoscrollS;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),scrollOffset=_useAnimatedValues.scrollOffset,scrollViewSize=_useAnimatedValues.scrollViewSize,containerSize=_useAnimatedValues.containerSize,activeCellSize=_useAnimatedValues.activeCellSize,hoverOffset=_useAnimatedValues.hoverOffset,activeIndexAnim=_useAnimatedValues.activeIndexAnim;var hoverScreenOffset=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return hoverOffset.value-scrollOffset.value;};_f._closure={hoverOffset:hoverOffset,scrollOffset:scrollOffset};_f.asString="function _f(){const{hoverOffset,scrollOffset}=jsThis._closure;{return hoverOffset.value-scrollOffset.value;}}";_f.__workletHash=10763890843319;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (29:44)";return _f;}(),[]);var isScrolledUp=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return scrollOffset.value-_constants.SCROLL_POSITION_TOLERANCE<=0;};_f._closure={scrollOffset:scrollOffset,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE};_f.asString="function _f(){const{scrollOffset,SCROLL_POSITION_TOLERANCE}=jsThis._closure;{return scrollOffset.value-SCROLL_POSITION_TOLERANCE<=0;}}";_f.__workletHash=15578879662595;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (33:39)";return _f;}(),[]);var isScrolledDown=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return scrollOffset.value+containerSize.value+_constants.SCROLL_POSITION_TOLERANCE>=scrollViewSize.value;};_f._closure={scrollOffset:scrollOffset,containerSize:containerSize,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE,scrollViewSize:scrollViewSize};_f.asString="function _f(){const{scrollOffset,containerSize,SCROLL_POSITION_TOLERANCE,scrollViewSize}=jsThis._closure;{return scrollOffset.value+containerSize.value+SCROLL_POSITION_TOLERANCE>=scrollViewSize.value;}}";_f.__workletHash=7372520673244;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (37:41)";return _f;}(),[]);var distToTopEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return Math.max(0,hoverScreenOffset.value);};_f._closure={hoverScreenOffset:hoverScreenOffset};_f.asString="function _f(){const{hoverScreenOffset}=jsThis._closure;{return Math.max(0,hoverScreenOffset.value);}}";_f.__workletHash=5945680760068;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (44:40)";return _f;}(),[]);var distToBottomEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var hoverPlusActiveCell=hoverScreenOffset.value+activeCellSize.value;return Math.max(0,containerSize.value-hoverPlusActiveCell);};_f._closure={hoverScreenOffset:hoverScreenOffset,activeCellSize:activeCellSize,containerSize:containerSize};_f.asString="function _f(){const{hoverScreenOffset,activeCellSize,containerSize}=jsThis._closure;{const hoverPlusActiveCell=hoverScreenOffset.value+activeCellSize.value;return Math.max(0,containerSize.value-hoverPlusActiveCell);}}";_f.__workletHash=17447360140833;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (48:43)";return _f;}(),[]);var isAtTopEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return distToTopEdge.value<=autoscrollThreshold;};_f._closure={distToTopEdge:distToTopEdge,autoscrollThreshold:autoscrollThreshold};_f.asString="function _f(){const{distToTopEdge,autoscrollThreshold}=jsThis._closure;{return distToTopEdge.value<=autoscrollThreshold;}}";_f.__workletHash=499688299934;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (53:38)";return _f;}());var isAtBottomEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return distToBottomEdge.value<=autoscrollThreshold;};_f._closure={distToBottomEdge:distToBottomEdge,autoscrollThreshold:autoscrollThreshold};_f.asString="function _f(){const{distToBottomEdge,autoscrollThreshold}=jsThis._closure;{return distToBottomEdge.value<=autoscrollThreshold;}}";_f.__workletHash=10361122491518;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (57:41)";return _f;}(),[]);var scrollTarget=(0,_reactNativeReanimated.useSharedValue)(0);var dragIsActive=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return activeIndexAnim.value>=0;};_f._closure={activeIndexAnim:activeIndexAnim};_f.asString="function _f(){const{activeIndexAnim}=jsThis._closure;{return activeIndexAnim.value>=0;}}";_f.__workletHash=16254827243008;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (62:39)";return _f;}(),[]);(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return dragIsActive.value;};_f._closure={dragIsActive:dragIsActive};_f.asString="function _f(){const{dragIsActive}=jsThis._closure;{return dragIsActive.value;}}";_f.__workletHash=4207325526803;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (67:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur&&!prev){scrollTarget.value=scrollOffset.value;}};_f._closure={scrollTarget:scrollTarget,scrollOffset:scrollOffset};_f.asString="function _f(cur,prev){const{scrollTarget,scrollOffset}=jsThis._closure;{if(cur&&!prev){scrollTarget.value=scrollOffset.value;}}}";_f.__workletHash=14491611054056;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (70:4)";return _f;}());var shouldAutoScroll=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var scrollTargetDiff=Math.abs(scrollTarget.value-scrollOffset.value);var hasScrolledToTarget=scrollTargetDiff<_constants.SCROLL_POSITION_TOLERANCE;var isAtEdge=isAtTopEdge.value||isAtBottomEdge.value;var topDisabled=isAtTopEdge.value&&isScrolledUp.value;var bottomDisabled=isAtBottomEdge.value&&isScrolledDown.value;var isEdgeDisabled=topDisabled||bottomDisabled;var cellIsActive=activeIndexAnim.value>=0;return hasScrolledToTarget&&isAtEdge&&!isEdgeDisabled&&cellIsActive;};_f._closure={scrollTarget:scrollTarget,scrollOffset:scrollOffset,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE,isAtTopEdge:isAtTopEdge,isAtBottomEdge:isAtBottomEdge,isScrolledUp:isScrolledUp,isScrolledDown:isScrolledDown,activeIndexAnim:activeIndexAnim};_f.asString="function _f(){const{scrollTarget,scrollOffset,SCROLL_POSITION_TOLERANCE,isAtTopEdge,isAtBottomEdge,isScrolledUp,isScrolledDown,activeIndexAnim}=jsThis._closure;{const scrollTargetDiff=Math.abs(scrollTarget.value-scrollOffset.value);const hasScrolledToTarget=scrollTargetDiff<SCROLL_POSITION_TOLERANCE;const isAtEdge=isAtTopEdge.value||isAtBottomEdge.value;const topDisabled=isAtTopEdge.value&&isScrolledUp.value;const bottomDisabled=isAtBottomEdge.value&&isScrolledDown.value;const isEdgeDisabled=topDisabled||bottomDisabled;const cellIsActive=activeIndexAnim.value>=0;return hasScrolledToTarget&&isAtEdge&&!isEdgeDisabled&&cellIsActive;}}";_f.__workletHash=8742571894036;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (77:43)";return _f;}(),[]);function scrollToInternal(offset){if(flatlistRef&&"current"in flatlistRef){var _flatlistRef$current;(_flatlistRef$current=flatlistRef.current)==null?void 0:_flatlistRef$current.scrollToOffset({offset:offset,animated:true});}}(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){if(!shouldAutoScroll.value)return;var distFromEdge=isAtTopEdge.value?distToTopEdge.value:distToBottomEdge.value;var speedPct=1-distFromEdge/autoscrollThreshold;var offset=speedPct*autoscrollSpeed;var targetOffset=isAtTopEdge.value?Math.max(0,scrollOffset.value-offset):Math.min(scrollOffset.value+offset,scrollViewSize.value-containerSize.value);scrollTarget.value=targetOffset;(0,_reactNativeReanimated.runOnJS)(scrollToInternal)(targetOffset);};_f._closure={shouldAutoScroll:shouldAutoScroll,isAtTopEdge:isAtTopEdge,distToTopEdge:distToTopEdge,distToBottomEdge:distToBottomEdge,autoscrollThreshold:autoscrollThreshold,autoscrollSpeed:autoscrollSpeed,scrollOffset:scrollOffset,scrollViewSize:scrollViewSize,containerSize:containerSize,scrollTarget:scrollTarget,runOnJS:_reactNativeReanimated.runOnJS,scrollToInternal:scrollToInternal};_f.asString="function _f(){const{shouldAutoScroll,isAtTopEdge,distToTopEdge,distToBottomEdge,autoscrollThreshold,autoscrollSpeed,scrollOffset,scrollViewSize,containerSize,scrollTarget,runOnJS,scrollToInternal}=jsThis._closure;{if(!shouldAutoScroll.value)return;const distFromEdge=isAtTopEdge.value?distToTopEdge.value:distToBottomEdge.value;const speedPct=1-distFromEdge/autoscrollThreshold;const offset=speedPct*autoscrollSpeed;const targetOffset=isAtTopEdge.value?Math.max(0,scrollOffset.value-offset):Math.min(scrollOffset.value+offset,scrollViewSize.value-containerSize.value);scrollTarget.value=targetOffset;runOnJS(scrollToInternal)(targetOffset);}}";_f.__workletHash=8964641543522;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useAutoScroll.tsx (97:18)";return _f;}(),[]);return null;}
 //# sourceMappingURL=useAutoScroll.js.map
\ No newline at end of file
diff --git a/lib/commonjs/hooks/useAutoScroll.js.map b/lib/commonjs/hooks/useAutoScroll.js.map
index 5c2085de28aed252d93e8e4d85a9e09cb5ec4940..1917ee513be797b9b15f0a810c7f43fdce8ac75b 100644
--- a/lib/commonjs/hooks/useAutoScroll.js.map
+++ b/lib/commonjs/hooks/useAutoScroll.js.map
@@ -1 +1 @@
-{"version":3,"names":["useAutoScroll","useRefs","flatlistRef","useProps","autoscrollThreshold","DEFAULT_PROPS","autoscrollSpeed","useAnimatedValues","scrollOffset","scrollViewSize","containerSize","activeCellSize","hoverOffset","activeIndexAnim","hoverScreenOffset","useDerivedValue","value","isScrolledUp","SCROLL_POSITION_TOLERANCE","isScrolledDown","distToTopEdge","Math","max","distToBottomEdge","hoverPlusActiveCell","isAtTopEdge","isAtBottomEdge","scrollTarget","useSharedValue","dragIsActive","useAnimatedReaction","cur","prev","shouldAutoScroll","scrollTargetDiff","abs","hasScrolledToTarget","isAtEdge","topDisabled","bottomDisabled","isEdgeDisabled","cellIsActive","scrollToInternal","offset","current","scrollToOffset","animated","distFromEdge","speedPct","targetOffset","min","runOnJS"],"sources":["useAutoScroll.tsx"],"sourcesContent":["import {\n  runOnJS,\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { DEFAULT_PROPS, SCROLL_POSITION_TOLERANCE } from \"../constants\";\nimport { useProps } from \"../context/propsContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useRefs } from \"../context/refContext\";\n\nexport function useAutoScroll() {\n  const { flatlistRef } = useRefs();\n\n  const {\n    autoscrollThreshold = DEFAULT_PROPS.autoscrollThreshold,\n    autoscrollSpeed = DEFAULT_PROPS.autoscrollSpeed,\n  } = useProps();\n\n  const {\n    scrollOffset,\n    scrollViewSize,\n    containerSize,\n    activeCellSize,\n    hoverOffset,\n    activeIndexAnim,\n  } = useAnimatedValues();\n\n  const hoverScreenOffset = useDerivedValue(() => {\n    return hoverOffset.value - scrollOffset.value;\n  }, []);\n\n  const isScrolledUp = useDerivedValue(() => {\n    return scrollOffset.value - SCROLL_POSITION_TOLERANCE <= 0;\n  }, []);\n\n  const isScrolledDown = useDerivedValue(() => {\n    return (\n      scrollOffset.value + containerSize.value + SCROLL_POSITION_TOLERANCE >=\n      scrollViewSize.value\n    );\n  }, []);\n\n  const distToTopEdge = useDerivedValue(() => {\n    return Math.max(0, hoverScreenOffset.value);\n  }, []);\n\n  const distToBottomEdge = useDerivedValue(() => {\n    const hoverPlusActiveCell = hoverScreenOffset.value + activeCellSize.value;\n    return Math.max(0, containerSize.value - hoverPlusActiveCell);\n  }, []);\n\n  const isAtTopEdge = useDerivedValue(() => {\n    return distToTopEdge.value <= autoscrollThreshold;\n  });\n\n  const isAtBottomEdge = useDerivedValue(() => {\n    return distToBottomEdge.value <= autoscrollThreshold;\n  }, []);\n\n  const scrollTarget = useSharedValue(0);\n  const dragIsActive = useDerivedValue(() => {\n    return activeIndexAnim.value >= 0;\n  }, []);\n\n  useAnimatedReaction(\n    () => {\n      return dragIsActive.value;\n    },\n    (cur, prev) => {\n      if (cur && !prev) {\n        scrollTarget.value = scrollOffset.value;\n      }\n    }\n  );\n\n  const shouldAutoScroll = useDerivedValue(() => {\n    const scrollTargetDiff = Math.abs(scrollTarget.value - scrollOffset.value);\n    const hasScrolledToTarget = scrollTargetDiff < SCROLL_POSITION_TOLERANCE;\n\n    const isAtEdge = isAtTopEdge.value || isAtBottomEdge.value;\n    const topDisabled = isAtTopEdge.value && isScrolledUp.value;\n    const bottomDisabled = isAtBottomEdge.value && isScrolledDown.value;\n    const isEdgeDisabled = topDisabled || bottomDisabled;\n\n    const cellIsActive = activeIndexAnim.value >= 0;\n\n    return hasScrolledToTarget && isAtEdge && !isEdgeDisabled && cellIsActive;\n  }, []);\n\n  function scrollToInternal(offset: number) {\n    if (flatlistRef && \"current\" in flatlistRef) {\n      flatlistRef.current?.scrollToOffset({ offset, animated: true });\n    }\n  }\n\n  useDerivedValue(() => {\n    if (!shouldAutoScroll.value) return;\n\n    const distFromEdge = isAtTopEdge.value\n      ? distToTopEdge.value\n      : distToBottomEdge.value;\n    const speedPct = 1 - distFromEdge / autoscrollThreshold!;\n    const offset = speedPct * autoscrollSpeed;\n    const targetOffset = isAtTopEdge.value\n      ? Math.max(0, scrollOffset.value - offset)\n      : Math.min(\n          scrollOffset.value + offset,\n          scrollViewSize.value - containerSize.value\n        );\n\n    scrollTarget.value = targetOffset;\n    // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.\n    // scrollTo(scrollViewRef, targetX, targetY, true);\n    runOnJS(scrollToInternal)(targetOffset);\n  }, []);\n\n  return null;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["_reactNativeReanimated","require","_constants","_propsContext","_animatedValueContext","_refContext","useAutoScroll","_useRefs","useRefs","flatlistRef","_useProps","useProps","_useProps$autoscrollT","autoscrollThreshold","DEFAULT_PROPS","_useProps$autoscrollS","autoscrollSpeed","_useAnimatedValues","useAnimatedValues","scrollOffset","scrollViewSize","containerSize","activeCellSize","hoverOffset","activeIndexAnim","hoverScreenOffset","useDerivedValue","_f","value","_closure","asString","__workletHash","__location","isScrolledUp","SCROLL_POSITION_TOLERANCE","isScrolledDown","distToTopEdge","Math","max","distToBottomEdge","hoverPlusActiveCell","isAtTopEdge","isAtBottomEdge","scrollTarget","useSharedValue","dragIsActive","useAnimatedReaction","cur","prev","shouldAutoScroll","scrollTargetDiff","abs","hasScrolledToTarget","isAtEdge","topDisabled","bottomDisabled","isEdgeDisabled","cellIsActive","scrollToInternal","offset","_flatlistRef$current","current","scrollToOffset","animated","distFromEdge","speedPct","targetOffset","min","runOnJS"],"sources":["useAutoScroll.tsx"],"sourcesContent":["import {\n  runOnJS,\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { DEFAULT_PROPS, SCROLL_POSITION_TOLERANCE } from \"../constants\";\nimport { useProps } from \"../context/propsContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useRefs } from \"../context/refContext\";\n\nexport function useAutoScroll() {\n  const { flatlistRef } = useRefs();\n\n  const {\n    autoscrollThreshold = DEFAULT_PROPS.autoscrollThreshold,\n    autoscrollSpeed = DEFAULT_PROPS.autoscrollSpeed,\n  } = useProps();\n\n  const {\n    scrollOffset,\n    scrollViewSize,\n    containerSize,\n    activeCellSize,\n    hoverOffset,\n    activeIndexAnim,\n  } = useAnimatedValues();\n\n  const hoverScreenOffset = useDerivedValue(() => {\n    return hoverOffset.value - scrollOffset.value;\n  }, []);\n\n  const isScrolledUp = useDerivedValue(() => {\n    return scrollOffset.value - SCROLL_POSITION_TOLERANCE <= 0;\n  }, []);\n\n  const isScrolledDown = useDerivedValue(() => {\n    return (\n      scrollOffset.value + containerSize.value + SCROLL_POSITION_TOLERANCE >=\n      scrollViewSize.value\n    );\n  }, []);\n\n  const distToTopEdge = useDerivedValue(() => {\n    return Math.max(0, hoverScreenOffset.value);\n  }, []);\n\n  const distToBottomEdge = useDerivedValue(() => {\n    const hoverPlusActiveCell = hoverScreenOffset.value + activeCellSize.value;\n    return Math.max(0, containerSize.value - hoverPlusActiveCell);\n  }, []);\n\n  const isAtTopEdge = useDerivedValue(() => {\n    return distToTopEdge.value <= autoscrollThreshold;\n  });\n\n  const isAtBottomEdge = useDerivedValue(() => {\n    return distToBottomEdge.value <= autoscrollThreshold;\n  }, []);\n\n  const scrollTarget = useSharedValue(0);\n  const dragIsActive = useDerivedValue(() => {\n    return activeIndexAnim.value >= 0;\n  }, []);\n\n  useAnimatedReaction(\n    () => {\n      return dragIsActive.value;\n    },\n    (cur, prev) => {\n      if (cur && !prev) {\n        scrollTarget.value = scrollOffset.value;\n      }\n    }\n  );\n\n  const shouldAutoScroll = useDerivedValue(() => {\n    const scrollTargetDiff = Math.abs(scrollTarget.value - scrollOffset.value);\n    const hasScrolledToTarget = scrollTargetDiff < SCROLL_POSITION_TOLERANCE;\n\n    const isAtEdge = isAtTopEdge.value || isAtBottomEdge.value;\n    const topDisabled = isAtTopEdge.value && isScrolledUp.value;\n    const bottomDisabled = isAtBottomEdge.value && isScrolledDown.value;\n    const isEdgeDisabled = topDisabled || bottomDisabled;\n\n    const cellIsActive = activeIndexAnim.value >= 0;\n\n    return hasScrolledToTarget && isAtEdge && !isEdgeDisabled && cellIsActive;\n  }, []);\n\n  function scrollToInternal(offset: number) {\n    if (flatlistRef && \"current\" in flatlistRef) {\n      flatlistRef.current?.scrollToOffset({ offset, animated: true });\n    }\n  }\n\n  useDerivedValue(() => {\n    if (!shouldAutoScroll.value) return;\n\n    const distFromEdge = isAtTopEdge.value\n      ? distToTopEdge.value\n      : distToBottomEdge.value;\n    const speedPct = 1 - distFromEdge / autoscrollThreshold!;\n    const offset = speedPct * autoscrollSpeed;\n    const targetOffset = isAtTopEdge.value\n      ? Math.max(0, scrollOffset.value - offset)\n      : Math.min(\n          scrollOffset.value + offset,\n          scrollViewSize.value - containerSize.value\n        );\n\n    scrollTarget.value = targetOffset;\n    // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.\n    // scrollTo(scrollViewRef, targetX, targetY, true);\n    runOnJS(scrollToInternal)(targetOffset);\n  }, []);\n\n  return null;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/hooks/useCellTranslate.js b/lib/commonjs/hooks/useCellTranslate.js
index 5e4bf9616dc757cf66f3ea6207a6aa5268ac2915..f2cb834525c0b503a36317b6ce9f4b492df43a30 100644
--- a/lib/commonjs/hooks/useCellTranslate.js
+++ b/lib/commonjs/hooks/useCellTranslate.js
@@ -1,2 +1,2 @@
-Object.defineProperty(exports,"__esModule",{value:true});exports.useCellTranslate=useCellTranslate;var _reactNativeReanimated=require("react-native-reanimated");var _animatedValueContext=require("../context/animatedValueContext");var _draggableFlatListContext=require("../context/draggableFlatListContext");var _refContext=require("../context/refContext");function useCellTranslate(_ref){var cellIndex=_ref.cellIndex,cellSize=_ref.cellSize,cellOffset=_ref.cellOffset;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),activeIndexAnim=_useAnimatedValues.activeIndexAnim,activeCellSize=_useAnimatedValues.activeCellSize,hoverOffset=_useAnimatedValues.hoverOffset,spacerIndexAnim=_useAnimatedValues.spacerIndexAnim,placeholderOffset=_useAnimatedValues.placeholderOffset,hoverAnim=_useAnimatedValues.hoverAnim,viewableIndexMin=_useAnimatedValues.viewableIndexMin,viewableIndexMax=_useAnimatedValues.viewableIndexMax;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),activeKey=_useDraggableFlatList.activeKey;var _useRefs=(0,_refContext.useRefs)(),animationConfigRef=_useRefs.animationConfigRef;var translate=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var isActiveCell=cellIndex===activeIndexAnim.value;var isOutsideViewableRange=!isActiveCell&&(cellIndex<viewableIndexMin.value||cellIndex>viewableIndexMax.value);if(!activeKey||activeIndexAnim.value<0||isOutsideViewableRange){return 0;}var isBeforeActive=cellIndex<activeIndexAnim.value;var isAfterActive=cellIndex>activeIndexAnim.value;var hoverPlusActiveSize=hoverOffset.value+activeCellSize.value;var offsetPlusHalfSize=cellOffset.value+cellSize.value/2;var offsetPlusSize=cellOffset.value+cellSize.value;var result=-1;if(isAfterActive){if(hoverPlusActiveSize>=cellOffset.value&&hoverPlusActiveSize<offsetPlusHalfSize){result=cellIndex-1;}else if(hoverPlusActiveSize>=offsetPlusHalfSize&&hoverPlusActiveSize<offsetPlusSize){result=cellIndex;}}else if(isBeforeActive){if(hoverOffset.value<offsetPlusSize&&hoverOffset.value>=offsetPlusHalfSize){result=cellIndex+1;}else if(hoverOffset.value>=cellOffset.value&&hoverOffset.value<offsetPlusHalfSize){result=cellIndex;}}if(result!==-1&&result!==spacerIndexAnim.value){spacerIndexAnim.value=result;}if(spacerIndexAnim.value===cellIndex){var newPlaceholderOffset=isAfterActive?cellSize.value+(cellOffset.value-activeCellSize.value):cellOffset.value;placeholderOffset.value=newPlaceholderOffset;}if(isActiveCell){return hoverAnim.value;}var shouldTranslate=isAfterActive?cellIndex<=spacerIndexAnim.value:cellIndex>=spacerIndexAnim.value;var translationAmt=shouldTranslate?activeCellSize.value*(isAfterActive?-1:1):0;return(0,_reactNativeReanimated.withSpring)(translationAmt,animationConfigRef.current);};_f._closure={cellIndex:cellIndex,activeIndexAnim:activeIndexAnim,viewableIndexMin:viewableIndexMin,viewableIndexMax:viewableIndexMax,activeKey:activeKey,hoverOffset:hoverOffset,activeCellSize:activeCellSize,cellOffset:cellOffset,cellSize:cellSize,spacerIndexAnim:spacerIndexAnim,placeholderOffset:placeholderOffset,hoverAnim:hoverAnim,withSpring:_reactNativeReanimated.withSpring,animationConfigRef:{current:animationConfigRef.current}};_f.asString="function _f(){const{cellIndex,activeIndexAnim,viewableIndexMin,viewableIndexMax,activeKey,hoverOffset,activeCellSize,cellOffset,cellSize,spacerIndexAnim,placeholderOffset,hoverAnim,withSpring,animationConfigRef}=jsThis._closure;{const isActiveCell=cellIndex===activeIndexAnim.value;const isOutsideViewableRange=!isActiveCell&&(cellIndex<viewableIndexMin.value||cellIndex>viewableIndexMax.value);if(!activeKey||activeIndexAnim.value<0||isOutsideViewableRange){return 0;}const isBeforeActive=cellIndex<activeIndexAnim.value;const isAfterActive=cellIndex>activeIndexAnim.value;const hoverPlusActiveSize=hoverOffset.value+activeCellSize.value;const offsetPlusHalfSize=cellOffset.value+cellSize.value/2;const offsetPlusSize=cellOffset.value+cellSize.value;let result=-1;if(isAfterActive){if(hoverPlusActiveSize>=cellOffset.value&&hoverPlusActiveSize<offsetPlusHalfSize){result=cellIndex-1;}else if(hoverPlusActiveSize>=offsetPlusHalfSize&&hoverPlusActiveSize<offsetPlusSize){result=cellIndex;}}else if(isBeforeActive){if(hoverOffset.value<offsetPlusSize&&hoverOffset.value>=offsetPlusHalfSize){result=cellIndex+1;}else if(hoverOffset.value>=cellOffset.value&&hoverOffset.value<offsetPlusHalfSize){result=cellIndex;}}if(result!==-1&&result!==spacerIndexAnim.value){spacerIndexAnim.value=result;}if(spacerIndexAnim.value===cellIndex){const newPlaceholderOffset=isAfterActive?cellSize.value+(cellOffset.value-activeCellSize.value):cellOffset.value;placeholderOffset.value=newPlaceholderOffset;}if(isActiveCell){return hoverAnim.value;}const shouldTranslate=isAfterActive?cellIndex<=spacerIndexAnim.value:cellIndex>=spacerIndexAnim.value;const translationAmt=shouldTranslate?activeCellSize.value*(isAfterActive?-1:1):0;return withSpring(translationAmt,animationConfigRef.current);}}";_f.__workletHash=883167536212;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useCellTranslate.tsx (28:36)";return _f;}(),[activeKey,cellIndex]);return translate;}
+Object.defineProperty(exports,"__esModule",{value:true});exports.useCellTranslate=useCellTranslate;var _reactNativeReanimated=require("react-native-reanimated");var _animatedValueContext=require("../context/animatedValueContext");var _draggableFlatListContext=require("../context/draggableFlatListContext");var _refContext=require("../context/refContext");function useCellTranslate(_ref){var cellIndex=_ref.cellIndex,cellSize=_ref.cellSize,cellOffset=_ref.cellOffset;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),activeIndexAnim=_useAnimatedValues.activeIndexAnim,activeCellSize=_useAnimatedValues.activeCellSize,hoverOffset=_useAnimatedValues.hoverOffset,spacerIndexAnim=_useAnimatedValues.spacerIndexAnim,placeholderOffset=_useAnimatedValues.placeholderOffset,hoverAnim=_useAnimatedValues.hoverAnim,viewableIndexMin=_useAnimatedValues.viewableIndexMin,viewableIndexMax=_useAnimatedValues.viewableIndexMax;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),activeKey=_useDraggableFlatList.activeKey;var _useRefs=(0,_refContext.useRefs)(),animationConfigRef=_useRefs.animationConfigRef;var translate=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var isActiveCell=cellIndex===activeIndexAnim.value;var isOutsideViewableRange=!isActiveCell&&(cellIndex<viewableIndexMin.value||cellIndex>viewableIndexMax.value);if(!activeKey||activeIndexAnim.value<0||isOutsideViewableRange){return 0;}var isBeforeActive=cellIndex<activeIndexAnim.value;var isAfterActive=cellIndex>activeIndexAnim.value;var hoverPlusActiveSize=hoverOffset.value+activeCellSize.value;var offsetPlusHalfSize=cellOffset.value+cellSize.value/2;var offsetPlusSize=cellOffset.value+cellSize.value;var result=-1;if(isAfterActive){if(hoverPlusActiveSize>=cellOffset.value&&hoverPlusActiveSize<offsetPlusHalfSize){result=cellIndex-1;}else if(hoverPlusActiveSize>=offsetPlusHalfSize&&hoverPlusActiveSize<offsetPlusSize){result=cellIndex;}}else if(isBeforeActive){if(hoverOffset.value<offsetPlusSize&&hoverOffset.value>=offsetPlusHalfSize){result=cellIndex+1;}else if(hoverOffset.value>=cellOffset.value&&hoverOffset.value<offsetPlusHalfSize){result=cellIndex;}}if(result!==-1&&result!==spacerIndexAnim.value){spacerIndexAnim.value=result;}if(spacerIndexAnim.value===cellIndex){var newPlaceholderOffset=isAfterActive?cellSize.value+(cellOffset.value-activeCellSize.value):cellOffset.value;placeholderOffset.value=newPlaceholderOffset;}if(isActiveCell){return hoverAnim.value;}var shouldTranslate=isAfterActive?cellIndex<=spacerIndexAnim.value:cellIndex>=spacerIndexAnim.value;var translationAmt=shouldTranslate?activeCellSize.value*(isAfterActive?-1:1):0;return(0,_reactNativeReanimated.withSpring)(translationAmt,animationConfigRef.value);};_f._closure={cellIndex:cellIndex,activeIndexAnim:activeIndexAnim,viewableIndexMin:viewableIndexMin,viewableIndexMax:viewableIndexMax,activeKey:activeKey,hoverOffset:hoverOffset,activeCellSize:activeCellSize,cellOffset:cellOffset,cellSize:cellSize,spacerIndexAnim:spacerIndexAnim,placeholderOffset:placeholderOffset,hoverAnim:hoverAnim,withSpring:_reactNativeReanimated.withSpring,animationConfigRef:animationConfigRef};_f.asString="function _f(){const{cellIndex,activeIndexAnim,viewableIndexMin,viewableIndexMax,activeKey,hoverOffset,activeCellSize,cellOffset,cellSize,spacerIndexAnim,placeholderOffset,hoverAnim,withSpring,animationConfigRef}=jsThis._closure;{const isActiveCell=cellIndex===activeIndexAnim.value;const isOutsideViewableRange=!isActiveCell&&(cellIndex<viewableIndexMin.value||cellIndex>viewableIndexMax.value);if(!activeKey||activeIndexAnim.value<0||isOutsideViewableRange){return 0;}const isBeforeActive=cellIndex<activeIndexAnim.value;const isAfterActive=cellIndex>activeIndexAnim.value;const hoverPlusActiveSize=hoverOffset.value+activeCellSize.value;const offsetPlusHalfSize=cellOffset.value+cellSize.value/2;const offsetPlusSize=cellOffset.value+cellSize.value;let result=-1;if(isAfterActive){if(hoverPlusActiveSize>=cellOffset.value&&hoverPlusActiveSize<offsetPlusHalfSize){result=cellIndex-1;}else if(hoverPlusActiveSize>=offsetPlusHalfSize&&hoverPlusActiveSize<offsetPlusSize){result=cellIndex;}}else if(isBeforeActive){if(hoverOffset.value<offsetPlusSize&&hoverOffset.value>=offsetPlusHalfSize){result=cellIndex+1;}else if(hoverOffset.value>=cellOffset.value&&hoverOffset.value<offsetPlusHalfSize){result=cellIndex;}}if(result!==-1&&result!==spacerIndexAnim.value){spacerIndexAnim.value=result;}if(spacerIndexAnim.value===cellIndex){const newPlaceholderOffset=isAfterActive?cellSize.value+(cellOffset.value-activeCellSize.value):cellOffset.value;placeholderOffset.value=newPlaceholderOffset;}if(isActiveCell){return hoverAnim.value;}const shouldTranslate=isAfterActive?cellIndex<=spacerIndexAnim.value:cellIndex>=spacerIndexAnim.value;const translationAmt=shouldTranslate?activeCellSize.value*(isAfterActive?-1:1):0;return withSpring(translationAmt,animationConfigRef.value);}}";_f.__workletHash=10396531141942;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useCellTranslate.tsx (28:36)";return _f;}(),[activeKey,cellIndex]);return translate;}
 //# sourceMappingURL=useCellTranslate.js.map
\ No newline at end of file
diff --git a/lib/commonjs/hooks/useCellTranslate.js.map b/lib/commonjs/hooks/useCellTranslate.js.map
index d642cc26d32a77c4f0e3e8862590e038766bc55e..ad40e61fed8a5122fad3e5eb2f8bf962dc3099c7 100644
--- a/lib/commonjs/hooks/useCellTranslate.js.map
+++ b/lib/commonjs/hooks/useCellTranslate.js.map
@@ -1 +1 @@
-{"version":3,"names":["useCellTranslate","cellIndex","cellSize","cellOffset","useAnimatedValues","activeIndexAnim","activeCellSize","hoverOffset","spacerIndexAnim","placeholderOffset","hoverAnim","viewableIndexMin","viewableIndexMax","useDraggableFlatListContext","activeKey","useRefs","animationConfigRef","translate","useDerivedValue","isActiveCell","value","isOutsideViewableRange","isBeforeActive","isAfterActive","hoverPlusActiveSize","offsetPlusHalfSize","offsetPlusSize","result","newPlaceholderOffset","shouldTranslate","translationAmt","withSpring","current"],"sources":["useCellTranslate.tsx"],"sourcesContent":["import Animated, { useDerivedValue, withSpring } from \"react-native-reanimated\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\n\ntype Params = {\n  cellIndex: number;\n  cellSize: Animated.SharedValue<number>;\n  cellOffset: Animated.SharedValue<number>;\n};\n\nexport function useCellTranslate({ cellIndex, cellSize, cellOffset }: Params) {\n  const {\n    activeIndexAnim,\n    activeCellSize,\n    hoverOffset,\n    spacerIndexAnim,\n    placeholderOffset,\n    hoverAnim,\n    viewableIndexMin,\n    viewableIndexMax,\n  } = useAnimatedValues();\n\n  const { activeKey } = useDraggableFlatListContext();\n\n  const { animationConfigRef } = useRefs();\n\n  const translate = useDerivedValue(() => {\n    const isActiveCell = cellIndex === activeIndexAnim.value;\n    const isOutsideViewableRange =\n      !isActiveCell &&\n      (cellIndex < viewableIndexMin.value ||\n        cellIndex > viewableIndexMax.value);\n    if (!activeKey || activeIndexAnim.value < 0 || isOutsideViewableRange) {\n      return 0;\n    }\n\n    // Determining spacer index is hard to visualize. See diagram: https://i.imgur.com/jRPf5t3.jpg\n    const isBeforeActive = cellIndex < activeIndexAnim.value;\n    const isAfterActive = cellIndex > activeIndexAnim.value;\n\n    const hoverPlusActiveSize = hoverOffset.value + activeCellSize.value;\n    const offsetPlusHalfSize = cellOffset.value + cellSize.value / 2;\n    const offsetPlusSize = cellOffset.value + cellSize.value;\n    let result = -1;\n\n    if (isAfterActive) {\n      if (\n        hoverPlusActiveSize >= cellOffset.value &&\n        hoverPlusActiveSize < offsetPlusHalfSize\n      ) {\n        // bottom edge of active cell overlaps top half of current cell\n        result = cellIndex - 1;\n      } else if (\n        hoverPlusActiveSize >= offsetPlusHalfSize &&\n        hoverPlusActiveSize < offsetPlusSize\n      ) {\n        // bottom edge of active cell overlaps bottom half of current cell\n        result = cellIndex;\n      }\n    } else if (isBeforeActive) {\n      if (\n        hoverOffset.value < offsetPlusSize &&\n        hoverOffset.value >= offsetPlusHalfSize\n      ) {\n        // top edge of active cell overlaps bottom half of current cell\n        result = cellIndex + 1;\n      } else if (\n        hoverOffset.value >= cellOffset.value &&\n        hoverOffset.value < offsetPlusHalfSize\n      ) {\n        // top edge of active cell overlaps top half of current cell\n        result = cellIndex;\n      }\n    }\n\n    if (result !== -1 && result !== spacerIndexAnim.value) {\n      spacerIndexAnim.value = result;\n    }\n\n    if (spacerIndexAnim.value === cellIndex) {\n      const newPlaceholderOffset = isAfterActive\n        ? cellSize.value + (cellOffset.value - activeCellSize.value)\n        : cellOffset.value;\n      placeholderOffset.value = newPlaceholderOffset;\n    }\n\n    // Active cell follows touch\n    if (isActiveCell) {\n      return hoverAnim.value;\n    }\n\n    // Translate cell down if it is before active index and active cell has passed it.\n    // Translate cell up if it is after the active index and active cell has passed it.\n\n    const shouldTranslate = isAfterActive\n      ? cellIndex <= spacerIndexAnim.value\n      : cellIndex >= spacerIndexAnim.value;\n\n    const translationAmt = shouldTranslate\n      ? activeCellSize.value * (isAfterActive ? -1 : 1)\n      : 0;\n\n    return withSpring(translationAmt, animationConfigRef.current);\n  }, [activeKey, cellIndex]);\n\n  return translate;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["_reactNativeReanimated","require","_animatedValueContext","_draggableFlatListContext","_refContext","useCellTranslate","_ref","cellIndex","cellSize","cellOffset","_useAnimatedValues","useAnimatedValues","activeIndexAnim","activeCellSize","hoverOffset","spacerIndexAnim","placeholderOffset","hoverAnim","viewableIndexMin","viewableIndexMax","_useDraggableFlatList","useDraggableFlatListContext","activeKey","_useRefs","useRefs","animationConfigRef","translate","useDerivedValue","_f","isActiveCell","value","isOutsideViewableRange","isBeforeActive","isAfterActive","hoverPlusActiveSize","offsetPlusHalfSize","offsetPlusSize","result","newPlaceholderOffset","shouldTranslate","translationAmt","withSpring","_closure","asString","__workletHash","__location"],"sources":["useCellTranslate.tsx"],"sourcesContent":["import Animated, { useDerivedValue, withSpring } from \"react-native-reanimated\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\n\ntype Params = {\n  cellIndex: number;\n  cellSize: Animated.SharedValue<number>;\n  cellOffset: Animated.SharedValue<number>;\n};\n\nexport function useCellTranslate({ cellIndex, cellSize, cellOffset }: Params) {\n  const {\n    activeIndexAnim,\n    activeCellSize,\n    hoverOffset,\n    spacerIndexAnim,\n    placeholderOffset,\n    hoverAnim,\n    viewableIndexMin,\n    viewableIndexMax,\n  } = useAnimatedValues();\n\n  const { activeKey } = useDraggableFlatListContext();\n\n  const { animationConfigRef } = useRefs();\n\n  const translate = useDerivedValue(() => {\n    const isActiveCell = cellIndex === activeIndexAnim.value;\n    const isOutsideViewableRange =\n      !isActiveCell &&\n      (cellIndex < viewableIndexMin.value ||\n        cellIndex > viewableIndexMax.value);\n    if (!activeKey || activeIndexAnim.value < 0 || isOutsideViewableRange) {\n      return 0;\n    }\n\n    // Determining spacer index is hard to visualize. See diagram: https://i.imgur.com/jRPf5t3.jpg\n    const isBeforeActive = cellIndex < activeIndexAnim.value;\n    const isAfterActive = cellIndex > activeIndexAnim.value;\n\n    const hoverPlusActiveSize = hoverOffset.value + activeCellSize.value;\n    const offsetPlusHalfSize = cellOffset.value + cellSize.value / 2;\n    const offsetPlusSize = cellOffset.value + cellSize.value;\n    let result = -1;\n\n    if (isAfterActive) {\n      if (\n        hoverPlusActiveSize >= cellOffset.value &&\n        hoverPlusActiveSize < offsetPlusHalfSize\n      ) {\n        // bottom edge of active cell overlaps top half of current cell\n        result = cellIndex - 1;\n      } else if (\n        hoverPlusActiveSize >= offsetPlusHalfSize &&\n        hoverPlusActiveSize < offsetPlusSize\n      ) {\n        // bottom edge of active cell overlaps bottom half of current cell\n        result = cellIndex;\n      }\n    } else if (isBeforeActive) {\n      if (\n        hoverOffset.value < offsetPlusSize &&\n        hoverOffset.value >= offsetPlusHalfSize\n      ) {\n        // top edge of active cell overlaps bottom half of current cell\n        result = cellIndex + 1;\n      } else if (\n        hoverOffset.value >= cellOffset.value &&\n        hoverOffset.value < offsetPlusHalfSize\n      ) {\n        // top edge of active cell overlaps top half of current cell\n        result = cellIndex;\n      }\n    }\n\n    if (result !== -1 && result !== spacerIndexAnim.value) {\n      spacerIndexAnim.value = result;\n    }\n\n    if (spacerIndexAnim.value === cellIndex) {\n      const newPlaceholderOffset = isAfterActive\n        ? cellSize.value + (cellOffset.value - activeCellSize.value)\n        : cellOffset.value;\n      placeholderOffset.value = newPlaceholderOffset;\n    }\n\n    // Active cell follows touch\n    if (isActiveCell) {\n      return hoverAnim.value;\n    }\n\n    // Translate cell down if it is before active index and active cell has passed it.\n    // Translate cell up if it is after the active index and active cell has passed it.\n\n    const shouldTranslate = isAfterActive\n      ? cellIndex <= spacerIndexAnim.value\n      : cellIndex >= spacerIndexAnim.value;\n\n    const translationAmt = shouldTranslate\n      ? activeCellSize.value * (isAfterActive ? -1 : 1)\n      : 0;\n\n      return withSpring(translationAmt, animationConfigRef.value);\n  }, [activeKey, cellIndex]);\n\n  return translate;\n}\n"],"mappings":"mGAAA,IAAAA,sBAAA,CAAAC,OAAA,4BACA,IAAAC,qBAAA,CAAAD,OAAA,oCACA,IAAAE,yBAAA,CAAAF,OAAA,wCACA,IAAAG,WAAA,CAAAH,OAAA,0BAQO,QAAS,CAAAI,gBAAgBA,CAAAC,IAAA,CAA8C,IAA3C,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CAChE,IAAAC,kBAAA,CASI,GAAAC,uCAAiB,EAAC,CAAC,CARrBC,eAAe,CAAAF,kBAAA,CAAfE,eAAe,CACfC,cAAc,CAAAH,kBAAA,CAAdG,cAAc,CACdC,WAAW,CAAAJ,kBAAA,CAAXI,WAAW,CACXC,eAAe,CAAAL,kBAAA,CAAfK,eAAe,CACfC,iBAAiB,CAAAN,kBAAA,CAAjBM,iBAAiB,CACjBC,SAAS,CAAAP,kBAAA,CAATO,SAAS,CACTC,gBAAgB,CAAAR,kBAAA,CAAhBQ,gBAAgB,CAChBC,gBAAgB,CAAAT,kBAAA,CAAhBS,gBAAgB,CAGlB,IAAAC,qBAAA,CAAsB,GAAAC,qDAA2B,EAAC,CAAC,CAA3CC,SAAS,CAAAF,qBAAA,CAATE,SAAS,CAEjB,IAAAC,QAAA,CAA+B,GAAAC,mBAAO,EAAC,CAAC,CAAhCC,kBAAkB,CAAAF,QAAA,CAAlBE,kBAAkB,CAE1B,GAAM,CAAAC,SAAS,CAAG,GAAAC,sCAAe,iBAAAC,EAAA,UAAAA,GAAA,CAAO,CACtC,GAAM,CAAAC,YAAY,CAAGtB,SAAS,GAAKK,eAAe,CAACkB,KAAK,CACxD,GAAM,CAAAC,sBAAsB,CAC1B,CAACF,YAAY,GACZtB,SAAS,CAAGW,gBAAgB,CAACY,KAAK,EACjCvB,SAAS,CAAGY,gBAAgB,CAACW,KAAK,CAAC,CACvC,GAAI,CAACR,SAAS,EAAIV,eAAe,CAACkB,KAAK,CAAG,CAAC,EAAIC,sBAAsB,CAAE,CACrE,MAAO,EAAC,CACV,CAGA,GAAM,CAAAC,cAAc,CAAGzB,SAAS,CAAGK,eAAe,CAACkB,KAAK,CACxD,GAAM,CAAAG,aAAa,CAAG1B,SAAS,CAAGK,eAAe,CAACkB,KAAK,CAEvD,GAAM,CAAAI,mBAAmB,CAAGpB,WAAW,CAACgB,KAAK,CAAGjB,cAAc,CAACiB,KAAK,CACpE,GAAM,CAAAK,kBAAkB,CAAG1B,UAAU,CAACqB,KAAK,CAAGtB,QAAQ,CAACsB,KAAK,CAAG,CAAC,CAChE,GAAM,CAAAM,cAAc,CAAG3B,UAAU,CAACqB,KAAK,CAAGtB,QAAQ,CAACsB,KAAK,CACxD,GAAI,CAAAO,MAAM,CAAG,CAAC,CAAC,CAEf,GAAIJ,aAAa,CAAE,CACjB,GACEC,mBAAmB,EAAIzB,UAAU,CAACqB,KAAK,EACvCI,mBAAmB,CAAGC,kBAAkB,CACxC,CAEAE,MAAM,CAAG9B,SAAS,CAAG,CAAC,CACxB,CAAC,IAAM,IACL2B,mBAAmB,EAAIC,kBAAkB,EACzCD,mBAAmB,CAAGE,cAAc,CACpC,CAEAC,MAAM,CAAG9B,SAAS,CACpB,CACF,CAAC,IAAM,IAAIyB,cAAc,CAAE,CACzB,GACElB,WAAW,CAACgB,KAAK,CAAGM,cAAc,EAClCtB,WAAW,CAACgB,KAAK,EAAIK,kBAAkB,CACvC,CAEAE,MAAM,CAAG9B,SAAS,CAAG,CAAC,CACxB,CAAC,IAAM,IACLO,WAAW,CAACgB,KAAK,EAAIrB,UAAU,CAACqB,KAAK,EACrChB,WAAW,CAACgB,KAAK,CAAGK,kBAAkB,CACtC,CAEAE,MAAM,CAAG9B,SAAS,CACpB,CACF,CAEA,GAAI8B,MAAM,GAAK,CAAC,CAAC,EAAIA,MAAM,GAAKtB,eAAe,CAACe,KAAK,CAAE,CACrDf,eAAe,CAACe,KAAK,CAAGO,MAAM,CAChC,CAEA,GAAItB,eAAe,CAACe,KAAK,GAAKvB,SAAS,CAAE,CACvC,GAAM,CAAA+B,oBAAoB,CAAGL,aAAa,CACtCzB,QAAQ,CAACsB,KAAK,EAAIrB,UAAU,CAACqB,KAAK,CAAGjB,cAAc,CAACiB,KAAK,CAAC,CAC1DrB,UAAU,CAACqB,KAAK,CACpBd,iBAAiB,CAACc,KAAK,CAAGQ,oBAAoB,CAChD,CAGA,GAAIT,YAAY,CAAE,CAChB,MAAO,CAAAZ,SAAS,CAACa,KAAK,CACxB,CAKA,GAAM,CAAAS,eAAe,CAAGN,aAAa,CACjC1B,SAAS,EAAIQ,eAAe,CAACe,KAAK,CAClCvB,SAAS,EAAIQ,eAAe,CAACe,KAAK,CAEtC,GAAM,CAAAU,cAAc,CAAGD,eAAe,CAClC1B,cAAc,CAACiB,KAAK,EAAIG,aAAa,CAAG,CAAC,CAAC,CAAG,CAAC,CAAC,CAC/C,CAAC,CAEH,MAAO,GAAAQ,iCAAU,EAACD,cAAc,CAAEf,kBAAkB,CAACK,KAAK,CAAC,CAC/D,CAAC,CAAAF,EAAA,CAAAc,QAAA,EAAAnC,SAAA,CAxD4EA,SAAS,CAAAK,eAAA,CAtCpDA,eAAe,CAAAM,gBAAA,CAPYA,gBAAgB,CAAAC,gBAAA,CAAsBA,gBAAgB,CAAAG,SAAA,CAC9GA,SAAS,CAAAR,WAAA,CAuBwCA,WAAW,CAAAD,cAAA,CAsBxBA,cAAc,CAAAJ,UAAA,CAbqDA,UAAU,CAAAD,QAAA,CAAvEA,QAAQ,CAAAO,eAAA,CAYmCA,eAAe,CAAAC,iBAAA,CAXvGA,iBAAiB,CAAAC,SAAA,CAKVA,SAAS,CAAAwB,UAAA,CAQXA,iCAAU,CAAAhB,kBAAA,CAAiBA,kBAAkB,EAAAG,EAAA,CAAAe,QAAA,+uDAAAf,EAAA,CAAAgB,aAAA,gBAAAhB,EAAA,CAAAiB,UAAA,+GAAAjB,EAAA,KAsDjD,CAACN,SAAS,CAAEf,SAAS,CAAC,CAAC,CAE1B,MAAO,CAAAmB,SAAS,CAClB","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/hooks/useNestedAutoScroll.js b/lib/commonjs/hooks/useNestedAutoScroll.js
index 729036bab44386f296ed3ad8c9b24ad953a49052..ff5952c4beea8b291e4f7a25bdd0f37cec989df7 100644
--- a/lib/commonjs/hooks/useNestedAutoScroll.js
+++ b/lib/commonjs/hooks/useNestedAutoScroll.js
@@ -1,2 +1,2 @@
-Object.defineProperty(exports,"__esModule",{value:true});exports.useNestedAutoScroll=useNestedAutoScroll;var _reactNativeReanimated=require("react-native-reanimated");var _nestableScrollContainerContext=require("../context/nestableScrollContainerContext");var _constants=require("../constants");function useNestedAutoScroll(params){var _useSafeNestableScrol=(0,_nestableScrollContainerContext.useSafeNestableScrollContainerContext)(),outerScrollOffset=_useSafeNestableScrol.outerScrollOffset,containerSize=_useSafeNestableScrol.containerSize,scrollableRef=_useSafeNestableScrol.scrollableRef,scrollViewSize=_useSafeNestableScrol.scrollViewSize;var DUMMY_VAL=(0,_reactNativeReanimated.useSharedValue)(0);var _params$hoverOffset=params.hoverOffset,hoverOffset=_params$hoverOffset===void 0?DUMMY_VAL:_params$hoverOffset,_params$activeCellSiz=params.activeCellSize,activeCellSize=_params$activeCellSiz===void 0?DUMMY_VAL:_params$activeCellSiz,_params$autoscrollSpe=params.autoscrollSpeed,autoscrollSpeed=_params$autoscrollSpe===void 0?100:_params$autoscrollSpe,_params$autoscrollThr=params.autoscrollThreshold,autoscrollThreshold=_params$autoscrollThr===void 0?30:_params$autoscrollThr,_params$isDraggingCel=params.isDraggingCell,isDraggingCell=_params$isDraggingCel===void 0?DUMMY_VAL:_params$isDraggingCel,_params$isTouchActive=params.isTouchActiveNative,isTouchActiveNative=_params$isTouchActive===void 0?DUMMY_VAL:_params$isTouchActive;var hoverScreenOffset=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return hoverOffset.value-outerScrollOffset.value;};_f._closure={hoverOffset:hoverOffset,outerScrollOffset:outerScrollOffset};_f.asString="function _f(){const{hoverOffset,outerScrollOffset}=jsThis._closure;{return hoverOffset.value-outerScrollOffset.value;}}";_f.__workletHash=11717240117335;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useNestedAutoScroll.tsx (45:44)";return _f;}(),[]);var isScrolledUp=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return outerScrollOffset.value-_constants.SCROLL_POSITION_TOLERANCE<=0;};_f._closure={outerScrollOffset:outerScrollOffset,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE};_f.asString="function _f(){const{outerScrollOffset,SCROLL_POSITION_TOLERANCE}=jsThis._closure;{return outerScrollOffset.value-SCROLL_POSITION_TOLERANCE<=0;}}";_f.__workletHash=10747505363427;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useNestedAutoScroll.tsx (49:39)";return _f;}(),[]);var isScrolledDown=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return outerScrollOffset.value+containerSize.value+_constants.SCROLL_POSITION_TOLERANCE>=scrollViewSize.value;};_f._closure={outerScrollOffset:outerScrollOffset,containerSize:containerSize,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE,scrollViewSize:scrollViewSize};_f.asString="function _f(){const{outerScrollOffset,containerSize,SCROLL_POSITION_TOLERANCE,scrollViewSize}=jsThis._closure;{return outerScrollOffset.value+containerSize.value+SCROLL_POSITION_TOLERANCE>=scrollViewSize.value;}}";_f.__workletHash=11318153912380;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useNestedAutoScroll.tsx (53:41)";return _f;}(),[]);var distToTopEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return Math.max(0,hoverScreenOffset.value);};_f._closure={hoverScreenOffset:hoverScreenOffset};_f.asString="function _f(){const{hoverScreenOffset}=jsThis._closure;{return Math.max(0,hoverScreenOffset.value);}}";_f.__workletHash=5945680760068;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useNestedAutoScroll.tsx (60:40)";return _f;}(),[hoverScreenOffset]);var distToBottomEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var dist=containerSize.value-(hoverScreenOffset.value+activeCellSize.value);return Math.max(0,dist);};_f._closure={containerSize:containerSize,hoverScreenOffset:hoverScreenOffset,activeCellSize:activeCellSize};_f.asString="function _f(){const{containerSize,hoverScreenOffset,activeCellSize}=jsThis._closure;{const dist=containerSize.value-(hoverScreenOffset.value+activeCellSize.value);return Math.max(0,dist);}}";_f.__workletHash=11179566731136;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useNestedAutoScroll.tsx (64:43)";return _f;}(),[hoverScreenOffset,activeCellSize,containerSize]);var isAtTopEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return distToTopEdge.value<=autoscrollThreshold;};_f._closure={distToTopEdge:distToTopEdge,autoscrollThreshold:autoscrollThreshold};_f.asString="function _f(){const{distToTopEdge,autoscrollThreshold}=jsThis._closure;{return distToTopEdge.value<=autoscrollThreshold;}}";_f.__workletHash=499688299934;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useNestedAutoScroll.tsx (69:38)";return _f;}(),[]);var isAtBottomEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return distToBottomEdge.value<=autoscrollThreshold;};_f._closure={distToBottomEdge:distToBottomEdge,autoscrollThreshold:autoscrollThreshold};_f.asString="function _f(){const{distToBottomEdge,autoscrollThreshold}=jsThis._closure;{return distToBottomEdge.value<=autoscrollThreshold;}}";_f.__workletHash=10361122491518;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useNestedAutoScroll.tsx (73:41)";return _f;}());var scrollTarget=(0,_reactNativeReanimated.useSharedValue)(0);(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return isDraggingCell.value;};_f._closure={isDraggingCell:isDraggingCell};_f.asString="function _f(){const{isDraggingCell}=jsThis._closure;{return isDraggingCell.value;}}";_f.__workletHash=15902771485203;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useNestedAutoScroll.tsx (80:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur&&!prev){scrollTarget.value=outerScrollOffset.value;}};_f._closure={scrollTarget:scrollTarget,outerScrollOffset:outerScrollOffset};_f.asString="function _f(cur,prev){const{scrollTarget,outerScrollOffset}=jsThis._closure;{if(cur&&!prev){scrollTarget.value=outerScrollOffset.value;}}}";_f.__workletHash=5863730252712;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useNestedAutoScroll.tsx (83:4)";return _f;}(),[activeCellSize]);function scrollToInternal(y){var _scrollableRef$curren;(_scrollableRef$curren=scrollableRef.current)==null?void 0:_scrollableRef$curren.scrollTo({y:y,animated:true});}(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var isAtEdge=isAtTopEdge.value||isAtBottomEdge.value;var topDisabled=isAtTopEdge.value&&isScrolledUp.value;var bottomDisabled=isAtBottomEdge.value&&isScrolledDown.value;var isEdgeDisabled=topDisabled||bottomDisabled;var scrollTargetDiff=Math.abs(scrollTarget.value-outerScrollOffset.value);var scrollInProgress=scrollTargetDiff>_constants.SCROLL_POSITION_TOLERANCE;var shouldScroll=isAtEdge&&!isEdgeDisabled&&isDraggingCell.value&&isTouchActiveNative.value&&!scrollInProgress;var distFromEdge=isAtTopEdge.value?distToTopEdge.value:distToBottomEdge.value;var speedPct=1-distFromEdge/autoscrollThreshold;var offset=speedPct*autoscrollSpeed;var targetOffset=isAtTopEdge.value?Math.max(0,outerScrollOffset.value-offset):outerScrollOffset.value+offset;if(shouldScroll){scrollTarget.value=targetOffset;(0,_reactNativeReanimated.runOnJS)(scrollToInternal)(targetOffset);}};_f._closure={isAtTopEdge:isAtTopEdge,isAtBottomEdge:isAtBottomEdge,isScrolledUp:isScrolledUp,isScrolledDown:isScrolledDown,scrollTarget:scrollTarget,outerScrollOffset:outerScrollOffset,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE,isDraggingCell:isDraggingCell,isTouchActiveNative:isTouchActiveNative,distToTopEdge:distToTopEdge,distToBottomEdge:distToBottomEdge,autoscrollThreshold:autoscrollThreshold,autoscrollSpeed:autoscrollSpeed,runOnJS:_reactNativeReanimated.runOnJS,scrollToInternal:scrollToInternal};_f.asString="function _f(){const{isAtTopEdge,isAtBottomEdge,isScrolledUp,isScrolledDown,scrollTarget,outerScrollOffset,SCROLL_POSITION_TOLERANCE,isDraggingCell,isTouchActiveNative,distToTopEdge,distToBottomEdge,autoscrollThreshold,autoscrollSpeed,runOnJS,scrollToInternal}=jsThis._closure;{const isAtEdge=isAtTopEdge.value||isAtBottomEdge.value;const topDisabled=isAtTopEdge.value&&isScrolledUp.value;const bottomDisabled=isAtBottomEdge.value&&isScrolledDown.value;const isEdgeDisabled=topDisabled||bottomDisabled;const scrollTargetDiff=Math.abs(scrollTarget.value-outerScrollOffset.value);const scrollInProgress=scrollTargetDiff>SCROLL_POSITION_TOLERANCE;const shouldScroll=isAtEdge&&!isEdgeDisabled&&isDraggingCell.value&&isTouchActiveNative.value&&!scrollInProgress;const distFromEdge=isAtTopEdge.value?distToTopEdge.value:distToBottomEdge.value;const speedPct=1-distFromEdge/autoscrollThreshold;const offset=speedPct*autoscrollSpeed;const targetOffset=isAtTopEdge.value?Math.max(0,outerScrollOffset.value-offset):outerScrollOffset.value+offset;if(shouldScroll){scrollTarget.value=targetOffset;runOnJS(scrollToInternal)(targetOffset);}}}";_f.__workletHash=3348905696169;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useNestedAutoScroll.tsx (95:18)";return _f;}(),[autoscrollSpeed,autoscrollThreshold,isDraggingCell]);return null;}
+Object.defineProperty(exports,"__esModule",{value:true});exports.useNestedAutoScroll=useNestedAutoScroll;var _reactNativeReanimated=require("react-native-reanimated");var _nestableScrollContainerContext=require("../context/nestableScrollContainerContext");var _constants=require("../constants");function useNestedAutoScroll(params){var _useSafeNestableScrol=(0,_nestableScrollContainerContext.useSafeNestableScrollContainerContext)(),outerScrollOffset=_useSafeNestableScrol.outerScrollOffset,containerSize=_useSafeNestableScrol.containerSize,scrollableRef=_useSafeNestableScrol.scrollableRef,scrollViewSize=_useSafeNestableScrol.scrollViewSize;var DUMMY_VAL=(0,_reactNativeReanimated.useSharedValue)(0);var _params$hoverOffset=params.hoverOffset,hoverOffset=_params$hoverOffset===void 0?DUMMY_VAL:_params$hoverOffset,_params$activeCellSiz=params.activeCellSize,activeCellSize=_params$activeCellSiz===void 0?DUMMY_VAL:_params$activeCellSiz,_params$autoscrollSpe=params.autoscrollSpeed,autoscrollSpeed=_params$autoscrollSpe===void 0?100:_params$autoscrollSpe,_params$autoscrollThr=params.autoscrollThreshold,autoscrollThreshold=_params$autoscrollThr===void 0?30:_params$autoscrollThr,_params$isDraggingCel=params.isDraggingCell,isDraggingCell=_params$isDraggingCel===void 0?DUMMY_VAL:_params$isDraggingCel,_params$isTouchActive=params.isTouchActiveNative,isTouchActiveNative=_params$isTouchActive===void 0?DUMMY_VAL:_params$isTouchActive;var hoverScreenOffset=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return hoverOffset.value-outerScrollOffset.value;};_f._closure={hoverOffset:hoverOffset,outerScrollOffset:outerScrollOffset};_f.asString="function _f(){const{hoverOffset,outerScrollOffset}=jsThis._closure;{return hoverOffset.value-outerScrollOffset.value;}}";_f.__workletHash=11717240117335;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useNestedAutoScroll.tsx (45:44)";return _f;}(),[]);var isScrolledUp=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return outerScrollOffset.value-_constants.SCROLL_POSITION_TOLERANCE<=0;};_f._closure={outerScrollOffset:outerScrollOffset,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE};_f.asString="function _f(){const{outerScrollOffset,SCROLL_POSITION_TOLERANCE}=jsThis._closure;{return outerScrollOffset.value-SCROLL_POSITION_TOLERANCE<=0;}}";_f.__workletHash=10747505363427;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useNestedAutoScroll.tsx (49:39)";return _f;}(),[]);var isScrolledDown=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return outerScrollOffset.value+containerSize.value+_constants.SCROLL_POSITION_TOLERANCE>=scrollViewSize.value;};_f._closure={outerScrollOffset:outerScrollOffset,containerSize:containerSize,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE,scrollViewSize:scrollViewSize};_f.asString="function _f(){const{outerScrollOffset,containerSize,SCROLL_POSITION_TOLERANCE,scrollViewSize}=jsThis._closure;{return outerScrollOffset.value+containerSize.value+SCROLL_POSITION_TOLERANCE>=scrollViewSize.value;}}";_f.__workletHash=11318153912380;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useNestedAutoScroll.tsx (53:41)";return _f;}(),[]);var distToTopEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return Math.max(0,hoverScreenOffset.value);};_f._closure={hoverScreenOffset:hoverScreenOffset};_f.asString="function _f(){const{hoverScreenOffset}=jsThis._closure;{return Math.max(0,hoverScreenOffset.value);}}";_f.__workletHash=5945680760068;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useNestedAutoScroll.tsx (60:40)";return _f;}(),[hoverScreenOffset]);var distToBottomEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var dist=containerSize.value-(hoverScreenOffset.value+activeCellSize.value);return Math.max(0,dist);};_f._closure={containerSize:containerSize,hoverScreenOffset:hoverScreenOffset,activeCellSize:activeCellSize};_f.asString="function _f(){const{containerSize,hoverScreenOffset,activeCellSize}=jsThis._closure;{const dist=containerSize.value-(hoverScreenOffset.value+activeCellSize.value);return Math.max(0,dist);}}";_f.__workletHash=11179566731136;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useNestedAutoScroll.tsx (64:43)";return _f;}(),[hoverScreenOffset,activeCellSize,containerSize]);var isAtTopEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return distToTopEdge.value<=autoscrollThreshold;};_f._closure={distToTopEdge:distToTopEdge,autoscrollThreshold:autoscrollThreshold};_f.asString="function _f(){const{distToTopEdge,autoscrollThreshold}=jsThis._closure;{return distToTopEdge.value<=autoscrollThreshold;}}";_f.__workletHash=499688299934;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useNestedAutoScroll.tsx (69:38)";return _f;}(),[]);var isAtBottomEdge=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){return distToBottomEdge.value<=autoscrollThreshold;};_f._closure={distToBottomEdge:distToBottomEdge,autoscrollThreshold:autoscrollThreshold};_f.asString="function _f(){const{distToBottomEdge,autoscrollThreshold}=jsThis._closure;{return distToBottomEdge.value<=autoscrollThreshold;}}";_f.__workletHash=10361122491518;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useNestedAutoScroll.tsx (73:41)";return _f;}());var scrollTarget=(0,_reactNativeReanimated.useSharedValue)(0);(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return isDraggingCell.value;};_f._closure={isDraggingCell:isDraggingCell};_f.asString="function _f(){const{isDraggingCell}=jsThis._closure;{return isDraggingCell.value;}}";_f.__workletHash=15902771485203;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useNestedAutoScroll.tsx (80:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur&&!prev){scrollTarget.value=outerScrollOffset.value;}};_f._closure={scrollTarget:scrollTarget,outerScrollOffset:outerScrollOffset};_f.asString="function _f(cur,prev){const{scrollTarget,outerScrollOffset}=jsThis._closure;{if(cur&&!prev){scrollTarget.value=outerScrollOffset.value;}}}";_f.__workletHash=5863730252712;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useNestedAutoScroll.tsx (83:4)";return _f;}(),[activeCellSize]);function scrollToInternal(y){var _scrollableRef$curren;(_scrollableRef$curren=scrollableRef.current)==null?void 0:_scrollableRef$curren.scrollTo({y:y,animated:true});}(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var isAtEdge=isAtTopEdge.value||isAtBottomEdge.value;var topDisabled=isAtTopEdge.value&&isScrolledUp.value;var bottomDisabled=isAtBottomEdge.value&&isScrolledDown.value;var isEdgeDisabled=topDisabled||bottomDisabled;var scrollTargetDiff=Math.abs(scrollTarget.value-outerScrollOffset.value);var scrollInProgress=scrollTargetDiff>_constants.SCROLL_POSITION_TOLERANCE;var shouldScroll=isAtEdge&&!isEdgeDisabled&&isDraggingCell.value&&isTouchActiveNative.value&&!scrollInProgress;var distFromEdge=isAtTopEdge.value?distToTopEdge.value:distToBottomEdge.value;var speedPct=1-distFromEdge/autoscrollThreshold;var offset=speedPct*autoscrollSpeed;var targetOffset=isAtTopEdge.value?Math.max(0,outerScrollOffset.value-offset):outerScrollOffset.value+offset;if(shouldScroll){scrollTarget.value=targetOffset;(0,_reactNativeReanimated.runOnJS)(scrollToInternal)(targetOffset);}};_f._closure={isAtTopEdge:isAtTopEdge,isAtBottomEdge:isAtBottomEdge,isScrolledUp:isScrolledUp,isScrolledDown:isScrolledDown,scrollTarget:scrollTarget,outerScrollOffset:outerScrollOffset,SCROLL_POSITION_TOLERANCE:_constants.SCROLL_POSITION_TOLERANCE,isDraggingCell:isDraggingCell,isTouchActiveNative:isTouchActiveNative,distToTopEdge:distToTopEdge,distToBottomEdge:distToBottomEdge,autoscrollThreshold:autoscrollThreshold,autoscrollSpeed:autoscrollSpeed,runOnJS:_reactNativeReanimated.runOnJS,scrollToInternal:scrollToInternal};_f.asString="function _f(){const{isAtTopEdge,isAtBottomEdge,isScrolledUp,isScrolledDown,scrollTarget,outerScrollOffset,SCROLL_POSITION_TOLERANCE,isDraggingCell,isTouchActiveNative,distToTopEdge,distToBottomEdge,autoscrollThreshold,autoscrollSpeed,runOnJS,scrollToInternal}=jsThis._closure;{const isAtEdge=isAtTopEdge.value||isAtBottomEdge.value;const topDisabled=isAtTopEdge.value&&isScrolledUp.value;const bottomDisabled=isAtBottomEdge.value&&isScrolledDown.value;const isEdgeDisabled=topDisabled||bottomDisabled;const scrollTargetDiff=Math.abs(scrollTarget.value-outerScrollOffset.value);const scrollInProgress=scrollTargetDiff>SCROLL_POSITION_TOLERANCE;const shouldScroll=isAtEdge&&!isEdgeDisabled&&isDraggingCell.value&&isTouchActiveNative.value&&!scrollInProgress;const distFromEdge=isAtTopEdge.value?distToTopEdge.value:distToBottomEdge.value;const speedPct=1-distFromEdge/autoscrollThreshold;const offset=speedPct*autoscrollSpeed;const targetOffset=isAtTopEdge.value?Math.max(0,outerScrollOffset.value-offset):outerScrollOffset.value+offset;if(shouldScroll){scrollTarget.value=targetOffset;runOnJS(scrollToInternal)(targetOffset);}}}";_f.__workletHash=3348905696169;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useNestedAutoScroll.tsx (95:18)";return _f;}(),[autoscrollSpeed,autoscrollThreshold,isDraggingCell]);return null;}
 //# sourceMappingURL=useNestedAutoScroll.js.map
\ No newline at end of file
diff --git a/lib/commonjs/hooks/useNestedAutoScroll.js.map b/lib/commonjs/hooks/useNestedAutoScroll.js.map
index 40e17765c751860fa02f2cb378287f5fe6db083d..44b692e2e906f233a5b4513a7cc9fea57b4e2424 100644
--- a/lib/commonjs/hooks/useNestedAutoScroll.js.map
+++ b/lib/commonjs/hooks/useNestedAutoScroll.js.map
@@ -1 +1 @@
-{"version":3,"names":["useNestedAutoScroll","params","useSafeNestableScrollContainerContext","outerScrollOffset","containerSize","scrollableRef","scrollViewSize","DUMMY_VAL","useSharedValue","hoverOffset","activeCellSize","autoscrollSpeed","autoscrollThreshold","isDraggingCell","isTouchActiveNative","hoverScreenOffset","useDerivedValue","value","isScrolledUp","SCROLL_POSITION_TOLERANCE","isScrolledDown","distToTopEdge","Math","max","distToBottomEdge","dist","isAtTopEdge","isAtBottomEdge","scrollTarget","useAnimatedReaction","cur","prev","scrollToInternal","y","current","scrollTo","animated","isAtEdge","topDisabled","bottomDisabled","isEdgeDisabled","scrollTargetDiff","abs","scrollInProgress","shouldScroll","distFromEdge","speedPct","offset","targetOffset","runOnJS"],"sources":["useNestedAutoScroll.tsx"],"sourcesContent":["import Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { State as GestureState } from \"react-native-gesture-handler\";\nimport { useSafeNestableScrollContainerContext } from \"../context/nestableScrollContainerContext\";\nimport { SCROLL_POSITION_TOLERANCE } from \"../constants\";\n\n// This is mostly copied over from the main react-native-draggable-flatlist\n// useAutoScroll hook with a few notable exceptions:\n// - Since animated values are now coming in via a callback,\n//   we won't guarantee they exist (and default them if not).\n// - Outer scrollable is a ScrollView, not a FlatList\n// TODO: see if we can combine into a single shared `useAutoScroll()` hook\n\nexport function useNestedAutoScroll(params: {\n  activeCellSize?: Animated.SharedValue<number>;\n  autoscrollSpeed?: number;\n  autoscrollThreshold?: number;\n  hoverOffset?: Animated.SharedValue<number>;\n  isDraggingCell?: Animated.SharedValue<number>;\n  isTouchActiveNative?: Animated.SharedValue<number>;\n  panGestureState?: Animated.SharedValue<GestureState | number>;\n}) {\n  const {\n    outerScrollOffset,\n    containerSize,\n    scrollableRef,\n    scrollViewSize,\n  } = useSafeNestableScrollContainerContext();\n\n  const DUMMY_VAL = useSharedValue(0);\n\n  const {\n    hoverOffset = DUMMY_VAL,\n    activeCellSize = DUMMY_VAL,\n    autoscrollSpeed = 100,\n    autoscrollThreshold = 30,\n    isDraggingCell = DUMMY_VAL,\n    isTouchActiveNative = DUMMY_VAL,\n  } = params;\n\n  const hoverScreenOffset = useDerivedValue(() => {\n    return hoverOffset.value - outerScrollOffset.value;\n  }, []);\n\n  const isScrolledUp = useDerivedValue(() => {\n    return outerScrollOffset.value - SCROLL_POSITION_TOLERANCE <= 0;\n  }, []);\n\n  const isScrolledDown = useDerivedValue(() => {\n    return (\n      outerScrollOffset.value + containerSize.value + SCROLL_POSITION_TOLERANCE >=\n      scrollViewSize.value\n    );\n  }, []);\n\n  const distToTopEdge = useDerivedValue(() => {\n    return Math.max(0, hoverScreenOffset.value);\n  }, [hoverScreenOffset]);\n\n  const distToBottomEdge = useDerivedValue(() => {\n    const dist = containerSize.value - (hoverScreenOffset.value + activeCellSize.value)\n    return Math.max(0, dist);\n  }, [hoverScreenOffset, activeCellSize, containerSize]);\n\n  const isAtTopEdge = useDerivedValue(() => {\n    return distToTopEdge.value <= autoscrollThreshold;\n  }, []);\n\n  const isAtBottomEdge = useDerivedValue(() => {\n    return distToBottomEdge.value <= autoscrollThreshold;\n  });\n\n  const scrollTarget = useSharedValue(0);\n\n  useAnimatedReaction(\n    () => {\n      return isDraggingCell.value;\n    },\n    (cur, prev) => {\n      if (cur && !prev) {\n        scrollTarget.value = outerScrollOffset.value;\n      }\n    },\n    [activeCellSize]\n  );\n\n  function scrollToInternal(y: number) {\n    scrollableRef.current?.scrollTo({ y, animated: true });\n  }\n\n  useDerivedValue(() => {\n    const isAtEdge = isAtTopEdge.value || isAtBottomEdge.value;\n    const topDisabled = isAtTopEdge.value && isScrolledUp.value;\n    const bottomDisabled = isAtBottomEdge.value && isScrolledDown.value;\n    const isEdgeDisabled = topDisabled || bottomDisabled;\n\n    const scrollTargetDiff = Math.abs(scrollTarget.value - outerScrollOffset.value);\n    const scrollInProgress = scrollTargetDiff > SCROLL_POSITION_TOLERANCE;\n\n    const shouldScroll =\n      isAtEdge &&\n      !isEdgeDisabled &&\n      isDraggingCell.value &&\n      isTouchActiveNative.value &&\n      !scrollInProgress;\n\n    const distFromEdge = isAtTopEdge.value\n      ? distToTopEdge.value\n      : distToBottomEdge.value;\n    const speedPct = 1 - distFromEdge / autoscrollThreshold;\n    const offset = speedPct * autoscrollSpeed;\n    const targetOffset = isAtTopEdge.value\n      ? Math.max(0, outerScrollOffset.value - offset)\n      : outerScrollOffset.value + offset;\n    if (shouldScroll) {\n      scrollTarget.value = targetOffset;\n      // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.\n      // scrollTo(scrollViewRef, 0, scrollTarget.value, true)\n      runOnJS(scrollToInternal)(targetOffset);\n    }\n  }, [autoscrollSpeed, autoscrollThreshold, isDraggingCell]);\n\n  return null;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["_reactNativeReanimated","require","_nestableScrollContainerContext","_constants","useNestedAutoScroll","params","_useSafeNestableScrol","useSafeNestableScrollContainerContext","outerScrollOffset","containerSize","scrollableRef","scrollViewSize","DUMMY_VAL","useSharedValue","_params$hoverOffset","hoverOffset","_params$activeCellSiz","activeCellSize","_params$autoscrollSpe","autoscrollSpeed","_params$autoscrollThr","autoscrollThreshold","_params$isDraggingCel","isDraggingCell","_params$isTouchActive","isTouchActiveNative","hoverScreenOffset","useDerivedValue","_f","value","_closure","asString","__workletHash","__location","isScrolledUp","SCROLL_POSITION_TOLERANCE","isScrolledDown","distToTopEdge","Math","max","distToBottomEdge","dist","isAtTopEdge","isAtBottomEdge","scrollTarget","useAnimatedReaction","cur","prev","scrollToInternal","y","_scrollableRef$curren","current","scrollTo","animated","isAtEdge","topDisabled","bottomDisabled","isEdgeDisabled","scrollTargetDiff","abs","scrollInProgress","shouldScroll","distFromEdge","speedPct","offset","targetOffset","runOnJS"],"sources":["useNestedAutoScroll.tsx"],"sourcesContent":["import Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { State as GestureState } from \"react-native-gesture-handler\";\nimport { useSafeNestableScrollContainerContext } from \"../context/nestableScrollContainerContext\";\nimport { SCROLL_POSITION_TOLERANCE } from \"../constants\";\n\n// This is mostly copied over from the main react-native-draggable-flatlist\n// useAutoScroll hook with a few notable exceptions:\n// - Since animated values are now coming in via a callback,\n//   we won't guarantee they exist (and default them if not).\n// - Outer scrollable is a ScrollView, not a FlatList\n// TODO: see if we can combine into a single shared `useAutoScroll()` hook\n\nexport function useNestedAutoScroll(params: {\n  activeCellSize?: Animated.SharedValue<number>;\n  autoscrollSpeed?: number;\n  autoscrollThreshold?: number;\n  hoverOffset?: Animated.SharedValue<number>;\n  isDraggingCell?: Animated.SharedValue<number>;\n  isTouchActiveNative?: Animated.SharedValue<number>;\n  panGestureState?: Animated.SharedValue<GestureState | number>;\n}) {\n  const {\n    outerScrollOffset,\n    containerSize,\n    scrollableRef,\n    scrollViewSize,\n  } = useSafeNestableScrollContainerContext();\n\n  const DUMMY_VAL = useSharedValue(0);\n\n  const {\n    hoverOffset = DUMMY_VAL,\n    activeCellSize = DUMMY_VAL,\n    autoscrollSpeed = 100,\n    autoscrollThreshold = 30,\n    isDraggingCell = DUMMY_VAL,\n    isTouchActiveNative = DUMMY_VAL,\n  } = params;\n\n  const hoverScreenOffset = useDerivedValue(() => {\n    return hoverOffset.value - outerScrollOffset.value;\n  }, []);\n\n  const isScrolledUp = useDerivedValue(() => {\n    return outerScrollOffset.value - SCROLL_POSITION_TOLERANCE <= 0;\n  }, []);\n\n  const isScrolledDown = useDerivedValue(() => {\n    return (\n      outerScrollOffset.value + containerSize.value + SCROLL_POSITION_TOLERANCE >=\n      scrollViewSize.value\n    );\n  }, []);\n\n  const distToTopEdge = useDerivedValue(() => {\n    return Math.max(0, hoverScreenOffset.value);\n  }, [hoverScreenOffset]);\n\n  const distToBottomEdge = useDerivedValue(() => {\n    const dist = containerSize.value - (hoverScreenOffset.value + activeCellSize.value)\n    return Math.max(0, dist);\n  }, [hoverScreenOffset, activeCellSize, containerSize]);\n\n  const isAtTopEdge = useDerivedValue(() => {\n    return distToTopEdge.value <= autoscrollThreshold;\n  }, []);\n\n  const isAtBottomEdge = useDerivedValue(() => {\n    return distToBottomEdge.value <= autoscrollThreshold;\n  });\n\n  const scrollTarget = useSharedValue(0);\n\n  useAnimatedReaction(\n    () => {\n      return isDraggingCell.value;\n    },\n    (cur, prev) => {\n      if (cur && !prev) {\n        scrollTarget.value = outerScrollOffset.value;\n      }\n    },\n    [activeCellSize]\n  );\n\n  function scrollToInternal(y: number) {\n    scrollableRef.current?.scrollTo({ y, animated: true });\n  }\n\n  useDerivedValue(() => {\n    const isAtEdge = isAtTopEdge.value || isAtBottomEdge.value;\n    const topDisabled = isAtTopEdge.value && isScrolledUp.value;\n    const bottomDisabled = isAtBottomEdge.value && isScrolledDown.value;\n    const isEdgeDisabled = topDisabled || bottomDisabled;\n\n    const scrollTargetDiff = Math.abs(scrollTarget.value - outerScrollOffset.value);\n    const scrollInProgress = scrollTargetDiff > SCROLL_POSITION_TOLERANCE;\n\n    const shouldScroll =\n      isAtEdge &&\n      !isEdgeDisabled &&\n      isDraggingCell.value &&\n      isTouchActiveNative.value &&\n      !scrollInProgress;\n\n    const distFromEdge = isAtTopEdge.value\n      ? distToTopEdge.value\n      : distToBottomEdge.value;\n    const speedPct = 1 - distFromEdge / autoscrollThreshold;\n    const offset = speedPct * autoscrollSpeed;\n    const targetOffset = isAtTopEdge.value\n      ? Math.max(0, outerScrollOffset.value - offset)\n      : outerScrollOffset.value + offset;\n    if (shouldScroll) {\n      scrollTarget.value = targetOffset;\n      // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.\n      // scrollTo(scrollViewRef, 0, scrollTarget.value, true)\n      runOnJS(scrollToInternal)(targetOffset);\n    }\n  }, [autoscrollSpeed, autoscrollThreshold, isDraggingCell]);\n\n  return null;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/hooks/useOnCellActiveAnimation.js b/lib/commonjs/hooks/useOnCellActiveAnimation.js
index 0a18a29c54a245bda4d4e2ae1aa213611935d0df..f7208a52a47b66070d260c45c0925dde3f296932 100644
--- a/lib/commonjs/hooks/useOnCellActiveAnimation.js
+++ b/lib/commonjs/hooks/useOnCellActiveAnimation.js
@@ -1,2 +1,2 @@
-Object.defineProperty(exports,"__esModule",{value:true});exports.useOnCellActiveAnimation=useOnCellActiveAnimation;var _react=require("react");var _reactNativeReanimated=require("react-native-reanimated");var _constants=require("../constants");var _animatedValueContext=require("../context/animatedValueContext");var _cellContext=require("../context/cellContext");function useOnCellActiveAnimation(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{animationConfig:{}},animationConfig=_ref.animationConfig;var animationConfigRef=(0,_react.useRef)(animationConfig);animationConfigRef.current=animationConfig;var isActive=(0,_cellContext.useIsActive)();var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),isTouchActiveNative=_useAnimatedValues.isTouchActiveNative;var onActiveAnim=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var toVal=isActive&&isTouchActiveNative.value?1:0;return(0,_reactNativeReanimated.withSpring)(toVal,Object.assign({},_constants.DEFAULT_ANIMATION_CONFIG,animationConfigRef.current));};_f._closure={isActive:isActive,isTouchActiveNative:isTouchActiveNative,withSpring:_reactNativeReanimated.withSpring,DEFAULT_ANIMATION_CONFIG:_constants.DEFAULT_ANIMATION_CONFIG,animationConfigRef:{current:animationConfigRef.current}};_f.asString="function _f(){const{isActive,isTouchActiveNative,withSpring,DEFAULT_ANIMATION_CONFIG,animationConfigRef}=jsThis._closure;{const toVal=isActive&&isTouchActiveNative.value?1:0;return withSpring(toVal,{...DEFAULT_ANIMATION_CONFIG,...animationConfigRef.current});}}";_f.__workletHash=6336668549172;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/hooks/useOnCellActiveAnimation.ts (25:39)";return _f;}(),[isActive]);return{isActive:isActive,onActiveAnim:onActiveAnim};}
+Object.defineProperty(exports,"__esModule",{value:true});exports.useOnCellActiveAnimation=useOnCellActiveAnimation;var _react=require("react");var _reactNativeReanimated=require("react-native-reanimated");var _constants=require("../constants");var _animatedValueContext=require("../context/animatedValueContext");var _cellContext=require("../context/cellContext");function useOnCellActiveAnimation(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{animationConfig:{}},animationConfig=_ref.animationConfig;var animationConfigRef=(0,_react.useRef)(animationConfig);animationConfigRef.current=animationConfig;var isActive=(0,_cellContext.useIsActive)();var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),isTouchActiveNative=_useAnimatedValues.isTouchActiveNative;var onActiveAnim=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var toVal=isActive&&isTouchActiveNative.value?1:0;return(0,_reactNativeReanimated.withSpring)(toVal,Object.assign({},_constants.DEFAULT_ANIMATION_CONFIG,animationConfigRef.current));};_f._closure={isActive:isActive,isTouchActiveNative:isTouchActiveNative,withSpring:_reactNativeReanimated.withSpring,DEFAULT_ANIMATION_CONFIG:_constants.DEFAULT_ANIMATION_CONFIG,animationConfigRef:{current:animationConfigRef.current}};_f.asString="function _f(){const{isActive,isTouchActiveNative,withSpring,DEFAULT_ANIMATION_CONFIG,animationConfigRef}=jsThis._closure;{const toVal=isActive&&isTouchActiveNative.value?1:0;return withSpring(toVal,{...DEFAULT_ANIMATION_CONFIG,...animationConfigRef.current});}}";_f.__workletHash=6336668549172;_f.__location="C:\\Users\\Javad\\AppData\\Local\\Temp\\xfs-1f18d26b\\user\\src\\hooks\\useOnCellActiveAnimation.ts (25:39)";return _f;}(),[isActive]);return{isActive:isActive,onActiveAnim:onActiveAnim};}
 //# sourceMappingURL=useOnCellActiveAnimation.js.map
\ No newline at end of file
diff --git a/lib/commonjs/hooks/useOnCellActiveAnimation.js.map b/lib/commonjs/hooks/useOnCellActiveAnimation.js.map
index 2cd9114fbb95fd69e5ad7e2b2bea5300bd5791fe..1723947ac23feccf775695e6bb8298fa66b7b19b 100644
--- a/lib/commonjs/hooks/useOnCellActiveAnimation.js.map
+++ b/lib/commonjs/hooks/useOnCellActiveAnimation.js.map
@@ -1 +1 @@
-{"version":3,"names":["useOnCellActiveAnimation","animationConfig","animationConfigRef","useRef","current","isActive","useIsActive","useAnimatedValues","isTouchActiveNative","onActiveAnim","useDerivedValue","toVal","value","withSpring","DEFAULT_ANIMATION_CONFIG"],"sources":["useOnCellActiveAnimation.ts"],"sourcesContent":["import { useRef } from \"react\";\nimport Animated, {\n  useDerivedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\nimport { DEFAULT_ANIMATION_CONFIG } from \"../constants\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useIsActive } from \"../context/cellContext\";\n\ntype Params = {\n  animationConfig: Partial<WithSpringConfig>;\n};\n\nexport function useOnCellActiveAnimation(\n  { animationConfig }: Params = { animationConfig: {} }\n) {\n  const animationConfigRef = useRef(animationConfig);\n  animationConfigRef.current = animationConfig;\n\n  const isActive = useIsActive();\n\n  const { isTouchActiveNative } = useAnimatedValues();\n\n  const onActiveAnim = useDerivedValue(() => {\n    const toVal = isActive && isTouchActiveNative.value ? 1 : 0;\n    return withSpring(toVal, {\n      ...DEFAULT_ANIMATION_CONFIG,\n      ...animationConfigRef.current,\n    });\n  }, [isActive]);\n\n  return {\n    isActive,\n    onActiveAnim,\n  };\n}\n"],"mappings":"mHAAA,4BACA,8DAKA,uCACA,qEACA,mDAMO,QAASA,yBAAT,EAEL,oEAD8B,CAAEC,eAAe,CAAE,EAAnB,CAC9B,CADEA,eACF,MADEA,eACF,CACA,GAAMC,mBAAkB,CAAG,GAAAC,aAAA,EAAOF,eAAP,CAA3B,CACAC,kBAAkB,CAACE,OAAnB,CAA6BH,eAA7B,CAEA,GAAMI,SAAQ,CAAG,GAAAC,wBAAA,GAAjB,CAJA,uBAMgC,GAAAC,uCAAA,GANhC,CAMQC,mBANR,oBAMQA,mBANR,CAQA,GAAMC,aAAY,CAAG,GAAAC,sCAAA,iCAAsB,CACzC,GAAMC,MAAK,CAAGN,QAAQ,EAAIG,mBAAmB,CAACI,KAAhC,CAAwC,CAAxC,CAA4C,CAA1D,CACA,MAAO,GAAAC,iCAAA,EAAWF,KAAX,kBACFG,mCADE,CAEFZ,kBAAkB,CAACE,OAFjB,EAAP,CAID,CANoB,uBAtBPC,QAsBO,qBAtBKG,mBAsBL,YArBdK,iCAqBc,0BArBSC,mCAqBT,6BApBhBZ,kBAAkB,CAACE,OAoBH,qcAMlB,CAACC,QAAD,CANkB,CAArB,CAQA,MAAO,CACLA,QAAQ,CAARA,QADK,CAELI,YAAY,CAAZA,YAFK,CAAP,CAID"}
\ No newline at end of file
+{"version":3,"names":["_react","require","_reactNativeReanimated","_constants","_animatedValueContext","_cellContext","useOnCellActiveAnimation","_ref","arguments","length","undefined","animationConfig","animationConfigRef","useRef","current","isActive","useIsActive","_useAnimatedValues","useAnimatedValues","isTouchActiveNative","onActiveAnim","useDerivedValue","_f","toVal","value","withSpring","Object","assign","DEFAULT_ANIMATION_CONFIG","_closure","asString","__workletHash","__location"],"sources":["useOnCellActiveAnimation.ts"],"sourcesContent":["import { useRef } from \"react\";\nimport Animated, {\n  useDerivedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\nimport { DEFAULT_ANIMATION_CONFIG } from \"../constants\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useIsActive } from \"../context/cellContext\";\n\ntype Params = {\n  animationConfig: Partial<WithSpringConfig>;\n};\n\nexport function useOnCellActiveAnimation(\n  { animationConfig }: Params = { animationConfig: {} }\n) {\n  const animationConfigRef = useRef(animationConfig);\n  animationConfigRef.current = animationConfig;\n\n  const isActive = useIsActive();\n\n  const { isTouchActiveNative } = useAnimatedValues();\n\n  const onActiveAnim = useDerivedValue(() => {\n    const toVal = isActive && isTouchActiveNative.value ? 1 : 0;\n    return withSpring(toVal, {\n      ...DEFAULT_ANIMATION_CONFIG,\n      ...animationConfigRef.current,\n    });\n  }, [isActive]);\n\n  return {\n    isActive,\n    onActiveAnim,\n  };\n}\n"],"mappings":"mHAAA,IAAAA,MAAA,CAAAC,OAAA,UACA,IAAAC,sBAAA,CAAAD,OAAA,4BAKA,IAAAE,UAAA,CAAAF,OAAA,iBACA,IAAAG,qBAAA,CAAAH,OAAA,oCACA,IAAAI,YAAA,CAAAJ,OAAA,2BAMO,QAAS,CAAAK,wBAAwBA,CAAA,CAEtC,KAAAC,IAAA,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAD8B,CAAEG,eAAe,CAAE,CAAC,CAAE,CAAC,CAAnDA,eAAe,CAAAJ,IAAA,CAAfI,eAAe,CAEjB,GAAM,CAAAC,kBAAkB,CAAG,GAAAC,aAAM,EAACF,eAAe,CAAC,CAClDC,kBAAkB,CAACE,OAAO,CAAGH,eAAe,CAE5C,GAAM,CAAAI,QAAQ,CAAG,GAAAC,wBAAW,EAAC,CAAC,CAE9B,IAAAC,kBAAA,CAAgC,GAAAC,uCAAiB,EAAC,CAAC,CAA3CC,mBAAmB,CAAAF,kBAAA,CAAnBE,mBAAmB,CAE3B,GAAM,CAAAC,YAAY,CAAG,GAAAC,sCAAe,iBAAAC,EAAA,UAAAA,GAAA,CAAO,CACzC,GAAM,CAAAC,KAAK,CAAGR,QAAQ,EAAII,mBAAmB,CAACK,KAAK,CAAG,CAAC,CAAG,CAAC,CAC3D,MAAO,GAAAC,iCAAU,EAACF,KAAK,CAAAG,MAAA,CAAAC,MAAA,IAClBC,mCAAwB,CACxBhB,kBAAkB,CAACE,OAAO,CAC9B,CAAC,CACJ,CAAC,CAAAQ,EAAA,CAAAO,QAAA,EAAAd,QAAA,CA5BaA,QAAQ,CAAAI,mBAAA,CAAIA,mBAAmB,CAAAM,UAAA,CACtCA,iCAAU,CAAAG,wBAAA,CACZA,mCAAwB,CAAAhB,kBAAA,EAAAE,OAAA,CACxBF,kBAAkB,CAACE,OAAO,GAAAQ,EAAA,CAAAQ,QAAA,yQAAAR,EAAA,CAAAS,aAAA,eAAAT,EAAA,CAAAU,UAAA,sHAAAV,EAAA,KAyB5B,CAACP,QAAQ,CAAC,CAAC,CAEd,MAAO,CACLA,QAAQ,CAARA,QAAQ,CACRK,YAAY,CAAZA,YACF,CAAC,CACH","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/hooks/useStableCallback.js.map b/lib/commonjs/hooks/useStableCallback.js.map
index d9fe6ef07d0a5d617cea622075a4ad79f43f96ad..531eeca1b057e5415a12c533890532f5f58ffea2 100644
--- a/lib/commonjs/hooks/useStableCallback.js.map
+++ b/lib/commonjs/hooks/useStableCallback.js.map
@@ -1 +1 @@
-{"version":3,"names":["useStableCallback","cb","cbRef","useRef","current","identityRetainingCb","useCallback"],"sources":["useStableCallback.ts"],"sourcesContent":["import { useRef, useCallback } from \"react\";\n\n// Utility hook that returns a function that never has stale dependencies, but\n// without changing identity, as a useCallback with dep array would.\n// Useful for functions that depend on external state, but\n// should not trigger effects when that external state changes.\n\nexport function useStableCallback<\n  T extends (arg1?: any, arg2?: any, arg3?: any) => any\n>(cb: T) {\n  const cbRef = useRef(cb);\n  cbRef.current = cb;\n  const identityRetainingCb = useCallback(\n    (...args: Parameters<T>) => cbRef.current(...args),\n    []\n  );\n  return identityRetainingCb as T;\n}\n"],"mappings":"qGAAA,4BAOO,QAASA,kBAAT,CAELC,EAFK,CAEE,CACP,GAAMC,MAAK,CAAG,GAAAC,aAAA,EAAOF,EAAP,CAAd,CACAC,KAAK,CAACE,OAAN,CAAgBH,EAAhB,CACA,GAAMI,oBAAmB,CAAG,GAAAC,kBAAA,EAC1B,iBAA4BJ,MAAK,CAACE,OAAN,OAAAF,KAAK,WAAjC,EAD0B,CAE1B,EAF0B,CAA5B,CAIA,MAAOG,oBAAP,CACD"}
\ No newline at end of file
+{"version":3,"names":["_react","require","useStableCallback","cb","cbRef","useRef","current","identityRetainingCb","useCallback","apply","arguments"],"sources":["useStableCallback.ts"],"sourcesContent":["import { useRef, useCallback } from \"react\";\n\n// Utility hook that returns a function that never has stale dependencies, but\n// without changing identity, as a useCallback with dep array would.\n// Useful for functions that depend on external state, but\n// should not trigger effects when that external state changes.\n\nexport function useStableCallback<\n  T extends (arg1?: any, arg2?: any, arg3?: any) => any\n>(cb: T) {\n  const cbRef = useRef(cb);\n  cbRef.current = cb;\n  const identityRetainingCb = useCallback(\n    (...args: Parameters<T>) => cbRef.current(...args),\n    []\n  );\n  return identityRetainingCb as T;\n}\n"],"mappings":"qGAAA,IAAAA,MAAA,CAAAC,OAAA,UAOO,QAAS,CAAAC,iBAAiBA,CAE/BC,EAAK,CAAE,CACP,GAAM,CAAAC,KAAK,CAAG,GAAAC,aAAM,EAACF,EAAE,CAAC,CACxBC,KAAK,CAACE,OAAO,CAAGH,EAAE,CAClB,GAAM,CAAAI,mBAAmB,CAAG,GAAAC,kBAAW,EACrC,iBAA4B,CAAAJ,KAAK,CAACE,OAAO,CAAAG,KAAA,CAAbL,KAAK,CAAAM,SAAgB,CAAC,GAClD,EACF,CAAC,CACD,MAAO,CAAAH,mBAAmB,CAC5B","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/index.js b/lib/commonjs/index.js
index 3b315c106cd01166c583191e9964b00209a75a01..aed02732be4dddb79e48c073ba8e97a2c5832790 100644
--- a/lib/commonjs/index.js
+++ b/lib/commonjs/index.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={};exports.default=void 0;var _DraggableFlatList=_interopRequireDefault(require("./components/DraggableFlatList"));var _CellDecorators=require("./components/CellDecorators");Object.keys(_CellDecorators).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_CellDecorators[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _CellDecorators[key];}});});var _NestableDraggableFlatList=require("./components/NestableDraggableFlatList");Object.keys(_NestableDraggableFlatList).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_NestableDraggableFlatList[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _NestableDraggableFlatList[key];}});});var _NestableScrollContainer=require("./components/NestableScrollContainer");Object.keys(_NestableScrollContainer).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_NestableScrollContainer[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _NestableScrollContainer[key];}});});var _types=require("./types");Object.keys(_types).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_types[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _types[key];}});});var _default=_DraggableFlatList.default;exports.default=_default;
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});var _exportNames={};exports.default=void 0;var _DraggableFlatList=_interopRequireDefault(require("./components/DraggableFlatList"));var _CellDecorators=require("./components/CellDecorators");Object.keys(_CellDecorators).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_CellDecorators[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _CellDecorators[key];}});});var _NestableDraggableFlatList=require("./components/NestableDraggableFlatList");Object.keys(_NestableDraggableFlatList).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_NestableDraggableFlatList[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _NestableDraggableFlatList[key];}});});var _NestableScrollContainer=require("./components/NestableScrollContainer");Object.keys(_NestableScrollContainer).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_NestableScrollContainer[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _NestableScrollContainer[key];}});});var _types=require("./types");Object.keys(_types).forEach(function(key){if(key==="default"||key==="__esModule")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;if(key in exports&&exports[key]===_types[key])return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _types[key];}});});var _default=exports.default=_DraggableFlatList.default;
 //# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/lib/commonjs/index.js.map b/lib/commonjs/index.js.map
index b7bd660ec751ac4ab4ce3d04f1255eec1dda1eb3..c397ef3b53212293a71fe5728d2405e16723e505 100644
--- a/lib/commonjs/index.js.map
+++ b/lib/commonjs/index.js.map
@@ -1 +1 @@
-{"version":3,"names":["DraggableFlatList"],"sources":["index.tsx"],"sourcesContent":["import DraggableFlatList from \"./components/DraggableFlatList\";\nexport * from \"./components/CellDecorators\";\nexport * from \"./components/NestableDraggableFlatList\";\nexport * from \"./components/NestableScrollContainer\";\nexport * from \"./types\";\nexport default DraggableFlatList;\n"],"mappings":"uLAAA,yFACA,oYACA,2bACA,ibACA,4U,aACeA,0B"}
\ No newline at end of file
+{"version":3,"names":["_DraggableFlatList","_interopRequireDefault","require","_CellDecorators","Object","keys","forEach","key","prototype","hasOwnProperty","call","_exportNames","exports","defineProperty","enumerable","get","_NestableDraggableFlatList","_NestableScrollContainer","_types","_default","default","DraggableFlatList"],"sources":["index.tsx"],"sourcesContent":["import DraggableFlatList from \"./components/DraggableFlatList\";\nexport * from \"./components/CellDecorators\";\nexport * from \"./components/NestableDraggableFlatList\";\nexport * from \"./components/NestableScrollContainer\";\nexport * from \"./types\";\nexport default DraggableFlatList;\n"],"mappings":"uLAAA,IAAAA,kBAAA,CAAAC,sBAAA,CAAAC,OAAA,oCACA,IAAAC,eAAA,CAAAD,OAAA,gCAAAE,MAAA,CAAAC,IAAA,CAAAF,eAAA,EAAAG,OAAA,UAAAC,GAAA,KAAAA,GAAA,cAAAA,GAAA,0BAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAC,YAAA,CAAAJ,GAAA,YAAAA,GAAA,IAAAK,OAAA,EAAAA,OAAA,CAAAL,GAAA,IAAAJ,eAAA,CAAAI,GAAA,SAAAH,MAAA,CAAAS,cAAA,CAAAD,OAAA,CAAAL,GAAA,EAAAO,UAAA,MAAAC,GAAA,UAAAA,IAAA,SAAAZ,eAAA,CAAAI,GAAA,SACA,IAAAS,0BAAA,CAAAd,OAAA,2CAAAE,MAAA,CAAAC,IAAA,CAAAW,0BAAA,EAAAV,OAAA,UAAAC,GAAA,KAAAA,GAAA,cAAAA,GAAA,0BAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAC,YAAA,CAAAJ,GAAA,YAAAA,GAAA,IAAAK,OAAA,EAAAA,OAAA,CAAAL,GAAA,IAAAS,0BAAA,CAAAT,GAAA,SAAAH,MAAA,CAAAS,cAAA,CAAAD,OAAA,CAAAL,GAAA,EAAAO,UAAA,MAAAC,GAAA,UAAAA,IAAA,SAAAC,0BAAA,CAAAT,GAAA,SACA,IAAAU,wBAAA,CAAAf,OAAA,yCAAAE,MAAA,CAAAC,IAAA,CAAAY,wBAAA,EAAAX,OAAA,UAAAC,GAAA,KAAAA,GAAA,cAAAA,GAAA,0BAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAC,YAAA,CAAAJ,GAAA,YAAAA,GAAA,IAAAK,OAAA,EAAAA,OAAA,CAAAL,GAAA,IAAAU,wBAAA,CAAAV,GAAA,SAAAH,MAAA,CAAAS,cAAA,CAAAD,OAAA,CAAAL,GAAA,EAAAO,UAAA,MAAAC,GAAA,UAAAA,IAAA,SAAAE,wBAAA,CAAAV,GAAA,SACA,IAAAW,MAAA,CAAAhB,OAAA,YAAAE,MAAA,CAAAC,IAAA,CAAAa,MAAA,EAAAZ,OAAA,UAAAC,GAAA,KAAAA,GAAA,cAAAA,GAAA,0BAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAC,YAAA,CAAAJ,GAAA,YAAAA,GAAA,IAAAK,OAAA,EAAAA,OAAA,CAAAL,GAAA,IAAAW,MAAA,CAAAX,GAAA,SAAAH,MAAA,CAAAS,cAAA,CAAAD,OAAA,CAAAL,GAAA,EAAAO,UAAA,MAAAC,GAAA,UAAAA,IAAA,SAAAG,MAAA,CAAAX,GAAA,SAAwB,IAAAY,QAAA,CAAAP,OAAA,CAAAQ,OAAA,CACTC,0BAAiB","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/types.js b/lib/commonjs/types.js
index 63b2c4cae26fce47f7a2ba15397f7e30c73ffee2..e0a0e5b3256b6314586cc23f305333173f63f9d8 100644
--- a/lib/commonjs/types.js
+++ b/lib/commonjs/types.js
@@ -1,2 +1,2 @@
-
+Object.defineProperty(exports,"__esModule",{value:true});
 //# sourceMappingURL=types.js.map
\ No newline at end of file
diff --git a/lib/commonjs/types.js.map b/lib/commonjs/types.js.map
index 07f18efcbcc7afde7475236ec7471f6d46553c34..e969a3ed9f304d53b71c90fe1805a1e8da21441a 100644
--- a/lib/commonjs/types.js.map
+++ b/lib/commonjs/types.js.map
@@ -1 +1 @@
-{"version":3,"names":[],"sources":["types.ts"],"sourcesContent":["import React from \"react\";\nimport {\n  FlatListProps,\n  LayoutChangeEvent,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\nimport { useAnimatedValues } from \"./context/animatedValueContext\";\nimport { FlatList } from \"react-native-gesture-handler\";\nimport Animated, {\n  AnimateProps,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\nimport { DEFAULT_PROPS } from \"./constants\";\n\nexport type DragEndParams<T> = {\n  data: T[];\n  from: number;\n  to: number;\n};\ntype Modify<T, R> = Omit<T, keyof R> & R;\n\ntype DefaultProps = Readonly<typeof DEFAULT_PROPS>;\n\nexport type DraggableFlatListProps<T> = Modify<\n  FlatListProps<T>,\n  {\n    data: T[];\n    activationDistance?: number;\n    animationConfig?: Partial<WithSpringConfig>;\n    autoscrollSpeed?: number;\n    autoscrollThreshold?: number;\n    containerStyle?: StyleProp<ViewStyle>;\n    debug?: boolean;\n    dragItemOverflow?: boolean;\n    keyExtractor: (item: T, index: number) => string;\n    onDragBegin?: (index: number) => void;\n    onDragEnd?: (params: DragEndParams<T>) => void;\n    onPlaceholderIndexChange?: (placeholderIndex: number) => void;\n    onRelease?: (index: number) => void;\n    onScrollOffsetChange?: (scrollOffset: number) => void;\n    renderItem: RenderItem<T>;\n    renderPlaceholder?: RenderPlaceholder<T>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n    outerScrollOffset?: Animated.SharedValue<number>;\n    onAnimValInit?: (animVals: ReturnType<typeof useAnimatedValues>) => void;\n    itemEnteringAnimation?: AnimateProps<Animated.View>[\"entering\"];\n    itemExitingAnimation?: AnimateProps<Animated.View>[\"exiting\"];\n    itemLayoutAnimation?: AnimateProps<Animated.View>[\"layout\"];\n    enableLayoutAnimationExperimental?: boolean;\n    onContainerLayout?: (params: {\n      layout: LayoutChangeEvent[\"nativeEvent\"][\"layout\"];\n      containerRef: React.RefObject<Animated.View>;\n    }) => void;\n  } & Partial<DefaultProps>\n>;\n\nexport type RenderPlaceholder<T> = (params: {\n  item: T;\n  index: number;\n}) => JSX.Element;\n\nexport type RenderItemParams<T> = {\n  item: T;\n  getIndex: () => number | undefined; // This is technically a \"last known index\" since cells don't necessarily rerender when their index changes\n  drag: () => void;\n  isActive: boolean;\n};\n\nexport type RenderItem<T> = (params: RenderItemParams<T>) => React.ReactNode;\n\nexport type AnimatedFlatListType = <T>(\n  props: Animated.AnimateProps<\n    FlatListProps<T> & {\n      ref: React.Ref<FlatList<T>>;\n      simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n    }\n  >\n) => React.ReactElement;\n\nexport type CellData = {\n  measurements: {\n    size: number;\n    offset: number;\n  };\n};\n"],"mappings":""}
\ No newline at end of file
+{"version":3,"names":[],"sources":["types.ts"],"sourcesContent":["import React from \"react\";\nimport {\n  FlatListProps,\n  LayoutChangeEvent,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\nimport { useAnimatedValues } from \"./context/animatedValueContext\";\nimport { FlatList } from \"react-native-gesture-handler\";\nimport Animated, {\n  AnimateProps,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\nimport { DEFAULT_PROPS } from \"./constants\";\n\nexport type DragEndParams<T> = {\n  data: T[];\n  from: number;\n  to: number;\n};\ntype Modify<T, R> = Omit<T, keyof R> & R;\n\ntype DefaultProps = Readonly<typeof DEFAULT_PROPS>;\n\nexport type DraggableFlatListProps<T> = Modify<\n  FlatListProps<T>,\n  {\n    data: T[];\n    activationDistance?: number;\n    animationConfig?: Partial<WithSpringConfig>;\n    autoscrollSpeed?: number;\n    autoscrollThreshold?: number;\n    containerStyle?: StyleProp<ViewStyle>;\n    debug?: boolean;\n    dragItemOverflow?: boolean;\n    keyExtractor: (item: T, index: number) => string;\n    onDragBegin?: (index: number) => void;\n    onDragEnd?: (params: DragEndParams<T>) => void;\n    onPlaceholderIndexChange?: (placeholderIndex: number) => void;\n    onRelease?: (index: number) => void;\n    onScrollOffsetChange?: (scrollOffset: number) => void;\n    renderItem: RenderItem<T>;\n    renderPlaceholder?: RenderPlaceholder<T>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n    outerScrollOffset?: Animated.SharedValue<number>;\n    onAnimValInit?: (animVals: ReturnType<typeof useAnimatedValues>) => void;\n    itemEnteringAnimation?: AnimateProps<Animated.View>[\"entering\"];\n    itemExitingAnimation?: AnimateProps<Animated.View>[\"exiting\"];\n    itemLayoutAnimation?: AnimateProps<Animated.View>[\"layout\"];\n    enableLayoutAnimationExperimental?: boolean;\n    onContainerLayout?: (params: {\n      layout: LayoutChangeEvent[\"nativeEvent\"][\"layout\"];\n      containerRef: React.RefObject<Animated.View>;\n    }) => void;\n  } & Partial<DefaultProps>\n>;\n\nexport type RenderPlaceholder<T> = (params: {\n  item: T;\n  index: number;\n}) => JSX.Element;\n\nexport type RenderItemParams<T> = {\n  item: T;\n  getIndex: () => number | undefined; // This is technically a \"last known index\" since cells don't necessarily rerender when their index changes\n  drag: () => void;\n  isActive: boolean;\n};\n\nexport type RenderItem<T> = (params: RenderItemParams<T>) => React.ReactNode;\n\nexport type AnimatedFlatListType = <T>(\n  props: Animated.AnimateProps<\n    FlatListProps<T> & {\n      ref: React.Ref<FlatList<T>>;\n      simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n    }\n  >\n) => React.ReactElement;\n\nexport type CellData = {\n  measurements: {\n    size: number;\n    offset: number;\n  };\n};\n"],"mappings":"","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/commonjs/utils.js b/lib/commonjs/utils.js
index 297fef52b01137f491e0ec609e11884c1f3706be..675e34e069b7de8eb993526b159f73e30dcd8660 100644
--- a/lib/commonjs/utils.js
+++ b/lib/commonjs/utils.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.typedMemo=void 0;var _react=_interopRequireDefault(require("react"));var typedMemo=_react.default.memo;exports.typedMemo=typedMemo;
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.typedMemo=void 0;var _react=_interopRequireDefault(require("react"));var typedMemo=exports.typedMemo=_react.default.memo;
 //# sourceMappingURL=utils.js.map
\ No newline at end of file
diff --git a/lib/commonjs/utils.js.map b/lib/commonjs/utils.js.map
index 2d37f1c867bb80fba6be7c3d9e87e7459c6b25b9..710ddb16911cd6fb8ea9e4bca0166be724168448 100644
--- a/lib/commonjs/utils.js.map
+++ b/lib/commonjs/utils.js.map
@@ -1 +1 @@
-{"version":3,"names":["typedMemo","React","memo"],"sources":["utils.ts"],"sourcesContent":["import React from \"react\";\n\n// Fixes bug with useMemo + generic types:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/issues/37087#issuecomment-542793243\nexport const typedMemo: <T>(c: T) => T = React.memo;\n"],"mappings":"qKAAA,oDAIO,GAAMA,UAAyB,CAAGC,cAAA,CAAMC,IAAxC,C"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireDefault","require","typedMemo","exports","React","memo"],"sources":["utils.ts"],"sourcesContent":["import React from \"react\";\n\n// Fixes bug with useMemo + generic types:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/issues/37087#issuecomment-542793243\nexport const typedMemo: <T>(c: T) => T = React.memo;\n"],"mappings":"qKAAA,IAAAA,MAAA,CAAAC,sBAAA,CAAAC,OAAA,WAIO,GAAM,CAAAC,SAAyB,CAAAC,OAAA,CAAAD,SAAA,CAAGE,cAAK,CAACC,IAAI","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/components/CellDecorators.js b/lib/module/components/CellDecorators.js
index dc87bf69893a34ed3602308858c2eee6e0abfc8a..8d040cb111178675247f62ec0954af83d22eba9d 100644
--- a/lib/module/components/CellDecorators.js
+++ b/lib/module/components/CellDecorators.js
@@ -4,11 +4,10 @@ import Animated, { interpolate, useAnimatedStyle } from "react-native-reanimated
 import { useDraggableFlatListContext } from "../context/draggableFlatListContext";
 export { useOnCellActiveAnimation } from "../hooks/useOnCellActiveAnimation";
 import { useOnCellActiveAnimation } from "../hooks/useOnCellActiveAnimation";
-export const ScaleDecorator = _ref => {
-  let {
-    activeScale = 1.1,
-    children
-  } = _ref;
+export const ScaleDecorator = ({
+  activeScale = 1.1,
+  children
+}) => {
   const {
     isActive,
     onActiveAnim
@@ -36,14 +35,13 @@ export const ScaleDecorator = _ref => {
     style: [style, horizontal && styles.horizontal]
   }, children);
 };
-export const ShadowDecorator = _ref2 => {
-  let {
-    elevation = 10,
-    color = "black",
-    opacity = 0.25,
-    radius = 5,
-    children
-  } = _ref2;
+export const ShadowDecorator = ({
+  elevation = 10,
+  color = "black",
+  opacity = 0.25,
+  radius = 5,
+  children
+}) => {
   const {
     isActive,
     onActiveAnim
@@ -64,11 +62,10 @@ export const ShadowDecorator = _ref2 => {
     style: [style, horizontal && styles.horizontal]
   }, children);
 };
-export const OpacityDecorator = _ref3 => {
-  let {
-    activeOpacity = 0.25,
-    children
-  } = _ref3;
+export const OpacityDecorator = ({
+  activeOpacity = 0.25,
+  children
+}) => {
   const {
     isActive,
     onActiveAnim
diff --git a/lib/module/components/CellDecorators.js.map b/lib/module/components/CellDecorators.js.map
index 1e2d62c313f555eea49f04c6a68c189cf3133a08..bcfccc67f0d56361bcbc348515245884a28aacaa 100644
--- a/lib/module/components/CellDecorators.js.map
+++ b/lib/module/components/CellDecorators.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","StyleSheet","Animated","interpolate","useAnimatedStyle","useDraggableFlatListContext","useOnCellActiveAnimation","ScaleDecorator","activeScale","children","isActive","onActiveAnim","animationConfig","mass","restDisplacementThreshold","horizontal","style","animScale","value","scale","transform","scaleX","scaleY","styles","ShadowDecorator","elevation","color","opacity","radius","shadowOpacity","shadowRadius","shadowColor","OpacityDecorator","activeOpacity","create","flexDirection","flex"],"sources":["CellDecorators.tsx"],"sourcesContent":["import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  interpolate,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nexport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\nimport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\n\ntype ScaleProps = {\n  activeScale?: number;\n  children: React.ReactNode;\n};\n\nexport const ScaleDecorator = ({ activeScale = 1.1, children }: ScaleProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation({\n    animationConfig: { mass: 0.1, restDisplacementThreshold: 0.0001 },\n  });\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const animScale = interpolate(onActiveAnim.value, [0, 1], [1, activeScale]);\n    const scale = isActive ? animScale : 1;\n    return {\n      transform: [{ scaleX: scale }, { scaleY: scale }],\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype ShadowProps = {\n  children: React.ReactNode;\n  elevation?: number;\n  radius?: number;\n  color?: string;\n  opacity?: number;\n};\n\nexport const ShadowDecorator = ({\n  elevation = 10,\n  color = \"black\",\n  opacity = 0.25,\n  radius = 5,\n  children,\n}: ShadowProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const shadowOpacity = onActiveAnim.value * opacity;\n    return {\n      elevation: isActive ? elevation : 0,\n      shadowRadius: isActive ? radius : 0,\n      shadowColor: isActive ? color : \"transparent\",\n      shadowOpacity: isActive ? shadowOpacity : 0,\n    };\n  }, [isActive, onActiveAnim]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype OpacityProps = {\n  activeOpacity?: number;\n  children: React.ReactNode;\n};\n\nexport const OpacityDecorator = ({\n  activeOpacity = 0.25,\n  children,\n}: OpacityProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n  const style = useAnimatedStyle(() => {\n    const opacity = interpolate(onActiveAnim.value, [0, 1], [1, activeOpacity]);\n    return {\n      opacity: isActive ? opacity : 1,\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  horizontal: {\n    flexDirection: \"row\",\n    flex: 1,\n  },\n});\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["React","StyleSheet","Animated","interpolate","useAnimatedStyle","useDraggableFlatListContext","useOnCellActiveAnimation","ScaleDecorator","activeScale","children","isActive","onActiveAnim","animationConfig","mass","restDisplacementThreshold","horizontal","style","animScale","value","scale","transform","scaleX","scaleY","createElement","View","styles","ShadowDecorator","elevation","color","opacity","radius","shadowOpacity","shadowRadius","shadowColor","OpacityDecorator","activeOpacity","create","flexDirection","flex"],"sources":["CellDecorators.tsx"],"sourcesContent":["import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  interpolate,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nexport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\nimport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\n\ntype ScaleProps = {\n  activeScale?: number;\n  children: React.ReactNode;\n};\n\nexport const ScaleDecorator = ({ activeScale = 1.1, children }: ScaleProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation({\n    animationConfig: { mass: 0.1, restDisplacementThreshold: 0.0001 },\n  });\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const animScale = interpolate(onActiveAnim.value, [0, 1], [1, activeScale]);\n    const scale = isActive ? animScale : 1;\n    return {\n      transform: [{ scaleX: scale }, { scaleY: scale }],\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype ShadowProps = {\n  children: React.ReactNode;\n  elevation?: number;\n  radius?: number;\n  color?: string;\n  opacity?: number;\n};\n\nexport const ShadowDecorator = ({\n  elevation = 10,\n  color = \"black\",\n  opacity = 0.25,\n  radius = 5,\n  children,\n}: ShadowProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const shadowOpacity = onActiveAnim.value * opacity;\n    return {\n      elevation: isActive ? elevation : 0,\n      shadowRadius: isActive ? radius : 0,\n      shadowColor: isActive ? color : \"transparent\",\n      shadowOpacity: isActive ? shadowOpacity : 0,\n    };\n  }, [isActive, onActiveAnim]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype OpacityProps = {\n  activeOpacity?: number;\n  children: React.ReactNode;\n};\n\nexport const OpacityDecorator = ({\n  activeOpacity = 0.25,\n  children,\n}: OpacityProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n  const style = useAnimatedStyle(() => {\n    const opacity = interpolate(onActiveAnim.value, [0, 1], [1, activeOpacity]);\n    return {\n      opacity: isActive ? opacity : 1,\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  horizontal: {\n    flexDirection: \"row\",\n    flex: 1,\n  },\n});\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/components/CellRendererComponent.js b/lib/module/components/CellRendererComponent.js
index 730171f09a62f91fe7d901cc76e3482db1961e18..b5432e549b233faf03ed07fed765bb1c59b2ae03 100644
--- a/lib/module/components/CellRendererComponent.js
+++ b/lib/module/components/CellRendererComponent.js
@@ -1,5 +1,4 @@
-function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
-
+function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }
 import React, { useEffect, useMemo, useRef } from "react";
 import { findNodeHandle, StyleSheet } from "react-native";
 import Animated, { runOnUI, useAnimatedStyle, useSharedValue } from "react-native-reanimated";
@@ -11,7 +10,6 @@ import { useRefs } from "../context/refContext";
 import { useAnimatedValues } from "../context/animatedValueContext";
 import CellProvider from "../context/cellContext";
 import { useStableCallback } from "../hooks/useStableCallback";
-
 function CellRendererComponent(props) {
   const {
     item,
@@ -54,7 +52,6 @@ function CellRendererComponent(props) {
     if (translate.value && !isWeb) {
       heldTanslate.value = translate.value;
     }
-
     const t = activeKey ? translate.value : heldTanslate.value;
     return {
       transform: [horizontalAnim.value ? {
@@ -78,19 +75,15 @@ function CellRendererComponent(props) {
       size.value = cellSize;
       offset.value = cellOffset;
     };
-
     const onFail = () => {
       var _propsRef$current;
-
       if ((_propsRef$current = propsRef.current) !== null && _propsRef$current !== void 0 && _propsRef$current.debug) {
         console.log(`## on measure fail, index: ${index}`);
       }
     };
-
     const containerNode = containerRef.current;
     const viewNode = viewRef.current;
     const nodeHandle = containerNode;
-
     if (viewNode && nodeHandle) {
       //@ts-ignore
       viewNode.measureLayout(nodeHandle, onSuccess, onFail);
@@ -136,7 +129,6 @@ function CellRendererComponent(props) {
       const config = global.LayoutAnimationRepository.configs[t];
       if (config) stashConfig(t, config);
       const stashedConfig = getStashedConfig(t);
-
       if (_layoutDisabled) {
         global.LayoutAnimationRepository.removeConfig(t);
       } else if (stashedConfig) {
@@ -156,7 +148,6 @@ function CellRendererComponent(props) {
     isActive: isActive
   }, children));
 }
-
 export default typedMemo(CellRendererComponent);
 const styles = StyleSheet.create({
   zeroTranslate: {
@@ -172,14 +163,12 @@ runOnUI(() => {
 
   global.RNDFLLayoutAnimationConfigStash = {};
 })();
-
 function stashConfig(tag, config) {
   "worklet";
 
   if (!global.RNDFLLayoutAnimationConfigStash) global.RNDFLLayoutAnimationConfigStash = {};
   global.RNDFLLayoutAnimationConfigStash[tag] = config;
 }
-
 function getStashedConfig(tag) {
   "worklet";
 
diff --git a/lib/module/components/CellRendererComponent.js.map b/lib/module/components/CellRendererComponent.js.map
index a41dc61d807fa615b2b6800546b592c9114ab789..92ae566ea78024f54c5f52bda9d3734b6615c59e 100644
--- a/lib/module/components/CellRendererComponent.js.map
+++ b/lib/module/components/CellRendererComponent.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useEffect","useMemo","useRef","findNodeHandle","StyleSheet","Animated","runOnUI","useAnimatedStyle","useSharedValue","useDraggableFlatListContext","isWeb","useCellTranslate","typedMemo","useRefs","useAnimatedValues","CellProvider","useStableCallback","CellRendererComponent","props","item","index","onLayout","children","rest","viewRef","cellDataRef","propsRef","containerRef","horizontalAnim","scrollOffset","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","key","offset","size","heldTanslate","translate","cellOffset","cellSize","cellIndex","isActive","animStyle","value","t","transform","translateX","translateY","updateCellMeasurements","onSuccess","x","y","w","h","current","set","measurements","onFail","debug","console","log","containerNode","viewNode","nodeHandle","measureLayout","onCellLayout","e","requestAnimationFrame","baseStyle","elevation","zIndex","flexDirection","itemEnteringAnimation","itemExitingAnimation","itemLayoutAnimation","enableLayoutAnimationExperimental","tag","_layoutDisabled","config","global","LayoutAnimationRepository","configs","stashConfig","stashedConfig","getStashedConfig","removeConfig","registerConfig","undefined","style","styles","zeroTranslate","create","RNDFLLayoutAnimationConfigStash"],"sources":["CellRendererComponent.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\nimport {\n  findNodeHandle,\n  LayoutChangeEvent,\n  MeasureLayoutOnSuccessCallback,\n  StyleProp,\n  StyleSheet,\n  ViewStyle,\n} from \"react-native\";\nimport Animated, {\n  runOnUI,\n  useAnimatedStyle,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { isWeb } from \"../constants\";\nimport { useCellTranslate } from \"../hooks/useCellTranslate\";\nimport { typedMemo } from \"../utils\";\nimport { useRefs } from \"../context/refContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport CellProvider from \"../context/cellContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\ntype Props<T> = {\n  item: T;\n  index: number;\n  children: React.ReactNode;\n  onLayout?: (e: LayoutChangeEvent) => void;\n  style?: StyleProp<ViewStyle>;\n};\n\nfunction CellRendererComponent<T>(props: Props<T>) {\n  const { item, index, onLayout, children, ...rest } = props;\n\n  const viewRef = useRef<Animated.View>(null);\n  const { cellDataRef, propsRef, containerRef } = useRefs<T>();\n\n  const { horizontalAnim, scrollOffset } = useAnimatedValues();\n  const {\n    activeKey,\n    keyExtractor,\n    horizontal,\n    layoutAnimationDisabled,\n  } = useDraggableFlatListContext<T>();\n\n  const key = keyExtractor(item, index);\n  const offset = useSharedValue(-1);\n  const size = useSharedValue(-1);\n  const heldTanslate = useSharedValue(0);\n\n  const translate = useCellTranslate({\n    cellOffset: offset,\n    cellSize: size,\n    cellIndex: index,\n  });\n\n  const isActive = activeKey === key;\n\n  const animStyle = useAnimatedStyle(() => {\n    // When activeKey becomes null at the end of a drag and the list reorders,\n    // the animated style may apply before the next paint, causing a flicker.\n    // Solution is to hold over the last animated value until the next onLayout.\n    // (Not required in web)\n    if (translate.value && !isWeb) {\n      heldTanslate.value = translate.value;\n    }\n    const t = activeKey ? translate.value : heldTanslate.value;\n    return {\n      transform: [horizontalAnim.value ? { translateX: t } : { translateY: t }],\n    };\n  }, [translate, activeKey]);\n\n  const updateCellMeasurements = useStableCallback(() => {\n    const onSuccess: MeasureLayoutOnSuccessCallback = (x, y, w, h) => {\n      if (isWeb && horizontal) x += scrollOffset.value;\n      const cellOffset = horizontal ? x : y;\n      const cellSize = horizontal ? w : h;\n      cellDataRef.current.set(key, {\n        measurements: { size: cellSize, offset: cellOffset },\n      });\n\n      size.value = cellSize;\n      offset.value = cellOffset;\n    };\n\n    const onFail = () => {\n      if (propsRef.current?.debug) {\n        console.log(`## on measure fail, index: ${index}`);\n      }\n    };\n\n    const containerNode = containerRef.current;\n    const viewNode = viewRef.current;\n    const nodeHandle = containerNode;\n\n    if (viewNode && nodeHandle) {\n      //@ts-ignore\n      viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n    }\n  });\n\n  const onCellLayout = useStableCallback((e?: LayoutChangeEvent) => {\n    heldTanslate.value = 0;\n    updateCellMeasurements();\n    if (onLayout && e) onLayout(e);\n  });\n\n  useEffect(() => {\n    if (isWeb) {\n      // onLayout isn't called on web when the cell index changes, so we manually re-measure\n      requestAnimationFrame(() => {\n        onCellLayout();\n      });\n    }\n  }, [index, onCellLayout]);\n\n  const baseStyle = useMemo(() => {\n    return {\n      elevation: isActive ? 1 : 0,\n      zIndex: isActive ? 999 : 0,\n      flexDirection: horizontal ? (\"row\" as const) : (\"column\" as const),\n    };\n  }, [isActive, horizontal]);\n\n  const {\n    itemEnteringAnimation,\n    itemExitingAnimation,\n    itemLayoutAnimation,\n  } = propsRef.current;\n\n  useEffect(() => {\n    // NOTE: Keep an eye on reanimated LayoutAnimation refactor:\n    // https://github.com/software-mansion/react-native-reanimated/pull/3332/files\n    // We might have to change the way we register/unregister LayouAnimations:\n    // - get native module: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L18\n    // - register layout animation for tag: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L99\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    const tag = findNodeHandle(viewRef.current);\n\n    runOnUI((t: number | null, _layoutDisabled) => {\n      \"worklet\";\n      if (!t) return;\n      const config = global.LayoutAnimationRepository.configs[t];\n      if (config) stashConfig(t, config);\n      const stashedConfig = getStashedConfig(t);\n      if (_layoutDisabled) {\n        global.LayoutAnimationRepository.removeConfig(t);\n      } else if (stashedConfig) {\n        global.LayoutAnimationRepository.registerConfig(t, stashedConfig);\n      }\n    })(tag, layoutAnimationDisabled);\n  }, [layoutAnimationDisabled]);\n\n  return (\n    <Animated.View\n      {...rest}\n      ref={viewRef}\n      onLayout={onCellLayout}\n      entering={itemEnteringAnimation}\n      exiting={itemExitingAnimation}\n      layout={\n        propsRef.current.enableLayoutAnimationExperimental\n          ? itemLayoutAnimation\n          : undefined\n      }\n      style={[\n        props.style,\n        baseStyle,\n        activeKey ? animStyle : styles.zeroTranslate,\n      ]}\n      pointerEvents={activeKey ? \"none\" : \"auto\"}\n    >\n      <CellProvider isActive={isActive}>{children}</CellProvider>\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(CellRendererComponent);\n\nconst styles = StyleSheet.create({\n  zeroTranslate: {\n    transform: [{ translateX: 0 }, { translateY: 0 }],\n  },\n});\n\ndeclare global {\n  namespace NodeJS {\n    interface Global {\n      RNDFLLayoutAnimationConfigStash: Record<string, unknown>;\n    }\n  }\n}\n\nrunOnUI(() => {\n  \"worklet\";\n  global.RNDFLLayoutAnimationConfigStash = {};\n})();\n\nfunction stashConfig(tag: number, config: unknown) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash)\n    global.RNDFLLayoutAnimationConfigStash = {};\n  global.RNDFLLayoutAnimationConfigStash[tag] = config;\n}\n\nfunction getStashedConfig(tag: number) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash) return null;\n  return global.RNDFLLayoutAnimationConfigStash[tag] as Record<string, unknown>;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["React","useEffect","useMemo","useRef","findNodeHandle","StyleSheet","Animated","runOnUI","useAnimatedStyle","useSharedValue","useDraggableFlatListContext","isWeb","useCellTranslate","typedMemo","useRefs","useAnimatedValues","CellProvider","useStableCallback","CellRendererComponent","props","item","index","onLayout","children","rest","viewRef","cellDataRef","propsRef","containerRef","horizontalAnim","scrollOffset","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","key","offset","size","heldTanslate","translate","cellOffset","cellSize","cellIndex","isActive","animStyle","value","t","transform","translateX","translateY","updateCellMeasurements","onSuccess","x","y","w","h","current","set","measurements","onFail","_propsRef$current","debug","console","log","containerNode","viewNode","nodeHandle","measureLayout","onCellLayout","e","requestAnimationFrame","baseStyle","elevation","zIndex","flexDirection","itemEnteringAnimation","itemExitingAnimation","itemLayoutAnimation","enableLayoutAnimationExperimental","tag","_layoutDisabled","config","global","LayoutAnimationRepository","configs","stashConfig","stashedConfig","getStashedConfig","removeConfig","registerConfig","createElement","View","_extends","ref","entering","exiting","layout","undefined","style","styles","zeroTranslate","pointerEvents","create","RNDFLLayoutAnimationConfigStash"],"sources":["CellRendererComponent.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\nimport {\n  findNodeHandle,\n  LayoutChangeEvent,\n  MeasureLayoutOnSuccessCallback,\n  StyleProp,\n  StyleSheet,\n  ViewStyle,\n} from \"react-native\";\nimport Animated, {\n  runOnUI,\n  useAnimatedStyle,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { isWeb } from \"../constants\";\nimport { useCellTranslate } from \"../hooks/useCellTranslate\";\nimport { typedMemo } from \"../utils\";\nimport { useRefs } from \"../context/refContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport CellProvider from \"../context/cellContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\ntype Props<T> = {\n  item: T;\n  index: number;\n  children: React.ReactNode;\n  onLayout?: (e: LayoutChangeEvent) => void;\n  style?: StyleProp<ViewStyle>;\n};\n\nfunction CellRendererComponent<T>(props: Props<T>) {\n  const { item, index, onLayout, children, ...rest } = props;\n\n  const viewRef = useRef<Animated.View>(null);\n  const { cellDataRef, propsRef, containerRef } = useRefs<T>();\n\n  const { horizontalAnim, scrollOffset } = useAnimatedValues();\n  const {\n    activeKey,\n    keyExtractor,\n    horizontal,\n    layoutAnimationDisabled,\n  } = useDraggableFlatListContext<T>();\n\n  const key = keyExtractor(item, index);\n  const offset = useSharedValue(-1);\n  const size = useSharedValue(-1);\n  const heldTanslate = useSharedValue(0);\n\n  const translate = useCellTranslate({\n    cellOffset: offset,\n    cellSize: size,\n    cellIndex: index,\n  });\n\n  const isActive = activeKey === key;\n\n  const animStyle = useAnimatedStyle(() => {\n    // When activeKey becomes null at the end of a drag and the list reorders,\n    // the animated style may apply before the next paint, causing a flicker.\n    // Solution is to hold over the last animated value until the next onLayout.\n    // (Not required in web)\n    if (translate.value && !isWeb) {\n      heldTanslate.value = translate.value;\n    }\n    const t = activeKey ? translate.value : heldTanslate.value;\n    return {\n      transform: [horizontalAnim.value ? { translateX: t } : { translateY: t }],\n    };\n  }, [translate, activeKey]);\n\n  const updateCellMeasurements = useStableCallback(() => {\n    const onSuccess: MeasureLayoutOnSuccessCallback = (x, y, w, h) => {\n      if (isWeb && horizontal) x += scrollOffset.value;\n      const cellOffset = horizontal ? x : y;\n      const cellSize = horizontal ? w : h;\n      cellDataRef.current.set(key, {\n        measurements: { size: cellSize, offset: cellOffset },\n      });\n\n      size.value = cellSize;\n      offset.value = cellOffset;\n    };\n\n    const onFail = () => {\n      if (propsRef.current?.debug) {\n        console.log(`## on measure fail, index: ${index}`);\n      }\n    };\n\n    const containerNode = containerRef.current;\n    const viewNode = viewRef.current;\n    const nodeHandle = containerNode;\n\n    if (viewNode && nodeHandle) {\n      //@ts-ignore\n      viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n    }\n  });\n\n  const onCellLayout = useStableCallback((e?: LayoutChangeEvent) => {\n    heldTanslate.value = 0;\n    updateCellMeasurements();\n    if (onLayout && e) onLayout(e);\n  });\n\n  useEffect(() => {\n    if (isWeb) {\n      // onLayout isn't called on web when the cell index changes, so we manually re-measure\n      requestAnimationFrame(() => {\n        onCellLayout();\n      });\n    }\n  }, [index, onCellLayout]);\n\n  const baseStyle = useMemo(() => {\n    return {\n      elevation: isActive ? 1 : 0,\n      zIndex: isActive ? 999 : 0,\n      flexDirection: horizontal ? (\"row\" as const) : (\"column\" as const),\n    };\n  }, [isActive, horizontal]);\n\n  const {\n    itemEnteringAnimation,\n    itemExitingAnimation,\n    itemLayoutAnimation,\n  } = propsRef.current;\n\n  useEffect(() => {\n    // NOTE: Keep an eye on reanimated LayoutAnimation refactor:\n    // https://github.com/software-mansion/react-native-reanimated/pull/3332/files\n    // We might have to change the way we register/unregister LayouAnimations:\n    // - get native module: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L18\n    // - register layout animation for tag: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L99\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    const tag = findNodeHandle(viewRef.current);\n\n    runOnUI((t: number | null, _layoutDisabled) => {\n      \"worklet\";\n      if (!t) return;\n      const config = global.LayoutAnimationRepository.configs[t];\n      if (config) stashConfig(t, config);\n      const stashedConfig = getStashedConfig(t);\n      if (_layoutDisabled) {\n        global.LayoutAnimationRepository.removeConfig(t);\n      } else if (stashedConfig) {\n        global.LayoutAnimationRepository.registerConfig(t, stashedConfig);\n      }\n    })(tag, layoutAnimationDisabled);\n  }, [layoutAnimationDisabled]);\n\n  return (\n    <Animated.View\n      {...rest}\n      ref={viewRef}\n      onLayout={onCellLayout}\n      entering={itemEnteringAnimation}\n      exiting={itemExitingAnimation}\n      layout={\n        propsRef.current.enableLayoutAnimationExperimental\n          ? itemLayoutAnimation\n          : undefined\n      }\n      style={[\n        props.style,\n        baseStyle,\n        activeKey ? animStyle : styles.zeroTranslate,\n      ]}\n      pointerEvents={activeKey ? \"none\" : \"auto\"}\n    >\n      <CellProvider isActive={isActive}>{children}</CellProvider>\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(CellRendererComponent);\n\nconst styles = StyleSheet.create({\n  zeroTranslate: {\n    transform: [{ translateX: 0 }, { translateY: 0 }],\n  },\n});\n\ndeclare global {\n  namespace NodeJS {\n    interface Global {\n      RNDFLLayoutAnimationConfigStash: Record<string, unknown>;\n    }\n  }\n}\n\nrunOnUI(() => {\n  \"worklet\";\n  global.RNDFLLayoutAnimationConfigStash = {};\n})();\n\nfunction stashConfig(tag: number, config: unknown) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash)\n    global.RNDFLLayoutAnimationConfigStash = {};\n  global.RNDFLLayoutAnimationConfigStash[tag] = config;\n}\n\nfunction getStashedConfig(tag: number) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash) return null;\n  return global.RNDFLLayoutAnimationConfigStash[tag] as Record<string, unknown>;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/components/DraggableFlatList.js b/lib/module/components/DraggableFlatList.js
index 50b1d1376a5bed43cfda9fdcb774e79a12e5d51f..24d7272d220c9f558e11a527265cfbf605bce054 100644
--- a/lib/module/components/DraggableFlatList.js
+++ b/lib/module/components/DraggableFlatList.js
@@ -1,5 +1,4 @@
-function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
-
+function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }
 import React, { useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from "react";
 import { FlatList, Gesture, GestureDetector } from "react-native-gesture-handler";
 import Animated, { runOnJS, useAnimatedReaction, useAnimatedScrollHandler, useSharedValue, withSpring } from "react-native-reanimated";
@@ -16,7 +15,6 @@ import { useStableCallback } from "../hooks/useStableCallback";
 import ScrollOffsetListener from "./ScrollOffsetListener";
 import { typedMemo } from "../utils";
 const AnimatedFlatList = Animated.createAnimatedComponent(FlatList);
-
 function DraggableFlatListInner(props) {
   const {
     cellDataRef,
@@ -63,21 +61,17 @@ function DraggableFlatListInner(props) {
     if (!props.keyExtractor) {
       throw new Error("You must provide a keyExtractor to DraggableFlatList");
     }
-
     return props.keyExtractor(item, index);
   });
   const dataRef = useRef(props.data);
   const dataHasChanged = dataRef.current.map(keyExtractor).join("") !== props.data.map(keyExtractor).join("");
   dataRef.current = props.data;
-
   if (dataHasChanged) {
     // When data changes make sure `activeKey` is nulled out in the same render pass
     activeKey = null;
   }
-
   useEffect(() => {
     if (!propsRef.current.enableLayoutAnimationExperimental) return;
-
     if (activeKey) {
       setLayoutAnimationDisabled(true);
     } else {
@@ -98,77 +92,62 @@ function DraggableFlatListInner(props) {
     if (disabled.value) return;
     const index = keyToIndexRef.current.get(activeKey);
     const cellData = cellDataRef.current.get(activeKey);
-
     if (cellData) {
       activeCellOffset.value = cellData.measurements.offset;
       activeCellSize.value = cellData.measurements.size;
     }
-
     const {
       onDragBegin
     } = propsRef.current;
-
     if (index !== undefined) {
       spacerIndexAnim.value = index;
       activeIndexAnim.value = index;
       setActiveKey(activeKey);
-      onDragBegin === null || onDragBegin === void 0 ? void 0 : onDragBegin(index);
+      onDragBegin === null || onDragBegin === void 0 || onDragBegin(index);
     }
   });
-
-  const onContainerLayout = _ref => {
+  const onContainerLayout = ({
+    nativeEvent: {
+      layout
+    }
+  }) => {
     var _props$onContainerLay;
-
-    let {
-      nativeEvent: {
-        layout
-      }
-    } = _ref;
     const {
       width,
       height
     } = layout;
     containerSize.value = props.horizontal ? width : height;
-    (_props$onContainerLay = props.onContainerLayout) === null || _props$onContainerLay === void 0 ? void 0 : _props$onContainerLay.call(props, {
+    (_props$onContainerLay = props.onContainerLayout) === null || _props$onContainerLay === void 0 || _props$onContainerLay.call(props, {
       layout,
       containerRef
     });
   };
-
   const onListContentSizeChange = (w, h) => {
     var _props$onContentSizeC;
-
     scrollViewSize.value = props.horizontal ? w : h;
-    (_props$onContentSizeC = props.onContentSizeChange) === null || _props$onContentSizeC === void 0 ? void 0 : _props$onContentSizeC.call(props, w, h);
+    (_props$onContentSizeC = props.onContentSizeChange) === null || _props$onContentSizeC === void 0 || _props$onContentSizeC.call(props, w, h);
   };
-
   const onContainerTouchStart = () => {
     if (!disabled.value) {
       isTouchActiveNative.value = true;
     }
-
     return false;
   };
-
   const onContainerTouchEnd = () => {
     isTouchActiveNative.value = false;
   };
-
   const extraData = useMemo(() => ({
     activeKey,
     extraData: props.extraData
   }), [activeKey, props.extraData]);
-  const renderItem = useCallback(_ref2 => {
-    let {
-      item,
-      index
-    } = _ref2;
+  const renderItem = useCallback(({
+    item,
+    index
+  }) => {
     const key = keyExtractor(item, index);
-
     if (index !== keyToIndexRef.current.get(key)) {
       keyToIndexRef.current.set(key, index);
     }
-
     return /*#__PURE__*/React.createElement(RowItem, {
       item: item,
       itemKey: key,
@@ -179,26 +158,22 @@ function DraggableFlatListInner(props) {
   }, [props.renderItem, props.extraData, drag, keyExtractor]);
   const onRelease = useStableCallback(index => {
     var _props$onRelease;
-
-    (_props$onRelease = props.onRelease) === null || _props$onRelease === void 0 ? void 0 : _props$onRelease.call(props, index);
+    (_props$onRelease = props.onRelease) === null || _props$onRelease === void 0 || _props$onRelease.call(props, index);
   });
-  const onDragEnd = useStableCallback(_ref3 => {
-    let {
-      from,
-      to
-    } = _ref3;
+  const onDragEnd = useStableCallback(({
+    from,
+    to
+  }) => {
     const {
       onDragEnd,
       data
     } = props;
     const newData = [...data];
-
     if (from !== to) {
       newData.splice(from, 1);
       newData.splice(to, 0, data[from]);
     }
-
-    onDragEnd === null || onDragEnd === void 0 ? void 0 : onDragEnd({
+    onDragEnd === null || onDragEnd === void 0 || onDragEnd({
       from,
       to,
       data: newData
@@ -207,16 +182,15 @@ function DraggableFlatListInner(props) {
   });
   const onPlaceholderIndexChange = useStableCallback(index => {
     var _props$onPlaceholderI;
+    (_props$onPlaceholderI = props.onPlaceholderIndexChange) === null || _props$onPlaceholderI === void 0 || _props$onPlaceholderI.call(props, index);
+  });
 
-    (_props$onPlaceholderI = props.onPlaceholderIndexChange) === null || _props$onPlaceholderI === void 0 ? void 0 : _props$onPlaceholderI.call(props, index);
-  }); // Handle case where user ends drag without moving their finger.
-
+  // Handle case where user ends drag without moving their finger.
   useAnimatedReaction(() => {
     return isTouchActiveNative.value;
   }, (cur, prev) => {
     if (cur !== prev && !cur) {
       const hasMoved = !!touchTranslate.value;
-
       if (!hasMoved && activeIndexAnim.value >= 0 && !disabled.value) {
         runOnJS(onRelease)(activeIndexAnim.value);
         runOnJS(onDragEnd)({
@@ -244,18 +218,19 @@ function DraggableFlatListInner(props) {
     const translation = horizontalAnim.value ? evt.translationX : evt.translationY;
     touchTranslate.value = translation;
   }).onEnd(evt => {
-    if (gestureDisabled.value) return; // Set touch val to current translate val
-
+    if (gestureDisabled.value) return;
+    // Set touch val to current translate val
     isTouchActiveNative.value = false;
     const translation = horizontalAnim.value ? evt.translationX : evt.translationY;
     touchTranslate.value = translation + autoScrollDistance.value;
-    panGestureState.value = evt.state; // Only call onDragEnd if actually dragging a cell
+    panGestureState.value = evt.state;
 
+    // Only call onDragEnd if actually dragging a cell
     if (activeIndexAnim.value === -1 || disabled.value) return;
     disabled.value = true;
     runOnJS(onRelease)(activeIndexAnim.value);
     const springTo = placeholderOffset.value - activeCellOffset.value;
-    touchTranslate.value = withSpring(springTo, animationConfigRef.current, () => {
+    touchTranslate.value = withSpring(springTo, animationConfigRef.value, () => {
       runOnJS(onDragEnd)({
         from: activeIndexAnim.value,
         to: spacerIndexAnim.value
@@ -270,21 +245,17 @@ function DraggableFlatListInner(props) {
     runOnJS(onContainerTouchEnd)();
   });
   if (dragHitSlop) panGesture.hitSlop(dragHitSlop);
-
   if (activationDistanceProp) {
     const activeOffset = [-activationDistanceProp, activationDistanceProp];
-
     if (props.horizontal) {
       panGesture.activeOffsetX(activeOffset);
     } else {
       panGesture.activeOffsetY(activeOffset);
     }
   }
-
   const onScroll = useStableCallback(scrollOffset => {
     var _props$onScrollOffset;
-
-    (_props$onScrollOffset = props.onScrollOffsetChange) === null || _props$onScrollOffset === void 0 ? void 0 : _props$onScrollOffset.call(props, scrollOffset);
+    (_props$onScrollOffset = props.onScrollOffsetChange) === null || _props$onScrollOffset === void 0 || _props$onScrollOffset.call(props, scrollOffset);
   });
   const scrollHandler = useAnimatedScrollHandler({
     onScroll: evt => {
@@ -295,13 +266,12 @@ function DraggableFlatListInner(props) {
   useAutoScroll();
   const onViewableItemsChanged = useStableCallback(info => {
     var _props$onViewableItem;
-
     const viewableIndices = info.viewableItems.filter(item => item.isViewable).map(item => item.index).filter(index => typeof index === "number");
     const min = Math.min(...viewableIndices);
     const max = Math.max(...viewableIndices);
     viewableIndexMin.value = min;
     viewableIndexMax.value = max;
-    (_props$onViewableItem = props.onViewableItemsChanged) === null || _props$onViewableItem === void 0 ? void 0 : _props$onViewableItem.call(props, info);
+    (_props$onViewableItem = props.onViewableItemsChanged) === null || _props$onViewableItem === void 0 || _props$onViewableItem.call(props, info);
   });
   return /*#__PURE__*/React.createElement(DraggableFlatListProvider, {
     activeKey: activeKey,
@@ -335,15 +305,14 @@ function DraggableFlatListInner(props) {
     scrollOffset: scrollOffset
   }))));
 }
-
 function DraggableFlatList(props, ref) {
   return /*#__PURE__*/React.createElement(PropsProvider, props, /*#__PURE__*/React.createElement(AnimatedValueProvider, null, /*#__PURE__*/React.createElement(RefProvider, {
     flatListRef: ref
   }, /*#__PURE__*/React.createElement(MemoizedInner, props))));
 }
+const MemoizedInner = typedMemo(DraggableFlatListInner);
 
-const MemoizedInner = typedMemo(DraggableFlatListInner); // Generic forwarded ref type assertion taken from:
+// Generic forwarded ref type assertion taken from:
 // https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion
-
 export default /*#__PURE__*/React.forwardRef(DraggableFlatList);
 //# sourceMappingURL=DraggableFlatList.js.map
\ No newline at end of file
diff --git a/lib/module/components/DraggableFlatList.js.map b/lib/module/components/DraggableFlatList.js.map
index 2ccc44ff9dc70929a518375103f0429816b0b47f..428c3d51061c7d670a6c3e1a125f8e2a7c8bf30f 100644
--- a/lib/module/components/DraggableFlatList.js.map
+++ b/lib/module/components/DraggableFlatList.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useCallback","useEffect","useLayoutEffect","useMemo","useRef","useState","FlatList","Gesture","GestureDetector","Animated","runOnJS","useAnimatedReaction","useAnimatedScrollHandler","useSharedValue","withSpring","CellRendererComponent","DEFAULT_PROPS","PlaceholderItem","RowItem","PropsProvider","AnimatedValueProvider","useAnimatedValues","RefProvider","useRefs","DraggableFlatListProvider","useAutoScroll","useStableCallback","ScrollOffsetListener","typedMemo","AnimatedFlatList","createAnimatedComponent","DraggableFlatListInner","props","cellDataRef","containerRef","flatlistRef","keyToIndexRef","propsRef","animationConfigRef","activeCellOffset","activeCellSize","activeIndexAnim","containerSize","scrollOffset","scrollViewSize","spacerIndexAnim","horizontalAnim","placeholderOffset","touchTranslate","autoScrollDistance","panGestureState","isTouchActiveNative","viewableIndexMin","viewableIndexMax","disabled","reset","value","setActiveKey","dragHitSlop","scrollEnabled","activationDistance","activationDistanceProp","activeKey","layoutAnimationDisabled","setLayoutAnimationDisabled","current","enableLayoutAnimationExperimental","keyExtractor","item","index","Error","dataRef","data","dataHasChanged","map","join","setTimeout","forEach","d","i","key","set","drag","get","cellData","measurements","offset","size","onDragBegin","undefined","onContainerLayout","nativeEvent","layout","width","height","horizontal","onListContentSizeChange","w","h","onContentSizeChange","onContainerTouchStart","onContainerTouchEnd","extraData","renderItem","onRelease","onDragEnd","from","to","newData","splice","onPlaceholderIndexChange","cur","prev","hasMoved","gestureDisabled","panGesture","Pan","onBegin","evt","state","onUpdate","translation","translationX","translationY","onEnd","springTo","onTouchesDown","onTouchesUp","hitSlop","activeOffset","activeOffsetX","activeOffsetY","onScroll","onScrollOffsetChange","scrollHandler","contentOffset","x","y","onViewableItemsChanged","info","viewableIndices","viewableItems","filter","isViewable","min","Math","max","containerStyle","renderPlaceholder","simultaneousHandlers","DraggableFlatList","ref","MemoizedInner","forwardRef"],"sources":["DraggableFlatList.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { ListRenderItem, FlatListProps, LayoutChangeEvent } from \"react-native\";\nimport {\n  FlatList,\n  Gesture,\n  GestureDetector,\n} from \"react-native-gesture-handler\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedScrollHandler,\n  useSharedValue,\n  withSpring,\n} from \"react-native-reanimated\";\nimport CellRendererComponent from \"./CellRendererComponent\";\nimport { DEFAULT_PROPS, isWeb } from \"../constants\";\nimport PlaceholderItem from \"./PlaceholderItem\";\nimport RowItem from \"./RowItem\";\nimport { DraggableFlatListProps } from \"../types\";\nimport PropsProvider from \"../context/propsContext\";\nimport AnimatedValueProvider, {\n  useAnimatedValues,\n} from \"../context/animatedValueContext\";\nimport RefProvider, { useRefs } from \"../context/refContext\";\nimport DraggableFlatListProvider from \"../context/draggableFlatListContext\";\nimport { useAutoScroll } from \"../hooks/useAutoScroll\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport ScrollOffsetListener from \"./ScrollOffsetListener\";\nimport { typedMemo } from \"../utils\";\n\ntype RNGHFlatListProps<T> = Animated.AnimateProps<\n  FlatListProps<T> & {\n    ref: React.Ref<FlatList<T>>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n  }\n>;\n\ntype OnViewableItemsChangedCallback<T> = Exclude<\n  FlatListProps<T>[\"onViewableItemsChanged\"],\n  undefined | null\n>;\n\nconst AnimatedFlatList = (Animated.createAnimatedComponent(\n  FlatList\n) as unknown) as <T>(props: RNGHFlatListProps<T>) => React.ReactElement;\n\nfunction DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {\n  const {\n    cellDataRef,\n    containerRef,\n    flatlistRef,\n    keyToIndexRef,\n    propsRef,\n    animationConfigRef,\n  } = useRefs<T>();\n  const {\n    activeCellOffset,\n    activeCellSize,\n    activeIndexAnim,\n    containerSize,\n    scrollOffset,\n    scrollViewSize,\n    spacerIndexAnim,\n    horizontalAnim,\n    placeholderOffset,\n    touchTranslate,\n    autoScrollDistance,\n    panGestureState,\n    isTouchActiveNative,\n    viewableIndexMin,\n    viewableIndexMax,\n    disabled,\n  } = useAnimatedValues();\n\n  const reset = useStableCallback(() => {\n    activeIndexAnim.value = -1;\n    spacerIndexAnim.value = -1;\n    touchTranslate.value = 0;\n    activeCellSize.value = -1;\n    activeCellOffset.value = -1;\n    setActiveKey(null);\n  });\n\n  const {\n    dragHitSlop = DEFAULT_PROPS.dragHitSlop,\n    scrollEnabled = DEFAULT_PROPS.scrollEnabled,\n    activationDistance: activationDistanceProp = DEFAULT_PROPS.activationDistance,\n  } = props;\n\n  let [activeKey, setActiveKey] = useState<string | null>(null);\n  const [layoutAnimationDisabled, setLayoutAnimationDisabled] = useState(\n    !propsRef.current.enableLayoutAnimationExperimental\n  );\n\n  const keyExtractor = useStableCallback((item: T, index: number) => {\n    if (!props.keyExtractor) {\n      throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n    }\n    return props.keyExtractor(item, index);\n  });\n\n  const dataRef = useRef(props.data);\n  const dataHasChanged =\n    dataRef.current.map(keyExtractor).join(\"\") !==\n    props.data.map(keyExtractor).join(\"\");\n  dataRef.current = props.data;\n  if (dataHasChanged) {\n    // When data changes make sure `activeKey` is nulled out in the same render pass\n    activeKey = null;\n  }\n\n  useEffect(() => {\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    if (activeKey) {\n      setLayoutAnimationDisabled(true);\n    } else {\n      // setTimeout result of trial-and-error to determine how long to wait before\n      // re-enabling layout animations so that a drag reorder does not trigger it.\n      setTimeout(() => {\n        setLayoutAnimationDisabled(false);\n      }, 100);\n    }\n  }, [activeKey]);\n\n  useLayoutEffect(() => {\n    props.data.forEach((d, i) => {\n      const key = keyExtractor(d, i);\n      keyToIndexRef.current.set(key, i);\n    });\n  }, [props.data, keyExtractor, keyToIndexRef]);\n\n  const drag = useStableCallback((activeKey: string) => {\n    if (disabled.value) return;\n    const index = keyToIndexRef.current.get(activeKey);\n    const cellData = cellDataRef.current.get(activeKey);\n    if (cellData) {\n      activeCellOffset.value = cellData.measurements.offset;\n      activeCellSize.value = cellData.measurements.size;\n    }\n\n    const { onDragBegin } = propsRef.current;\n    if (index !== undefined) {\n      spacerIndexAnim.value = index;\n      activeIndexAnim.value = index;\n      setActiveKey(activeKey);\n      onDragBegin?.(index);\n    }\n  });\n\n  const onContainerLayout = ({\n    nativeEvent: { layout },\n  }: LayoutChangeEvent) => {\n    const { width, height } = layout;\n    containerSize.value = props.horizontal ? width : height;\n    props.onContainerLayout?.({ layout, containerRef });\n  };\n\n  const onListContentSizeChange = (w: number, h: number) => {\n    scrollViewSize.value = props.horizontal ? w : h;\n    props.onContentSizeChange?.(w, h);\n  };\n\n  const onContainerTouchStart = () => {\n    if (!disabled.value) {\n      isTouchActiveNative.value = true;\n    }\n    return false;\n  };\n\n  const onContainerTouchEnd = () => {\n    isTouchActiveNative.value = false;\n  };\n\n  const extraData = useMemo(\n    () => ({\n      activeKey,\n      extraData: props.extraData,\n    }),\n    [activeKey, props.extraData]\n  );\n\n  const renderItem: ListRenderItem<T> = useCallback(\n    ({ item, index }) => {\n      const key = keyExtractor(item, index);\n      if (index !== keyToIndexRef.current.get(key)) {\n        keyToIndexRef.current.set(key, index);\n      }\n\n      return (\n        <RowItem\n          item={item}\n          itemKey={key}\n          renderItem={props.renderItem}\n          drag={drag}\n          extraData={props.extraData}\n        />\n      );\n    },\n    [props.renderItem, props.extraData, drag, keyExtractor]\n  );\n\n  const onRelease = useStableCallback((index: number) => {\n    props.onRelease?.(index);\n  });\n\n  const onDragEnd = useStableCallback(\n    ({ from, to }: { from: number; to: number }) => {\n      const { onDragEnd, data } = props;\n\n      const newData = [...data];\n      if (from !== to) {\n        newData.splice(from, 1);\n        newData.splice(to, 0, data[from]);\n      }\n\n      onDragEnd?.({ from, to, data: newData });\n      reset();\n    }\n  );\n\n  const onPlaceholderIndexChange = useStableCallback((index: number) => {\n    props.onPlaceholderIndexChange?.(index);\n  });\n\n  // Handle case where user ends drag without moving their finger.\n  useAnimatedReaction(\n    () => {\n      return isTouchActiveNative.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && !cur) {\n        const hasMoved = !!touchTranslate.value;\n        if (!hasMoved && activeIndexAnim.value >= 0 && !disabled.value) {\n          runOnJS(onRelease)(activeIndexAnim.value);\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n        }\n      }\n    },\n    [isTouchActiveNative, onDragEnd, onRelease]\n  );\n\n  useAnimatedReaction(\n    () => {\n      return spacerIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (prev !== null && cur !== prev && cur >= 0 && prev >= 0) {\n        runOnJS(onPlaceholderIndexChange)(cur);\n      }\n    },\n    [spacerIndexAnim]\n  );\n\n  const gestureDisabled = useSharedValue(false);\n\n  const panGesture = Gesture.Pan()\n    .onBegin((evt) => {\n      gestureDisabled.value = disabled.value;\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n    })\n    .onUpdate((evt) => {\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n      touchTranslate.value = translation;\n    })\n    .onEnd((evt) => {\n      if (gestureDisabled.value) return;\n      // Set touch val to current translate val\n      isTouchActiveNative.value = false;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n\n      touchTranslate.value = translation + autoScrollDistance.value;\n      panGestureState.value = evt.state;\n\n      // Only call onDragEnd if actually dragging a cell\n      if (activeIndexAnim.value === -1 || disabled.value) return;\n      disabled.value = true;\n      runOnJS(onRelease)(activeIndexAnim.value);\n      const springTo = placeholderOffset.value - activeCellOffset.value;\n      touchTranslate.value = withSpring(\n        springTo,\n        animationConfigRef.current,\n        () => {\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n          disabled.value = false;\n        }\n      );\n    })\n    .onTouchesDown(() => {\n      runOnJS(onContainerTouchStart)();\n    })\n    .onTouchesUp(() => {\n      // Turning this into a worklet causes timing issues. We want it to run\n      // just after the finger lifts.\n      runOnJS(onContainerTouchEnd)();\n    });\n\n  if (dragHitSlop) panGesture.hitSlop(dragHitSlop);\n  if (activationDistanceProp) {\n    const activeOffset = [-activationDistanceProp, activationDistanceProp];\n    if (props.horizontal) {\n      panGesture.activeOffsetX(activeOffset);\n    } else {\n      panGesture.activeOffsetY(activeOffset);\n    }\n  }\n\n  const onScroll = useStableCallback((scrollOffset: number) => {\n    props.onScrollOffsetChange?.(scrollOffset);\n  });\n\n  const scrollHandler = useAnimatedScrollHandler(\n    {\n      onScroll: (evt) => {\n        scrollOffset.value = horizontalAnim.value\n          ? evt.contentOffset.x\n          : evt.contentOffset.y;\n        runOnJS(onScroll)(scrollOffset.value);\n      },\n    },\n    [horizontalAnim]\n  );\n\n  useAutoScroll();\n\n  const onViewableItemsChanged = useStableCallback<\n    OnViewableItemsChangedCallback<T>\n  >((info) => {\n    const viewableIndices = info.viewableItems\n      .filter((item) => item.isViewable)\n      .map((item) => item.index)\n      .filter((index): index is number => typeof index === \"number\");\n\n    const min = Math.min(...viewableIndices);\n    const max = Math.max(...viewableIndices);\n    viewableIndexMin.value = min;\n    viewableIndexMax.value = max;\n    props.onViewableItemsChanged?.(info);\n  });\n\n  return (\n    <DraggableFlatListProvider\n      activeKey={activeKey}\n      keyExtractor={keyExtractor}\n      horizontal={!!props.horizontal}\n      layoutAnimationDisabled={layoutAnimationDisabled}\n    >\n      <GestureDetector gesture={panGesture}>\n        <Animated.View\n          style={props.containerStyle}\n          ref={containerRef}\n          onLayout={onContainerLayout}\n        >\n          {props.renderPlaceholder && (\n            <PlaceholderItem renderPlaceholder={props.renderPlaceholder} />\n          )}\n          <AnimatedFlatList\n            {...props}\n            data={props.data}\n            onViewableItemsChanged={onViewableItemsChanged}\n            CellRendererComponent={CellRendererComponent}\n            ref={flatlistRef}\n            onContentSizeChange={onListContentSizeChange}\n            scrollEnabled={!activeKey && scrollEnabled}\n            renderItem={renderItem}\n            extraData={extraData}\n            keyExtractor={keyExtractor}\n            onScroll={scrollHandler}\n            scrollEventThrottle={16}\n            simultaneousHandlers={props.simultaneousHandlers}\n            removeClippedSubviews={false}\n          />\n          {!!props.onScrollOffsetChange && (\n            <ScrollOffsetListener\n              onScrollOffsetChange={props.onScrollOffsetChange}\n              scrollOffset={scrollOffset}\n            />\n          )}\n        </Animated.View>\n      </GestureDetector>\n    </DraggableFlatListProvider>\n  );\n}\n\nfunction DraggableFlatList<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>> | null\n) {\n  return (\n    <PropsProvider {...props}>\n      <AnimatedValueProvider>\n        <RefProvider flatListRef={ref}>\n          <MemoizedInner {...props} />\n        </RefProvider>\n      </AnimatedValueProvider>\n    </PropsProvider>\n  );\n}\n\nconst MemoizedInner = typedMemo(DraggableFlatListInner);\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport default React.forwardRef(DraggableFlatList) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof DraggableFlatList>;\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["React","useCallback","useEffect","useLayoutEffect","useMemo","useRef","useState","FlatList","Gesture","GestureDetector","Animated","runOnJS","useAnimatedReaction","useAnimatedScrollHandler","useSharedValue","withSpring","CellRendererComponent","DEFAULT_PROPS","PlaceholderItem","RowItem","PropsProvider","AnimatedValueProvider","useAnimatedValues","RefProvider","useRefs","DraggableFlatListProvider","useAutoScroll","useStableCallback","ScrollOffsetListener","typedMemo","AnimatedFlatList","createAnimatedComponent","DraggableFlatListInner","props","cellDataRef","containerRef","flatlistRef","keyToIndexRef","propsRef","animationConfigRef","activeCellOffset","activeCellSize","activeIndexAnim","containerSize","scrollOffset","scrollViewSize","spacerIndexAnim","horizontalAnim","placeholderOffset","touchTranslate","autoScrollDistance","panGestureState","isTouchActiveNative","viewableIndexMin","viewableIndexMax","disabled","reset","value","setActiveKey","dragHitSlop","scrollEnabled","activationDistance","activationDistanceProp","activeKey","layoutAnimationDisabled","setLayoutAnimationDisabled","current","enableLayoutAnimationExperimental","keyExtractor","item","index","Error","dataRef","data","dataHasChanged","map","join","setTimeout","forEach","d","i","key","set","drag","get","cellData","measurements","offset","size","onDragBegin","undefined","onContainerLayout","nativeEvent","layout","_props$onContainerLay","width","height","horizontal","call","onListContentSizeChange","w","h","_props$onContentSizeC","onContentSizeChange","onContainerTouchStart","onContainerTouchEnd","extraData","renderItem","createElement","itemKey","onRelease","_props$onRelease","onDragEnd","from","to","newData","splice","onPlaceholderIndexChange","_props$onPlaceholderI","cur","prev","hasMoved","gestureDisabled","panGesture","Pan","onBegin","evt","state","onUpdate","translation","translationX","translationY","onEnd","springTo","onTouchesDown","onTouchesUp","hitSlop","activeOffset","activeOffsetX","activeOffsetY","onScroll","_props$onScrollOffset","onScrollOffsetChange","scrollHandler","contentOffset","x","y","onViewableItemsChanged","info","_props$onViewableItem","viewableIndices","viewableItems","filter","isViewable","min","Math","max","gesture","View","style","containerStyle","ref","onLayout","renderPlaceholder","_extends","scrollEventThrottle","simultaneousHandlers","removeClippedSubviews","DraggableFlatList","flatListRef","MemoizedInner","forwardRef"],"sources":["DraggableFlatList.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { ListRenderItem, FlatListProps, LayoutChangeEvent } from \"react-native\";\nimport {\n  FlatList,\n  Gesture,\n  GestureDetector,\n} from \"react-native-gesture-handler\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedScrollHandler,\n  useSharedValue,\n  withSpring,\n} from \"react-native-reanimated\";\nimport CellRendererComponent from \"./CellRendererComponent\";\nimport { DEFAULT_PROPS, isWeb } from \"../constants\";\nimport PlaceholderItem from \"./PlaceholderItem\";\nimport RowItem from \"./RowItem\";\nimport { DraggableFlatListProps } from \"../types\";\nimport PropsProvider from \"../context/propsContext\";\nimport AnimatedValueProvider, {\n  useAnimatedValues,\n} from \"../context/animatedValueContext\";\nimport RefProvider, { useRefs } from \"../context/refContext\";\nimport DraggableFlatListProvider from \"../context/draggableFlatListContext\";\nimport { useAutoScroll } from \"../hooks/useAutoScroll\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport ScrollOffsetListener from \"./ScrollOffsetListener\";\nimport { typedMemo } from \"../utils\";\n\ntype RNGHFlatListProps<T> = Animated.AnimateProps<\n  FlatListProps<T> & {\n    ref: React.Ref<FlatList<T>>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n  }\n>;\n\ntype OnViewableItemsChangedCallback<T> = Exclude<\n  FlatListProps<T>[\"onViewableItemsChanged\"],\n  undefined | null\n>;\n\nconst AnimatedFlatList = (Animated.createAnimatedComponent(\n  FlatList\n) as unknown) as <T>(props: RNGHFlatListProps<T>) => React.ReactElement;\n\nfunction DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {\n  const {\n    cellDataRef,\n    containerRef,\n    flatlistRef,\n    keyToIndexRef,\n    propsRef,\n    animationConfigRef,\n  } = useRefs<T>();\n  const {\n    activeCellOffset,\n    activeCellSize,\n    activeIndexAnim,\n    containerSize,\n    scrollOffset,\n    scrollViewSize,\n    spacerIndexAnim,\n    horizontalAnim,\n    placeholderOffset,\n    touchTranslate,\n    autoScrollDistance,\n    panGestureState,\n    isTouchActiveNative,\n    viewableIndexMin,\n    viewableIndexMax,\n    disabled,\n  } = useAnimatedValues();\n\n  const reset = useStableCallback(() => {\n    activeIndexAnim.value = -1;\n    spacerIndexAnim.value = -1;\n    touchTranslate.value = 0;\n    activeCellSize.value = -1;\n    activeCellOffset.value = -1;\n    setActiveKey(null);\n  });\n\n  const {\n    dragHitSlop = DEFAULT_PROPS.dragHitSlop,\n    scrollEnabled = DEFAULT_PROPS.scrollEnabled,\n    activationDistance: activationDistanceProp = DEFAULT_PROPS.activationDistance,\n  } = props;\n\n  let [activeKey, setActiveKey] = useState<string | null>(null);\n  const [layoutAnimationDisabled, setLayoutAnimationDisabled] = useState(\n    !propsRef.current.enableLayoutAnimationExperimental\n  );\n\n  const keyExtractor = useStableCallback((item: T, index: number) => {\n    if (!props.keyExtractor) {\n      throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n    }\n    return props.keyExtractor(item, index);\n  });\n\n  const dataRef = useRef(props.data);\n  const dataHasChanged =\n    dataRef.current.map(keyExtractor).join(\"\") !==\n    props.data.map(keyExtractor).join(\"\");\n  dataRef.current = props.data;\n  if (dataHasChanged) {\n    // When data changes make sure `activeKey` is nulled out in the same render pass\n    activeKey = null;\n  }\n\n  useEffect(() => {\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    if (activeKey) {\n      setLayoutAnimationDisabled(true);\n    } else {\n      // setTimeout result of trial-and-error to determine how long to wait before\n      // re-enabling layout animations so that a drag reorder does not trigger it.\n      setTimeout(() => {\n        setLayoutAnimationDisabled(false);\n      }, 100);\n    }\n  }, [activeKey]);\n\n  useLayoutEffect(() => {\n    props.data.forEach((d, i) => {\n      const key = keyExtractor(d, i);\n      keyToIndexRef.current.set(key, i);\n    });\n  }, [props.data, keyExtractor, keyToIndexRef]);\n\n  const drag = useStableCallback((activeKey: string) => {\n    if (disabled.value) return;\n    const index = keyToIndexRef.current.get(activeKey);\n    const cellData = cellDataRef.current.get(activeKey);\n    if (cellData) {\n      activeCellOffset.value = cellData.measurements.offset;\n      activeCellSize.value = cellData.measurements.size;\n    }\n\n    const { onDragBegin } = propsRef.current;\n    if (index !== undefined) {\n      spacerIndexAnim.value = index;\n      activeIndexAnim.value = index;\n      setActiveKey(activeKey);\n      onDragBegin?.(index);\n    }\n  });\n\n  const onContainerLayout = ({\n    nativeEvent: { layout },\n  }: LayoutChangeEvent) => {\n    const { width, height } = layout;\n    containerSize.value = props.horizontal ? width : height;\n    props.onContainerLayout?.({ layout, containerRef });\n  };\n\n  const onListContentSizeChange = (w: number, h: number) => {\n    scrollViewSize.value = props.horizontal ? w : h;\n    props.onContentSizeChange?.(w, h);\n  };\n\n  const onContainerTouchStart = () => {\n    if (!disabled.value) {\n      isTouchActiveNative.value = true;\n    }\n    return false;\n  };\n\n  const onContainerTouchEnd = () => {\n    isTouchActiveNative.value = false;\n  };\n\n  const extraData = useMemo(\n    () => ({\n      activeKey,\n      extraData: props.extraData,\n    }),\n    [activeKey, props.extraData]\n  );\n\n  const renderItem: ListRenderItem<T> = useCallback(\n    ({ item, index }) => {\n      const key = keyExtractor(item, index);\n      if (index !== keyToIndexRef.current.get(key)) {\n        keyToIndexRef.current.set(key, index);\n      }\n\n      return (\n        <RowItem\n          item={item}\n          itemKey={key}\n          renderItem={props.renderItem}\n          drag={drag}\n          extraData={props.extraData}\n        />\n      );\n    },\n    [props.renderItem, props.extraData, drag, keyExtractor]\n  );\n\n  const onRelease = useStableCallback((index: number) => {\n    props.onRelease?.(index);\n  });\n\n  const onDragEnd = useStableCallback(\n    ({ from, to }: { from: number; to: number }) => {\n      const { onDragEnd, data } = props;\n\n      const newData = [...data];\n      if (from !== to) {\n        newData.splice(from, 1);\n        newData.splice(to, 0, data[from]);\n      }\n\n      onDragEnd?.({ from, to, data: newData });\n      reset();\n    }\n  );\n\n  const onPlaceholderIndexChange = useStableCallback((index: number) => {\n    props.onPlaceholderIndexChange?.(index);\n  });\n\n  // Handle case where user ends drag without moving their finger.\n  useAnimatedReaction(\n    () => {\n      return isTouchActiveNative.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && !cur) {\n        const hasMoved = !!touchTranslate.value;\n        if (!hasMoved && activeIndexAnim.value >= 0 && !disabled.value) {\n          runOnJS(onRelease)(activeIndexAnim.value);\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n        }\n      }\n    },\n    [isTouchActiveNative, onDragEnd, onRelease]\n  );\n\n  useAnimatedReaction(\n    () => {\n      return spacerIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (prev !== null && cur !== prev && cur >= 0 && prev >= 0) {\n        runOnJS(onPlaceholderIndexChange)(cur);\n      }\n    },\n    [spacerIndexAnim]\n  );\n\n  const gestureDisabled = useSharedValue(false);\n\n  const panGesture = Gesture.Pan()\n    .onBegin((evt) => {\n      gestureDisabled.value = disabled.value;\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n    })\n    .onUpdate((evt) => {\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n      touchTranslate.value = translation;\n    })\n    .onEnd((evt) => {\n      if (gestureDisabled.value) return;\n      // Set touch val to current translate val\n      isTouchActiveNative.value = false;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n\n      touchTranslate.value = translation + autoScrollDistance.value;\n      panGestureState.value = evt.state;\n\n      // Only call onDragEnd if actually dragging a cell\n      if (activeIndexAnim.value === -1 || disabled.value) return;\n      disabled.value = true;\n      runOnJS(onRelease)(activeIndexAnim.value);\n      const springTo = placeholderOffset.value - activeCellOffset.value;\n      touchTranslate.value = withSpring(\n        springTo,\n        animationConfigRef.value,\n        () => {\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n          disabled.value = false;\n        }\n      );\n    })\n    .onTouchesDown(() => {\n      runOnJS(onContainerTouchStart)();\n    })\n    .onTouchesUp(() => {\n      // Turning this into a worklet causes timing issues. We want it to run\n      // just after the finger lifts.\n      runOnJS(onContainerTouchEnd)();\n    });\n\n  if (dragHitSlop) panGesture.hitSlop(dragHitSlop);\n  if (activationDistanceProp) {\n    const activeOffset = [-activationDistanceProp, activationDistanceProp];\n    if (props.horizontal) {\n      panGesture.activeOffsetX(activeOffset);\n    } else {\n      panGesture.activeOffsetY(activeOffset);\n    }\n  }\n\n  const onScroll = useStableCallback((scrollOffset: number) => {\n    props.onScrollOffsetChange?.(scrollOffset);\n  });\n\n  const scrollHandler = useAnimatedScrollHandler(\n    {\n      onScroll: (evt) => {\n        scrollOffset.value = horizontalAnim.value\n          ? evt.contentOffset.x\n          : evt.contentOffset.y;\n        runOnJS(onScroll)(scrollOffset.value);\n      },\n    },\n    [horizontalAnim]\n  );\n\n  useAutoScroll();\n\n  const onViewableItemsChanged = useStableCallback<\n    OnViewableItemsChangedCallback<T>\n  >((info) => {\n    const viewableIndices = info.viewableItems\n      .filter((item) => item.isViewable)\n      .map((item) => item.index)\n      .filter((index): index is number => typeof index === \"number\");\n\n    const min = Math.min(...viewableIndices);\n    const max = Math.max(...viewableIndices);\n    viewableIndexMin.value = min;\n    viewableIndexMax.value = max;\n    props.onViewableItemsChanged?.(info);\n  });\n\n  return (\n    <DraggableFlatListProvider\n      activeKey={activeKey}\n      keyExtractor={keyExtractor}\n      horizontal={!!props.horizontal}\n      layoutAnimationDisabled={layoutAnimationDisabled}\n    >\n      <GestureDetector gesture={panGesture}>\n        <Animated.View\n          style={props.containerStyle}\n          ref={containerRef}\n          onLayout={onContainerLayout}\n        >\n          {props.renderPlaceholder && (\n            <PlaceholderItem renderPlaceholder={props.renderPlaceholder} />\n          )}\n          <AnimatedFlatList\n            {...props}\n            data={props.data}\n            onViewableItemsChanged={onViewableItemsChanged}\n            CellRendererComponent={CellRendererComponent}\n            ref={flatlistRef}\n            onContentSizeChange={onListContentSizeChange}\n            scrollEnabled={!activeKey && scrollEnabled}\n            renderItem={renderItem}\n            extraData={extraData}\n            keyExtractor={keyExtractor}\n            onScroll={scrollHandler}\n            scrollEventThrottle={16}\n            simultaneousHandlers={props.simultaneousHandlers}\n            removeClippedSubviews={false}\n          />\n          {!!props.onScrollOffsetChange && (\n            <ScrollOffsetListener\n              onScrollOffsetChange={props.onScrollOffsetChange}\n              scrollOffset={scrollOffset}\n            />\n          )}\n        </Animated.View>\n      </GestureDetector>\n    </DraggableFlatListProvider>\n  );\n}\n\nfunction DraggableFlatList<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>> | null\n) {\n  return (\n    <PropsProvider {...props}>\n      <AnimatedValueProvider>\n        <RefProvider flatListRef={ref}>\n          <MemoizedInner {...props} />\n        </RefProvider>\n      </AnimatedValueProvider>\n    </PropsProvider>\n  );\n}\n\nconst MemoizedInner = typedMemo(DraggableFlatListInner);\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport default React.forwardRef(DraggableFlatList) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof DraggableFlatList>;\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/components/NestableDraggableFlatList.js b/lib/module/components/NestableDraggableFlatList.js
index 3bf1f43839a7f63dc3cb378e050b930fd3feddd7..8a36f2edf1ea3e44ca96fbad4c77b0be8bbcce9b 100644
--- a/lib/module/components/NestableDraggableFlatList.js
+++ b/lib/module/components/NestableDraggableFlatList.js
@@ -1,5 +1,4 @@
-function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
-
+function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }
 import React, { useRef, useState } from "react";
 import { findNodeHandle, LogBox } from "react-native";
 import { useDerivedValue, useSharedValue } from "react-native-reanimated";
@@ -7,18 +6,14 @@ import DraggableFlatList from "../components/DraggableFlatList";
 import { useSafeNestableScrollContainerContext } from "../context/nestableScrollContainerContext";
 import { useNestedAutoScroll } from "../hooks/useNestedAutoScroll";
 import { useStableCallback } from "../hooks/useStableCallback";
-
 function NestableDraggableFlatListInner(props, ref) {
   const hasSuppressedWarnings = useRef(false);
-
   if (!hasSuppressedWarnings.current) {
     LogBox.ignoreLogs(["VirtualizedLists should never be nested inside plain ScrollViews with the same orientation because it can break windowing"]); // Ignore log notification by message
     //@ts-ignore
-
     console.reportErrorsAsExceptions = false;
     hasSuppressedWarnings.current = true;
   }
-
   const {
     scrollableRef,
     outerScrollOffset,
@@ -31,46 +26,41 @@ function NestableDraggableFlatListInner(props, ref) {
   const hoverOffset = useDerivedValue(() => {
     return listHoverOffset.value + listVerticalOffset.value;
   }, [listHoverOffset]);
-  useNestedAutoScroll({ ...animVals,
+  useNestedAutoScroll({
+    ...animVals,
     hoverOffset
   });
-  const onListContainerLayout = useStableCallback(async _ref => {
-    let {
-      containerRef
-    } = _ref;
+  const onListContainerLayout = useStableCallback(async ({
+    containerRef
+  }) => {
     const nodeHandle = findNodeHandle(scrollableRef.current);
-
     const onSuccess = (_x, y) => {
       listVerticalOffset.value = y;
     };
-
     const onFail = () => {
       console.log("## nested draggable list measure fail");
-    }; //@ts-ignore
-
-
+    };
+    //@ts-ignore
     containerRef.current.measureLayout(nodeHandle, onSuccess, onFail);
   });
   const onDragBegin = useStableCallback(params => {
     var _props$onDragBegin;
-
     setOuterScrollEnabled(false);
-    (_props$onDragBegin = props.onDragBegin) === null || _props$onDragBegin === void 0 ? void 0 : _props$onDragBegin.call(props, params);
+    (_props$onDragBegin = props.onDragBegin) === null || _props$onDragBegin === void 0 || _props$onDragBegin.call(props, params);
   });
   const onDragEnd = useStableCallback(params => {
     var _props$onDragEnd;
-
     setOuterScrollEnabled(true);
-    (_props$onDragEnd = props.onDragEnd) === null || _props$onDragEnd === void 0 ? void 0 : _props$onDragEnd.call(props, params);
+    (_props$onDragEnd = props.onDragEnd) === null || _props$onDragEnd === void 0 || _props$onDragEnd.call(props, params);
   });
   const onAnimValInit = useStableCallback(params => {
     var _props$onAnimValInit;
-
     setListHoverOffset(params.hoverOffset);
-    setAnimVals({ ...params,
+    setAnimVals({
+      ...params,
       hoverOffset
     });
-    (_props$onAnimValInit = props.onAnimValInit) === null || _props$onAnimValInit === void 0 ? void 0 : _props$onAnimValInit.call(props, params);
+    (_props$onAnimValInit = props.onAnimValInit) === null || _props$onAnimValInit === void 0 || _props$onAnimValInit.call(props, params);
   });
   return /*#__PURE__*/React.createElement(DraggableFlatList, _extends({
     ref: ref,
@@ -83,9 +73,9 @@ function NestableDraggableFlatListInner(props, ref) {
     onDragEnd: onDragEnd,
     onAnimValInit: onAnimValInit
   }));
-} // Generic forwarded ref type assertion taken from:
-// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion
-
+}
 
+// Generic forwarded ref type assertion taken from:
+// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion
 export const NestableDraggableFlatList = /*#__PURE__*/React.forwardRef(NestableDraggableFlatListInner);
 //# sourceMappingURL=NestableDraggableFlatList.js.map
\ No newline at end of file
diff --git a/lib/module/components/NestableDraggableFlatList.js.map b/lib/module/components/NestableDraggableFlatList.js.map
index c6b211e18e9eb670d0034be7b68a53d24bd404e2..fd9eb1050da4a348ed3eae280b196377d9e5e676 100644
--- a/lib/module/components/NestableDraggableFlatList.js.map
+++ b/lib/module/components/NestableDraggableFlatList.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useRef","useState","findNodeHandle","LogBox","useDerivedValue","useSharedValue","DraggableFlatList","useSafeNestableScrollContainerContext","useNestedAutoScroll","useStableCallback","NestableDraggableFlatListInner","props","ref","hasSuppressedWarnings","current","ignoreLogs","console","reportErrorsAsExceptions","scrollableRef","outerScrollOffset","setOuterScrollEnabled","listVerticalOffset","animVals","setAnimVals","defaultHoverOffset","listHoverOffset","setListHoverOffset","hoverOffset","value","onListContainerLayout","containerRef","nodeHandle","onSuccess","_x","y","onFail","log","measureLayout","onDragBegin","params","onDragEnd","onAnimValInit","activationDistance","NestableDraggableFlatList","forwardRef"],"sources":["NestableDraggableFlatList.tsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { findNodeHandle, LogBox } from \"react-native\";\nimport Animated, {\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { DraggableFlatListProps } from \"../types\";\nimport DraggableFlatList from \"../components/DraggableFlatList\";\nimport { useSafeNestableScrollContainerContext } from \"../context/nestableScrollContainerContext\";\nimport { useNestedAutoScroll } from \"../hooks/useNestedAutoScroll\";\nimport { typedMemo } from \"../utils\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport { FlatList } from \"react-native-gesture-handler\";\n\nfunction NestableDraggableFlatListInner<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>>\n) {\n  const hasSuppressedWarnings = useRef(false);\n\n  if (!hasSuppressedWarnings.current) {\n    LogBox.ignoreLogs([\n      \"VirtualizedLists should never be nested inside plain ScrollViews with the same orientation because it can break windowing\",\n    ]); // Ignore log notification by message\n    //@ts-ignore\n    console.reportErrorsAsExceptions = false;\n    hasSuppressedWarnings.current = true;\n  }\n\n  const {\n    scrollableRef,\n    outerScrollOffset,\n    setOuterScrollEnabled,\n  } = useSafeNestableScrollContainerContext();\n\n  const listVerticalOffset = useSharedValue(0);\n  const [animVals, setAnimVals] = useState({});\n  const defaultHoverOffset = useSharedValue(0);\n  const [listHoverOffset, setListHoverOffset] = useState(defaultHoverOffset);\n\n  const hoverOffset = useDerivedValue(() => {\n    return listHoverOffset.value + listVerticalOffset.value;\n  }, [listHoverOffset]);\n\n  useNestedAutoScroll({\n    ...animVals,\n    hoverOffset,\n  });\n\n  const onListContainerLayout = useStableCallback(async ({ containerRef }) => {\n    const nodeHandle = findNodeHandle(scrollableRef.current);\n\n    const onSuccess = (_x: number, y: number) => {\n      listVerticalOffset.value = y;\n    };\n    const onFail = () => {\n      console.log(\"## nested draggable list measure fail\");\n    };\n    //@ts-ignore\n    containerRef.current.measureLayout(nodeHandle, onSuccess, onFail);\n  });\n\n  const onDragBegin: DraggableFlatListProps<T>[\"onDragBegin\"] = useStableCallback(\n    (params) => {\n      setOuterScrollEnabled(false);\n      props.onDragBegin?.(params);\n    }\n  );\n\n  const onDragEnd: DraggableFlatListProps<T>[\"onDragEnd\"] = useStableCallback(\n    (params) => {\n      setOuterScrollEnabled(true);\n      props.onDragEnd?.(params);\n    }\n  );\n\n  const onAnimValInit: DraggableFlatListProps<T>[\"onAnimValInit\"] = useStableCallback(\n    (params) => {\n      setListHoverOffset(params.hoverOffset);\n      setAnimVals({\n        ...params,\n        hoverOffset,\n      });\n      props.onAnimValInit?.(params);\n    }\n  );\n\n  return (\n    <DraggableFlatList\n      ref={ref}\n      onContainerLayout={onListContainerLayout}\n      activationDistance={props.activationDistance || 20}\n      scrollEnabled={false}\n      {...props}\n      outerScrollOffset={outerScrollOffset}\n      onDragBegin={onDragBegin}\n      onDragEnd={onDragEnd}\n      onAnimValInit={onAnimValInit}\n    />\n  );\n}\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport const NestableDraggableFlatList = React.forwardRef(\n  NestableDraggableFlatListInner\n) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof NestableDraggableFlatListInner>;\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["React","useRef","useState","findNodeHandle","LogBox","useDerivedValue","useSharedValue","DraggableFlatList","useSafeNestableScrollContainerContext","useNestedAutoScroll","useStableCallback","NestableDraggableFlatListInner","props","ref","hasSuppressedWarnings","current","ignoreLogs","console","reportErrorsAsExceptions","scrollableRef","outerScrollOffset","setOuterScrollEnabled","listVerticalOffset","animVals","setAnimVals","defaultHoverOffset","listHoverOffset","setListHoverOffset","hoverOffset","value","onListContainerLayout","containerRef","nodeHandle","onSuccess","_x","y","onFail","log","measureLayout","onDragBegin","params","_props$onDragBegin","call","onDragEnd","_props$onDragEnd","onAnimValInit","_props$onAnimValInit","createElement","_extends","onContainerLayout","activationDistance","scrollEnabled","NestableDraggableFlatList","forwardRef"],"sources":["NestableDraggableFlatList.tsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { findNodeHandle, LogBox } from \"react-native\";\nimport Animated, {\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { DraggableFlatListProps } from \"../types\";\nimport DraggableFlatList from \"../components/DraggableFlatList\";\nimport { useSafeNestableScrollContainerContext } from \"../context/nestableScrollContainerContext\";\nimport { useNestedAutoScroll } from \"../hooks/useNestedAutoScroll\";\nimport { typedMemo } from \"../utils\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport { FlatList } from \"react-native-gesture-handler\";\n\nfunction NestableDraggableFlatListInner<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>>\n) {\n  const hasSuppressedWarnings = useRef(false);\n\n  if (!hasSuppressedWarnings.current) {\n    LogBox.ignoreLogs([\n      \"VirtualizedLists should never be nested inside plain ScrollViews with the same orientation because it can break windowing\",\n    ]); // Ignore log notification by message\n    //@ts-ignore\n    console.reportErrorsAsExceptions = false;\n    hasSuppressedWarnings.current = true;\n  }\n\n  const {\n    scrollableRef,\n    outerScrollOffset,\n    setOuterScrollEnabled,\n  } = useSafeNestableScrollContainerContext();\n\n  const listVerticalOffset = useSharedValue(0);\n  const [animVals, setAnimVals] = useState({});\n  const defaultHoverOffset = useSharedValue(0);\n  const [listHoverOffset, setListHoverOffset] = useState(defaultHoverOffset);\n\n  const hoverOffset = useDerivedValue(() => {\n    return listHoverOffset.value + listVerticalOffset.value;\n  }, [listHoverOffset]);\n\n  useNestedAutoScroll({\n    ...animVals,\n    hoverOffset,\n  });\n\n  const onListContainerLayout = useStableCallback(async ({ containerRef }) => {\n    const nodeHandle = findNodeHandle(scrollableRef.current);\n\n    const onSuccess = (_x: number, y: number) => {\n      listVerticalOffset.value = y;\n    };\n    const onFail = () => {\n      console.log(\"## nested draggable list measure fail\");\n    };\n    //@ts-ignore\n    containerRef.current.measureLayout(nodeHandle, onSuccess, onFail);\n  });\n\n  const onDragBegin: DraggableFlatListProps<T>[\"onDragBegin\"] = useStableCallback(\n    (params) => {\n      setOuterScrollEnabled(false);\n      props.onDragBegin?.(params);\n    }\n  );\n\n  const onDragEnd: DraggableFlatListProps<T>[\"onDragEnd\"] = useStableCallback(\n    (params) => {\n      setOuterScrollEnabled(true);\n      props.onDragEnd?.(params);\n    }\n  );\n\n  const onAnimValInit: DraggableFlatListProps<T>[\"onAnimValInit\"] = useStableCallback(\n    (params) => {\n      setListHoverOffset(params.hoverOffset);\n      setAnimVals({\n        ...params,\n        hoverOffset,\n      });\n      props.onAnimValInit?.(params);\n    }\n  );\n\n  return (\n    <DraggableFlatList\n      ref={ref}\n      onContainerLayout={onListContainerLayout}\n      activationDistance={props.activationDistance || 20}\n      scrollEnabled={false}\n      {...props}\n      outerScrollOffset={outerScrollOffset}\n      onDragBegin={onDragBegin}\n      onDragEnd={onDragEnd}\n      onAnimValInit={onAnimValInit}\n    />\n  );\n}\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport const NestableDraggableFlatList = React.forwardRef(\n  NestableDraggableFlatListInner\n) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof NestableDraggableFlatListInner>;\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/components/NestableScrollContainer.js b/lib/module/components/NestableScrollContainer.js
index f7b0e82a8a32209ad8b121b6b0b0fb9d9efc2dbd..ae21a78444e70aa5eeb1687d1c30a286245f2ce3 100644
--- a/lib/module/components/NestableScrollContainer.js
+++ b/lib/module/components/NestableScrollContainer.js
@@ -1,12 +1,10 @@
-function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
-
+function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }
 import React from "react";
 import { ScrollView } from "react-native-gesture-handler";
 import Animated, { useAnimatedScrollHandler } from "react-native-reanimated";
 import { NestableScrollContainerProvider, useSafeNestableScrollContainerContext } from "../context/nestableScrollContainerContext";
 import { useStableCallback } from "../hooks/useStableCallback";
 const AnimatedScrollView = Animated.createAnimatedComponent(ScrollView);
-
 function NestableScrollContainerInner(props) {
   const {
     outerScrollOffset,
@@ -16,10 +14,9 @@ function NestableScrollContainerInner(props) {
     outerScrollEnabled
   } = useSafeNestableScrollContainerContext();
   const onScroll = useAnimatedScrollHandler({
-    onScroll: _ref => {
-      let {
-        contentOffset
-      } = _ref;
+    onScroll: ({
+      contentOffset
+    }) => {
       outerScrollOffset.value = contentOffset.y;
     }
   });
@@ -33,9 +30,8 @@ function NestableScrollContainerInner(props) {
   });
   const onContentSizeChange = useStableCallback((w, h) => {
     var _props$onContentSizeC;
-
     scrollViewSize.value = h;
-    (_props$onContentSizeC = props.onContentSizeChange) === null || _props$onContentSizeC === void 0 ? void 0 : _props$onContentSizeC.call(props, w, h);
+    (_props$onContentSizeC = props.onContentSizeChange) === null || _props$onContentSizeC === void 0 || _props$onContentSizeC.call(props, w, h);
   });
   return /*#__PURE__*/React.createElement(AnimatedScrollView, _extends({}, props, {
     onLayout: onLayout,
@@ -46,7 +42,6 @@ function NestableScrollContainerInner(props) {
     onScroll: onScroll
   }));
 }
-
 export const NestableScrollContainer = /*#__PURE__*/React.forwardRef((props, forwardedRef) => {
   return /*#__PURE__*/React.createElement(NestableScrollContainerProvider, {
     forwardedRef: forwardedRef || undefined
diff --git a/lib/module/components/NestableScrollContainer.js.map b/lib/module/components/NestableScrollContainer.js.map
index 6503e6ff658bcc99dada6e581ce382bc5beef74e..d86e996d7029a9b1e3785eea7c90614d61412321 100644
--- a/lib/module/components/NestableScrollContainer.js.map
+++ b/lib/module/components/NestableScrollContainer.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","ScrollView","Animated","useAnimatedScrollHandler","NestableScrollContainerProvider","useSafeNestableScrollContainerContext","useStableCallback","AnimatedScrollView","createAnimatedComponent","NestableScrollContainerInner","props","outerScrollOffset","containerSize","scrollViewSize","scrollableRef","outerScrollEnabled","onScroll","contentOffset","value","y","onLayout","event","nativeEvent","layout","height","onContentSizeChange","w","h","NestableScrollContainer","forwardRef","forwardedRef","undefined"],"sources":["NestableScrollContainer.tsx"],"sourcesContent":["import React from \"react\";\nimport { LayoutChangeEvent, ScrollViewProps } from \"react-native\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useAnimatedScrollHandler } from \"react-native-reanimated\";\nimport {\n  NestableScrollContainerProvider,\n  useSafeNestableScrollContainerContext,\n} from \"../context/nestableScrollContainerContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\nconst AnimatedScrollView = Animated.createAnimatedComponent(ScrollView);\n\nfunction NestableScrollContainerInner(props: ScrollViewProps) {\n  const {\n    outerScrollOffset,\n    containerSize,\n    scrollViewSize,\n    scrollableRef,\n    outerScrollEnabled,\n  } = useSafeNestableScrollContainerContext();\n\n  const onScroll = useAnimatedScrollHandler({\n    onScroll: ({ contentOffset }) => {\n      outerScrollOffset.value = contentOffset.y;\n    },\n  });\n\n  const onLayout = useStableCallback((event: LayoutChangeEvent) => {\n    const {\n      nativeEvent: { layout },\n    } = event;\n    containerSize.value = layout.height;\n  });\n\n  const onContentSizeChange = useStableCallback((w: number, h: number) => {\n    scrollViewSize.value = h;\n    props.onContentSizeChange?.(w, h);\n  });\n\n  return (\n    <AnimatedScrollView\n      {...props}\n      onLayout={onLayout}\n      onContentSizeChange={onContentSizeChange}\n      scrollEnabled={outerScrollEnabled}\n      ref={scrollableRef}\n      scrollEventThrottle={1}\n      onScroll={onScroll}\n    />\n  );\n}\n\nexport const NestableScrollContainer = React.forwardRef(\n  (props: ScrollViewProps, forwardedRef?: React.ForwardedRef<ScrollView>) => {\n    return (\n      <NestableScrollContainerProvider\n        forwardedRef={\n          (forwardedRef as React.MutableRefObject<ScrollView>) || undefined\n        }\n      >\n        <NestableScrollContainerInner {...props} />\n      </NestableScrollContainerProvider>\n    );\n  }\n);\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,QAA2B,8BAA3B;AACA,OAAOC,QAAP,IAAmBC,wBAAnB,QAAmD,yBAAnD;AACA,SACEC,+BADF,EAEEC,qCAFF,QAGO,2CAHP;AAIA,SAASC,iBAAT,QAAkC,4BAAlC;AAEA,MAAMC,kBAAkB,GAAGL,QAAQ,CAACM,uBAAT,CAAiCP,UAAjC,CAA3B;;AAEA,SAASQ,4BAAT,CAAsCC,KAAtC,EAA8D;EAC5D,MAAM;IACJC,iBADI;IAEJC,aAFI;IAGJC,cAHI;IAIJC,aAJI;IAKJC;EALI,IAMFV,qCAAqC,EANzC;EAQA,MAAMW,QAAQ,GAAGb,wBAAwB,CAAC;IACxCa,QAAQ,EAAE,QAAuB;MAAA,IAAtB;QAAEC;MAAF,CAAsB;MAC/BN,iBAAiB,CAACO,KAAlB,GAA0BD,aAAa,CAACE,CAAxC;IACD;EAHuC,CAAD,CAAzC;EAMA,MAAMC,QAAQ,GAAGd,iBAAiB,CAAEe,KAAD,IAA8B;IAC/D,MAAM;MACJC,WAAW,EAAE;QAAEC;MAAF;IADT,IAEFF,KAFJ;IAGAT,aAAa,CAACM,KAAd,GAAsBK,MAAM,CAACC,MAA7B;EACD,CALiC,CAAlC;EAOA,MAAMC,mBAAmB,GAAGnB,iBAAiB,CAAC,CAACoB,CAAD,EAAYC,CAAZ,KAA0B;IAAA;;IACtEd,cAAc,CAACK,KAAf,GAAuBS,CAAvB;IACA,yBAAAjB,KAAK,CAACe,mBAAN,qFAAAf,KAAK,EAAuBgB,CAAvB,EAA0BC,CAA1B,CAAL;EACD,CAH4C,CAA7C;EAKA,oBACE,oBAAC,kBAAD,eACMjB,KADN;IAEE,QAAQ,EAAEU,QAFZ;IAGE,mBAAmB,EAAEK,mBAHvB;IAIE,aAAa,EAAEV,kBAJjB;IAKE,GAAG,EAAED,aALP;IAME,mBAAmB,EAAE,CANvB;IAOE,QAAQ,EAAEE;EAPZ,GADF;AAWD;;AAED,OAAO,MAAMY,uBAAuB,gBAAG5B,KAAK,CAAC6B,UAAN,CACrC,CAACnB,KAAD,EAAyBoB,YAAzB,KAA2E;EACzE,oBACE,oBAAC,+BAAD;IACE,YAAY,EACTA,YAAD,IAAwDC;EAF5D,gBAKE,oBAAC,4BAAD,EAAkCrB,KAAlC,CALF,CADF;AASD,CAXoC,CAAhC"}
\ No newline at end of file
+{"version":3,"names":["React","ScrollView","Animated","useAnimatedScrollHandler","NestableScrollContainerProvider","useSafeNestableScrollContainerContext","useStableCallback","AnimatedScrollView","createAnimatedComponent","NestableScrollContainerInner","props","outerScrollOffset","containerSize","scrollViewSize","scrollableRef","outerScrollEnabled","onScroll","contentOffset","value","y","onLayout","event","nativeEvent","layout","height","onContentSizeChange","w","h","_props$onContentSizeC","call","createElement","_extends","scrollEnabled","ref","scrollEventThrottle","NestableScrollContainer","forwardRef","forwardedRef","undefined"],"sources":["NestableScrollContainer.tsx"],"sourcesContent":["import React from \"react\";\nimport { LayoutChangeEvent, ScrollViewProps } from \"react-native\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useAnimatedScrollHandler } from \"react-native-reanimated\";\nimport {\n  NestableScrollContainerProvider,\n  useSafeNestableScrollContainerContext,\n} from \"../context/nestableScrollContainerContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\nconst AnimatedScrollView = Animated.createAnimatedComponent(ScrollView);\n\nfunction NestableScrollContainerInner(props: ScrollViewProps) {\n  const {\n    outerScrollOffset,\n    containerSize,\n    scrollViewSize,\n    scrollableRef,\n    outerScrollEnabled,\n  } = useSafeNestableScrollContainerContext();\n\n  const onScroll = useAnimatedScrollHandler({\n    onScroll: ({ contentOffset }) => {\n      outerScrollOffset.value = contentOffset.y;\n    },\n  });\n\n  const onLayout = useStableCallback((event: LayoutChangeEvent) => {\n    const {\n      nativeEvent: { layout },\n    } = event;\n    containerSize.value = layout.height;\n  });\n\n  const onContentSizeChange = useStableCallback((w: number, h: number) => {\n    scrollViewSize.value = h;\n    props.onContentSizeChange?.(w, h);\n  });\n\n  return (\n    <AnimatedScrollView\n      {...props}\n      onLayout={onLayout}\n      onContentSizeChange={onContentSizeChange}\n      scrollEnabled={outerScrollEnabled}\n      ref={scrollableRef}\n      scrollEventThrottle={1}\n      onScroll={onScroll}\n    />\n  );\n}\n\nexport const NestableScrollContainer = React.forwardRef(\n  (props: ScrollViewProps, forwardedRef?: React.ForwardedRef<ScrollView>) => {\n    return (\n      <NestableScrollContainerProvider\n        forwardedRef={\n          (forwardedRef as React.MutableRefObject<ScrollView>) || undefined\n        }\n      >\n        <NestableScrollContainerInner {...props} />\n      </NestableScrollContainerProvider>\n    );\n  }\n);\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,UAAU,QAAQ,8BAA8B;AACzD,OAAOC,QAAQ,IAAIC,wBAAwB,QAAQ,yBAAyB;AAC5E,SACEC,+BAA+B,EAC/BC,qCAAqC,QAChC,2CAA2C;AAClD,SAASC,iBAAiB,QAAQ,4BAA4B;AAE9D,MAAMC,kBAAkB,GAAGL,QAAQ,CAACM,uBAAuB,CAACP,UAAU,CAAC;AAEvE,SAASQ,4BAA4BA,CAACC,KAAsB,EAAE;EAC5D,MAAM;IACJC,iBAAiB;IACjBC,aAAa;IACbC,cAAc;IACdC,aAAa;IACbC;EACF,CAAC,GAAGV,qCAAqC,CAAC,CAAC;EAE3C,MAAMW,QAAQ,GAAGb,wBAAwB,CAAC;IACxCa,QAAQ,EAAEA,CAAC;MAAEC;IAAc,CAAC,KAAK;MAC/BN,iBAAiB,CAACO,KAAK,GAAGD,aAAa,CAACE,CAAC;IAC3C;EACF,CAAC,CAAC;EAEF,MAAMC,QAAQ,GAAGd,iBAAiB,CAAEe,KAAwB,IAAK;IAC/D,MAAM;MACJC,WAAW,EAAE;QAAEC;MAAO;IACxB,CAAC,GAAGF,KAAK;IACTT,aAAa,CAACM,KAAK,GAAGK,MAAM,CAACC,MAAM;EACrC,CAAC,CAAC;EAEF,MAAMC,mBAAmB,GAAGnB,iBAAiB,CAAC,CAACoB,CAAS,EAAEC,CAAS,KAAK;IAAA,IAAAC,qBAAA;IACtEf,cAAc,CAACK,KAAK,GAAGS,CAAC;IACxB,CAAAC,qBAAA,GAAAlB,KAAK,CAACe,mBAAmB,cAAAG,qBAAA,eAAzBA,qBAAA,CAAAC,IAAA,CAAAnB,KAAK,EAAuBgB,CAAC,EAAEC,CAAC,CAAC;EACnC,CAAC,CAAC;EAEF,oBACE3B,KAAA,CAAA8B,aAAA,CAACvB,kBAAkB,EAAAwB,QAAA,KACbrB,KAAK;IACTU,QAAQ,EAAEA,QAAS;IACnBK,mBAAmB,EAAEA,mBAAoB;IACzCO,aAAa,EAAEjB,kBAAmB;IAClCkB,GAAG,EAAEnB,aAAc;IACnBoB,mBAAmB,EAAE,CAAE;IACvBlB,QAAQ,EAAEA;EAAS,EACpB,CAAC;AAEN;AAEA,OAAO,MAAMmB,uBAAuB,gBAAGnC,KAAK,CAACoC,UAAU,CACrD,CAAC1B,KAAsB,EAAE2B,YAA6C,KAAK;EACzE,oBACErC,KAAA,CAAA8B,aAAA,CAAC1B,+BAA+B;IAC9BiC,YAAY,EACTA,YAAY,IAA2CC;EACzD,gBAEDtC,KAAA,CAAA8B,aAAA,CAACrB,4BAA4B,EAAKC,KAAQ,CACX,CAAC;AAEtC,CACF,CAAC","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/components/PlaceholderItem.js b/lib/module/components/PlaceholderItem.js
index b82588e6ce06d52efec2349ccccc91908e6922fc..efa827730673dadd3a5e8273896f5f669d6ae9fe 100644
--- a/lib/module/components/PlaceholderItem.js
+++ b/lib/module/components/PlaceholderItem.js
@@ -5,13 +5,10 @@ import { useAnimatedValues } from "../context/animatedValueContext";
 import { useDraggableFlatListContext } from "../context/draggableFlatListContext";
 import { useRefs } from "../context/refContext";
 import { typedMemo } from "../utils";
-
-function PlaceholderItem(_ref) {
+function PlaceholderItem({
+  renderPlaceholder
+}) {
   var _propsRef$current;
-
-  let {
-    renderPlaceholder
-  } = _ref;
   const [size, setSize] = useState(0);
   const {
     activeCellSize,
@@ -27,8 +24,9 @@ function PlaceholderItem(_ref) {
   const {
     activeKey,
     horizontal
-  } = useDraggableFlatListContext(); // Size does not seem to be respected when it is an animated style
+  } = useDraggableFlatListContext();
 
+  // Size does not seem to be respected when it is an animated style
   useAnimatedReaction(() => {
     return activeCellSize.value;
   }, (cur, prev) => {
@@ -65,6 +63,5 @@ function PlaceholderItem(_ref) {
     index: activeIndex
   }));
 }
-
 export default typedMemo(PlaceholderItem);
 //# sourceMappingURL=PlaceholderItem.js.map
\ No newline at end of file
diff --git a/lib/module/components/PlaceholderItem.js.map b/lib/module/components/PlaceholderItem.js.map
index e981cd7b568bbe049ca659b55df367852532486b..c4b75f29fff62afe3b4ecbbbe04cea714015348e 100644
--- a/lib/module/components/PlaceholderItem.js.map
+++ b/lib/module/components/PlaceholderItem.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useMemo","useState","StyleSheet","Animated","runOnJS","useAnimatedReaction","useAnimatedStyle","useAnimatedValues","useDraggableFlatListContext","useRefs","typedMemo","PlaceholderItem","renderPlaceholder","size","setSize","activeCellSize","placeholderOffset","spacerIndexAnim","horizontalAnim","scrollOffset","keyToIndexRef","propsRef","activeKey","horizontal","value","cur","prev","activeIndex","current","get","undefined","activeItem","data","animStyle","offset","opacity","overflow","transform","translateX","translateY","extraStyle","width","height","absoluteFill","item","index"],"sources":["PlaceholderItem.tsx"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\nimport { RenderPlaceholder } from \"../types\";\nimport { typedMemo } from \"../utils\";\n\ntype Props<T> = {\n  renderPlaceholder?: RenderPlaceholder<T>;\n};\n\nfunction PlaceholderItem<T>({ renderPlaceholder }: Props<T>) {\n  const [size, setSize] = useState(0);\n  const {\n    activeCellSize,\n    placeholderOffset,\n    spacerIndexAnim,\n    horizontalAnim,\n    scrollOffset,\n  } = useAnimatedValues();\n  const { keyToIndexRef, propsRef } = useRefs<T>();\n  const { activeKey, horizontal } = useDraggableFlatListContext();\n\n  // Size does not seem to be respected when it is an animated style\n  useAnimatedReaction(\n    () => {\n      return activeCellSize.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev) {\n        runOnJS(setSize)(cur);\n      }\n    }\n  );\n\n  const activeIndex = activeKey\n    ? keyToIndexRef.current.get(activeKey)\n    : undefined;\n  const activeItem =\n    activeIndex === undefined ? null : propsRef.current?.data[activeIndex];\n\n  const animStyle = useAnimatedStyle(() => {\n    const offset = placeholderOffset.value - scrollOffset.value\n    return {\n        opacity: size >= 0 ? 1 : 0,\n        overflow: 'hidden',\n        transform: [\n          horizontalAnim.value\n            ? { translateX: offset }\n            : { translateY: offset },\n        ],\n      };\n\n  }, [spacerIndexAnim, placeholderOffset, horizontalAnim, scrollOffset, size]);\n\n  const extraStyle = useMemo(() => {\n    return horizontal ? { width: size } : { height: size };\n  }, [horizontal, size])\n\n  return (\n    <Animated.View\n      pointerEvents={activeKey ? \"auto\" : \"none\"}\n      style={[StyleSheet.absoluteFill, animStyle, extraStyle]}\n    >\n      {!activeItem || activeIndex === undefined\n        ? null\n        : renderPlaceholder?.({ item: activeItem, index: activeIndex })}\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(PlaceholderItem);\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,OAAhB,EAAyBC,QAAzB,QAAyC,OAAzC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,QAAP,IACEC,OADF,EAEEC,mBAFF,EAGEC,gBAHF,QAIO,yBAJP;AAKA,SAASC,iBAAT,QAAkC,iCAAlC;AACA,SAASC,2BAAT,QAA4C,qCAA5C;AACA,SAASC,OAAT,QAAwB,uBAAxB;AAEA,SAASC,SAAT,QAA0B,UAA1B;;AAMA,SAASC,eAAT,OAA6D;EAAA;;EAAA,IAAjC;IAAEC;EAAF,CAAiC;EAC3D,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,CAAD,CAAhC;EACA,MAAM;IACJc,cADI;IAEJC,iBAFI;IAGJC,eAHI;IAIJC,cAJI;IAKJC;EALI,IAMFZ,iBAAiB,EANrB;EAOA,MAAM;IAAEa,aAAF;IAAiBC;EAAjB,IAA8BZ,OAAO,EAA3C;EACA,MAAM;IAAEa,SAAF;IAAaC;EAAb,IAA4Bf,2BAA2B,EAA7D,CAV2D,CAY3D;;EACAH,mBAAmB,CACjB,MAAM;IACJ,OAAOU,cAAc,CAACS,KAAtB;EACD,CAHgB,EAIjB,CAACC,GAAD,EAAMC,IAAN,KAAe;IACb,IAAID,GAAG,KAAKC,IAAZ,EAAkB;MAChBtB,OAAO,CAACU,OAAD,CAAP,CAAiBW,GAAjB;IACD;EACF,CARgB,CAAnB;EAWA,MAAME,WAAW,GAAGL,SAAS,GACzBF,aAAa,CAACQ,OAAd,CAAsBC,GAAtB,CAA0BP,SAA1B,CADyB,GAEzBQ,SAFJ;EAGA,MAAMC,UAAU,GACdJ,WAAW,KAAKG,SAAhB,GAA4B,IAA5B,wBAAmCT,QAAQ,CAACO,OAA5C,sDAAmC,kBAAkBI,IAAlB,CAAuBL,WAAvB,CADrC;EAGA,MAAMM,SAAS,GAAG3B,gBAAgB,CAAC,MAAM;IACvC,MAAM4B,MAAM,GAAGlB,iBAAiB,CAACQ,KAAlB,GAA0BL,YAAY,CAACK,KAAtD;IACA,OAAO;MACHW,OAAO,EAAEtB,IAAI,IAAI,CAAR,GAAY,CAAZ,GAAgB,CADtB;MAEHuB,QAAQ,EAAE,QAFP;MAGHC,SAAS,EAAE,CACTnB,cAAc,CAACM,KAAf,GACI;QAAEc,UAAU,EAAEJ;MAAd,CADJ,GAEI;QAAEK,UAAU,EAAEL;MAAd,CAHK;IAHR,CAAP;EAUD,CAZiC,EAY/B,CAACjB,eAAD,EAAkBD,iBAAlB,EAAqCE,cAArC,EAAqDC,YAArD,EAAmEN,IAAnE,CAZ+B,CAAlC;EAcA,MAAM2B,UAAU,GAAGxC,OAAO,CAAC,MAAM;IAC/B,OAAOuB,UAAU,GAAG;MAAEkB,KAAK,EAAE5B;IAAT,CAAH,GAAqB;MAAE6B,MAAM,EAAE7B;IAAV,CAAtC;EACD,CAFyB,EAEvB,CAACU,UAAD,EAAaV,IAAb,CAFuB,CAA1B;EAIA,oBACE,oBAAC,QAAD,CAAU,IAAV;IACE,aAAa,EAAES,SAAS,GAAG,MAAH,GAAY,MADtC;IAEE,KAAK,EAAE,CAACpB,UAAU,CAACyC,YAAZ,EAA0BV,SAA1B,EAAqCO,UAArC;EAFT,GAIG,CAACT,UAAD,IAAeJ,WAAW,KAAKG,SAA/B,GACG,IADH,GAEGlB,iBAFH,aAEGA,iBAFH,uBAEGA,iBAAiB,CAAG;IAAEgC,IAAI,EAAEb,UAAR;IAAoBc,KAAK,EAAElB;EAA3B,CAAH,CANvB,CADF;AAUD;;AAED,eAAejB,SAAS,CAACC,eAAD,CAAxB"}
\ No newline at end of file
+{"version":3,"names":["React","useMemo","useState","StyleSheet","Animated","runOnJS","useAnimatedReaction","useAnimatedStyle","useAnimatedValues","useDraggableFlatListContext","useRefs","typedMemo","PlaceholderItem","renderPlaceholder","_propsRef$current","size","setSize","activeCellSize","placeholderOffset","spacerIndexAnim","horizontalAnim","scrollOffset","keyToIndexRef","propsRef","activeKey","horizontal","value","cur","prev","activeIndex","current","get","undefined","activeItem","data","animStyle","offset","opacity","overflow","transform","translateX","translateY","extraStyle","width","height","createElement","View","pointerEvents","style","absoluteFill","item","index"],"sources":["PlaceholderItem.tsx"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\nimport { RenderPlaceholder } from \"../types\";\nimport { typedMemo } from \"../utils\";\n\ntype Props<T> = {\n  renderPlaceholder?: RenderPlaceholder<T>;\n};\n\nfunction PlaceholderItem<T>({ renderPlaceholder }: Props<T>) {\n  const [size, setSize] = useState(0);\n  const {\n    activeCellSize,\n    placeholderOffset,\n    spacerIndexAnim,\n    horizontalAnim,\n    scrollOffset,\n  } = useAnimatedValues();\n  const { keyToIndexRef, propsRef } = useRefs<T>();\n  const { activeKey, horizontal } = useDraggableFlatListContext();\n\n  // Size does not seem to be respected when it is an animated style\n  useAnimatedReaction(\n    () => {\n      return activeCellSize.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev) {\n        runOnJS(setSize)(cur);\n      }\n    }\n  );\n\n  const activeIndex = activeKey\n    ? keyToIndexRef.current.get(activeKey)\n    : undefined;\n  const activeItem =\n    activeIndex === undefined ? null : propsRef.current?.data[activeIndex];\n\n  const animStyle = useAnimatedStyle(() => {\n    const offset = placeholderOffset.value - scrollOffset.value\n    return {\n        opacity: size >= 0 ? 1 : 0,\n        overflow: 'hidden',\n        transform: [\n          horizontalAnim.value\n            ? { translateX: offset }\n            : { translateY: offset },\n        ],\n      };\n\n  }, [spacerIndexAnim, placeholderOffset, horizontalAnim, scrollOffset, size]);\n\n  const extraStyle = useMemo(() => {\n    return horizontal ? { width: size } : { height: size };\n  }, [horizontal, size])\n\n  return (\n    <Animated.View\n      pointerEvents={activeKey ? \"auto\" : \"none\"}\n      style={[StyleSheet.absoluteFill, animStyle, extraStyle]}\n    >\n      {!activeItem || activeIndex === undefined\n        ? null\n        : renderPlaceholder?.({ item: activeItem, index: activeIndex })}\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(PlaceholderItem);\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAChD,SAASC,UAAU,QAAQ,cAAc;AACzC,OAAOC,QAAQ,IACbC,OAAO,EACPC,mBAAmB,EACnBC,gBAAgB,QACX,yBAAyB;AAChC,SAASC,iBAAiB,QAAQ,iCAAiC;AACnE,SAASC,2BAA2B,QAAQ,qCAAqC;AACjF,SAASC,OAAO,QAAQ,uBAAuB;AAE/C,SAASC,SAAS,QAAQ,UAAU;AAMpC,SAASC,eAAeA,CAAI;EAAEC;AAA4B,CAAC,EAAE;EAAA,IAAAC,iBAAA;EAC3D,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM;IACJe,cAAc;IACdC,iBAAiB;IACjBC,eAAe;IACfC,cAAc;IACdC;EACF,CAAC,GAAGb,iBAAiB,CAAC,CAAC;EACvB,MAAM;IAAEc,aAAa;IAAEC;EAAS,CAAC,GAAGb,OAAO,CAAI,CAAC;EAChD,MAAM;IAAEc,SAAS;IAAEC;EAAW,CAAC,GAAGhB,2BAA2B,CAAC,CAAC;;EAE/D;EACAH,mBAAmB,CACjB,MAAM;IACJ,OAAOW,cAAc,CAACS,KAAK;EAC7B,CAAC,EACD,CAACC,GAAG,EAAEC,IAAI,KAAK;IACb,IAAID,GAAG,KAAKC,IAAI,EAAE;MAChBvB,OAAO,CAACW,OAAO,CAAC,CAACW,GAAG,CAAC;IACvB;EACF,CACF,CAAC;EAED,MAAME,WAAW,GAAGL,SAAS,GACzBF,aAAa,CAACQ,OAAO,CAACC,GAAG,CAACP,SAAS,CAAC,GACpCQ,SAAS;EACb,MAAMC,UAAU,GACdJ,WAAW,KAAKG,SAAS,GAAG,IAAI,IAAAlB,iBAAA,GAAGS,QAAQ,CAACO,OAAO,cAAAhB,iBAAA,uBAAhBA,iBAAA,CAAkBoB,IAAI,CAACL,WAAW,CAAC;EAExE,MAAMM,SAAS,GAAG5B,gBAAgB,CAAC,MAAM;IACvC,MAAM6B,MAAM,GAAGlB,iBAAiB,CAACQ,KAAK,GAAGL,YAAY,CAACK,KAAK;IAC3D,OAAO;MACHW,OAAO,EAAEtB,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;MAC1BuB,QAAQ,EAAE,QAAQ;MAClBC,SAAS,EAAE,CACTnB,cAAc,CAACM,KAAK,GAChB;QAAEc,UAAU,EAAEJ;MAAO,CAAC,GACtB;QAAEK,UAAU,EAAEL;MAAO,CAAC;IAE9B,CAAC;EAEL,CAAC,EAAE,CAACjB,eAAe,EAAED,iBAAiB,EAAEE,cAAc,EAAEC,YAAY,EAAEN,IAAI,CAAC,CAAC;EAE5E,MAAM2B,UAAU,GAAGzC,OAAO,CAAC,MAAM;IAC/B,OAAOwB,UAAU,GAAG;MAAEkB,KAAK,EAAE5B;IAAK,CAAC,GAAG;MAAE6B,MAAM,EAAE7B;IAAK,CAAC;EACxD,CAAC,EAAE,CAACU,UAAU,EAAEV,IAAI,CAAC,CAAC;EAEtB,oBACEf,KAAA,CAAA6C,aAAA,CAACzC,QAAQ,CAAC0C,IAAI;IACZC,aAAa,EAAEvB,SAAS,GAAG,MAAM,GAAG,MAAO;IAC3CwB,KAAK,EAAE,CAAC7C,UAAU,CAAC8C,YAAY,EAAEd,SAAS,EAAEO,UAAU;EAAE,GAEvD,CAACT,UAAU,IAAIJ,WAAW,KAAKG,SAAS,GACrC,IAAI,GACJnB,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAG;IAAEqC,IAAI,EAAEjB,UAAU;IAAEkB,KAAK,EAAEtB;EAAY,CAAC,CACnD,CAAC;AAEpB;AAEA,eAAelB,SAAS,CAACC,eAAe,CAAC","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/components/RowItem.js b/lib/module/components/RowItem.js
index 32076941ec9011ef87d3ea90f2e2ff3e61727518..204373934f6abf0a081a457d7aa83f6b191e9306 100644
--- a/lib/module/components/RowItem.js
+++ b/lib/module/components/RowItem.js
@@ -3,7 +3,6 @@ import { useDraggableFlatListContext } from "../context/draggableFlatListContext
 import { useRefs } from "../context/refContext";
 import { useStableCallback } from "../hooks/useStableCallback";
 import { typedMemo } from "../utils";
-
 function RowItem(props) {
   const propsRef = useRef(props);
   propsRef.current = props;
@@ -21,12 +20,10 @@ function RowItem(props) {
       itemKey,
       debug
     } = propsRef.current;
-
     if (activeKeyRef.current) {
       // already dragging an item, noop
       if (debug) console.log("## attempt to drag item while another item is already active, noop");
     }
-
     drag(itemKey);
   });
   const {
@@ -47,18 +44,15 @@ function RowItem(props) {
     extraData: extraData
   });
 }
-
 export default typedMemo(RowItem);
-
-function Inner(_ref) {
-  let {
-    renderItem,
-    extraData,
+function Inner({
+  renderItem,
+  extraData,
+  ...rest
+}) {
+  return renderItem({
     ...rest
-  } = _ref;
-  return renderItem({ ...rest
   });
 }
-
 const MemoizedInner = typedMemo(Inner);
 //# sourceMappingURL=RowItem.js.map
\ No newline at end of file
diff --git a/lib/module/components/RowItem.js.map b/lib/module/components/RowItem.js.map
index 97bece9e2aebaa9fc775f1fcde05fd525232d50c..2e5395ee0aed5591f3073a72b3e404b20f73089b 100644
--- a/lib/module/components/RowItem.js.map
+++ b/lib/module/components/RowItem.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useRef","useDraggableFlatListContext","useRefs","useStableCallback","typedMemo","RowItem","props","propsRef","current","activeKey","activeKeyRef","keyToIndexRef","drag","itemKey","debug","console","log","renderItem","item","extraData","getIndex","get","Inner","rest","MemoizedInner"],"sources":["RowItem.tsx"],"sourcesContent":["import React, { useRef } from \"react\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport { RenderItem } from \"../types\";\nimport { typedMemo } from \"../utils\";\n\ntype Props<T> = {\n  extraData?: any;\n  drag: (itemKey: string) => void;\n  item: T;\n  renderItem: RenderItem<T>;\n  itemKey: string;\n  debug?: boolean;\n};\n\nfunction RowItem<T>(props: Props<T>) {\n  const propsRef = useRef(props);\n  propsRef.current = props;\n\n  const { activeKey } = useDraggableFlatListContext();\n  const activeKeyRef = useRef(activeKey);\n  activeKeyRef.current = activeKey;\n  const { keyToIndexRef } = useRefs();\n\n  const drag = useStableCallback(() => {\n    const { drag, itemKey, debug } = propsRef.current;\n    if (activeKeyRef.current) {\n      // already dragging an item, noop\n      if (debug)\n        console.log(\n          \"## attempt to drag item while another item is already active, noop\"\n        );\n    }\n    drag(itemKey);\n  });\n\n  const { renderItem, item, itemKey, extraData } = props;\n\n  const getIndex = useStableCallback(() => {\n    return keyToIndexRef.current.get(itemKey);\n  });\n\n  return (\n    <MemoizedInner\n      isActive={activeKey === itemKey}\n      drag={drag}\n      renderItem={renderItem}\n      item={item}\n      getIndex={getIndex}\n      extraData={extraData}\n    />\n  );\n}\n\nexport default typedMemo(RowItem);\n\ntype InnerProps<T> = {\n  isActive: boolean;\n  item: T;\n  getIndex: () => number | undefined;\n  drag: () => void;\n  renderItem: RenderItem<T>;\n  extraData?: any;\n};\n\nfunction Inner<T>({ renderItem, extraData, ...rest }: InnerProps<T>) {\n  return renderItem({ ...rest }) as JSX.Element;\n}\n\nconst MemoizedInner = typedMemo(Inner);\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,SAASC,2BAAT,QAA4C,qCAA5C;AACA,SAASC,OAAT,QAAwB,uBAAxB;AACA,SAASC,iBAAT,QAAkC,4BAAlC;AAEA,SAASC,SAAT,QAA0B,UAA1B;;AAWA,SAASC,OAAT,CAAoBC,KAApB,EAAqC;EACnC,MAAMC,QAAQ,GAAGP,MAAM,CAACM,KAAD,CAAvB;EACAC,QAAQ,CAACC,OAAT,GAAmBF,KAAnB;EAEA,MAAM;IAAEG;EAAF,IAAgBR,2BAA2B,EAAjD;EACA,MAAMS,YAAY,GAAGV,MAAM,CAACS,SAAD,CAA3B;EACAC,YAAY,CAACF,OAAb,GAAuBC,SAAvB;EACA,MAAM;IAAEE;EAAF,IAAoBT,OAAO,EAAjC;EAEA,MAAMU,IAAI,GAAGT,iBAAiB,CAAC,MAAM;IACnC,MAAM;MAAES,IAAF;MAAQC,OAAR;MAAiBC;IAAjB,IAA2BP,QAAQ,CAACC,OAA1C;;IACA,IAAIE,YAAY,CAACF,OAAjB,EAA0B;MACxB;MACA,IAAIM,KAAJ,EACEC,OAAO,CAACC,GAAR,CACE,oEADF;IAGH;;IACDJ,IAAI,CAACC,OAAD,CAAJ;EACD,CAV6B,CAA9B;EAYA,MAAM;IAAEI,UAAF;IAAcC,IAAd;IAAoBL,OAApB;IAA6BM;EAA7B,IAA2Cb,KAAjD;EAEA,MAAMc,QAAQ,GAAGjB,iBAAiB,CAAC,MAAM;IACvC,OAAOQ,aAAa,CAACH,OAAd,CAAsBa,GAAtB,CAA0BR,OAA1B,CAAP;EACD,CAFiC,CAAlC;EAIA,oBACE,oBAAC,aAAD;IACE,QAAQ,EAAEJ,SAAS,KAAKI,OAD1B;IAEE,IAAI,EAAED,IAFR;IAGE,UAAU,EAAEK,UAHd;IAIE,IAAI,EAAEC,IAJR;IAKE,QAAQ,EAAEE,QALZ;IAME,SAAS,EAAED;EANb,EADF;AAUD;;AAED,eAAef,SAAS,CAACC,OAAD,CAAxB;;AAWA,SAASiB,KAAT,OAAqE;EAAA,IAAnD;IAAEL,UAAF;IAAcE,SAAd;IAAyB,GAAGI;EAA5B,CAAmD;EACnE,OAAON,UAAU,CAAC,EAAE,GAAGM;EAAL,CAAD,CAAjB;AACD;;AAED,MAAMC,aAAa,GAAGpB,SAAS,CAACkB,KAAD,CAA/B"}
\ No newline at end of file
+{"version":3,"names":["React","useRef","useDraggableFlatListContext","useRefs","useStableCallback","typedMemo","RowItem","props","propsRef","current","activeKey","activeKeyRef","keyToIndexRef","drag","itemKey","debug","console","log","renderItem","item","extraData","getIndex","get","createElement","MemoizedInner","isActive","Inner","rest"],"sources":["RowItem.tsx"],"sourcesContent":["import React, { useRef } from \"react\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport { RenderItem } from \"../types\";\nimport { typedMemo } from \"../utils\";\n\ntype Props<T> = {\n  extraData?: any;\n  drag: (itemKey: string) => void;\n  item: T;\n  renderItem: RenderItem<T>;\n  itemKey: string;\n  debug?: boolean;\n};\n\nfunction RowItem<T>(props: Props<T>) {\n  const propsRef = useRef(props);\n  propsRef.current = props;\n\n  const { activeKey } = useDraggableFlatListContext();\n  const activeKeyRef = useRef(activeKey);\n  activeKeyRef.current = activeKey;\n  const { keyToIndexRef } = useRefs();\n\n  const drag = useStableCallback(() => {\n    const { drag, itemKey, debug } = propsRef.current;\n    if (activeKeyRef.current) {\n      // already dragging an item, noop\n      if (debug)\n        console.log(\n          \"## attempt to drag item while another item is already active, noop\"\n        );\n    }\n    drag(itemKey);\n  });\n\n  const { renderItem, item, itemKey, extraData } = props;\n\n  const getIndex = useStableCallback(() => {\n    return keyToIndexRef.current.get(itemKey);\n  });\n\n  return (\n    <MemoizedInner\n      isActive={activeKey === itemKey}\n      drag={drag}\n      renderItem={renderItem}\n      item={item}\n      getIndex={getIndex}\n      extraData={extraData}\n    />\n  );\n}\n\nexport default typedMemo(RowItem);\n\ntype InnerProps<T> = {\n  isActive: boolean;\n  item: T;\n  getIndex: () => number | undefined;\n  drag: () => void;\n  renderItem: RenderItem<T>;\n  extraData?: any;\n};\n\nfunction Inner<T>({ renderItem, extraData, ...rest }: InnerProps<T>) {\n  return renderItem({ ...rest }) as JSX.Element;\n}\n\nconst MemoizedInner = typedMemo(Inner);\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,MAAM,QAAQ,OAAO;AACrC,SAASC,2BAA2B,QAAQ,qCAAqC;AACjF,SAASC,OAAO,QAAQ,uBAAuB;AAC/C,SAASC,iBAAiB,QAAQ,4BAA4B;AAE9D,SAASC,SAAS,QAAQ,UAAU;AAWpC,SAASC,OAAOA,CAAIC,KAAe,EAAE;EACnC,MAAMC,QAAQ,GAAGP,MAAM,CAACM,KAAK,CAAC;EAC9BC,QAAQ,CAACC,OAAO,GAAGF,KAAK;EAExB,MAAM;IAAEG;EAAU,CAAC,GAAGR,2BAA2B,CAAC,CAAC;EACnD,MAAMS,YAAY,GAAGV,MAAM,CAACS,SAAS,CAAC;EACtCC,YAAY,CAACF,OAAO,GAAGC,SAAS;EAChC,MAAM;IAAEE;EAAc,CAAC,GAAGT,OAAO,CAAC,CAAC;EAEnC,MAAMU,IAAI,GAAGT,iBAAiB,CAAC,MAAM;IACnC,MAAM;MAAES,IAAI;MAAEC,OAAO;MAAEC;IAAM,CAAC,GAAGP,QAAQ,CAACC,OAAO;IACjD,IAAIE,YAAY,CAACF,OAAO,EAAE;MACxB;MACA,IAAIM,KAAK,EACPC,OAAO,CAACC,GAAG,CACT,oEACF,CAAC;IACL;IACAJ,IAAI,CAACC,OAAO,CAAC;EACf,CAAC,CAAC;EAEF,MAAM;IAAEI,UAAU;IAAEC,IAAI;IAAEL,OAAO;IAAEM;EAAU,CAAC,GAAGb,KAAK;EAEtD,MAAMc,QAAQ,GAAGjB,iBAAiB,CAAC,MAAM;IACvC,OAAOQ,aAAa,CAACH,OAAO,CAACa,GAAG,CAACR,OAAO,CAAC;EAC3C,CAAC,CAAC;EAEF,oBACEd,KAAA,CAAAuB,aAAA,CAACC,aAAa;IACZC,QAAQ,EAAEf,SAAS,KAAKI,OAAQ;IAChCD,IAAI,EAAEA,IAAK;IACXK,UAAU,EAAEA,UAAW;IACvBC,IAAI,EAAEA,IAAK;IACXE,QAAQ,EAAEA,QAAS;IACnBD,SAAS,EAAEA;EAAU,CACtB,CAAC;AAEN;AAEA,eAAef,SAAS,CAACC,OAAO,CAAC;AAWjC,SAASoB,KAAKA,CAAI;EAAER,UAAU;EAAEE,SAAS;EAAE,GAAGO;AAAoB,CAAC,EAAE;EACnE,OAAOT,UAAU,CAAC;IAAE,GAAGS;EAAK,CAAC,CAAC;AAChC;AAEA,MAAMH,aAAa,GAAGnB,SAAS,CAACqB,KAAK,CAAC","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/components/ScrollOffsetListener.js b/lib/module/components/ScrollOffsetListener.js
index b9fe4baa768f3ec4635507d12019c3ac8564b7b8..125eca1e4ea9f6dcfbd33fc8c2ad40d73588cd20 100644
--- a/lib/module/components/ScrollOffsetListener.js
+++ b/lib/module/components/ScrollOffsetListener.js
@@ -1,11 +1,9 @@
 import { runOnJS, useAnimatedReaction } from "react-native-reanimated";
 import { typedMemo } from "../utils";
-
-const ScrollOffsetListener = _ref => {
-  let {
-    scrollOffset,
-    onScrollOffsetChange
-  } = _ref;
+const ScrollOffsetListener = ({
+  scrollOffset,
+  onScrollOffsetChange
+}) => {
   useAnimatedReaction(() => {
     return scrollOffset.value;
   }, (cur, prev) => {
@@ -15,6 +13,5 @@ const ScrollOffsetListener = _ref => {
   }, [scrollOffset]);
   return null;
 };
-
 export default typedMemo(ScrollOffsetListener);
 //# sourceMappingURL=ScrollOffsetListener.js.map
\ No newline at end of file
diff --git a/lib/module/components/ScrollOffsetListener.js.map b/lib/module/components/ScrollOffsetListener.js.map
index 3f1f326d24259f8c0a8f770fd035273ea34ebeb8..8770def57da2a854fed7b673b6025bcc54e527d1 100644
--- a/lib/module/components/ScrollOffsetListener.js.map
+++ b/lib/module/components/ScrollOffsetListener.js.map
@@ -1 +1 @@
-{"version":3,"names":["runOnJS","useAnimatedReaction","typedMemo","ScrollOffsetListener","scrollOffset","onScrollOffsetChange","value","cur","prev"],"sources":["ScrollOffsetListener.tsx"],"sourcesContent":["import Animated, { runOnJS, useAnimatedReaction } from \"react-native-reanimated\";\nimport { typedMemo } from \"../utils\";\n\ntype Props = {\n  scrollOffset: Animated.SharedValue<number>;\n  onScrollOffsetChange: (offset: number) => void;\n};\n\nconst ScrollOffsetListener = ({\n  scrollOffset,\n  onScrollOffsetChange,\n}: Props) => {\n\n  useAnimatedReaction(() => {\n    return scrollOffset.value\n  }, (cur, prev) => {\n    if (cur !== prev) {\n      runOnJS(onScrollOffsetChange)(cur)\n    }\n  }, [scrollOffset])\n\n  return null;\n};\n\nexport default typedMemo(ScrollOffsetListener);\n"],"mappings":"AAAA,SAAmBA,OAAnB,EAA4BC,mBAA5B,QAAuD,yBAAvD;AACA,SAASC,SAAT,QAA0B,UAA1B;;AAOA,MAAMC,oBAAoB,GAAG,QAGhB;EAAA,IAHiB;IAC5BC,YAD4B;IAE5BC;EAF4B,CAGjB;EAEXJ,mBAAmB,CAAC,MAAM;IACxB,OAAOG,YAAY,CAACE,KAApB;EACD,CAFkB,EAEhB,CAACC,GAAD,EAAMC,IAAN,KAAe;IAChB,IAAID,GAAG,KAAKC,IAAZ,EAAkB;MAChBR,OAAO,CAACK,oBAAD,CAAP,CAA8BE,GAA9B;IACD;EACF,CANkB,EAMhB,CAACH,YAAD,CANgB,CAAnB;EAQA,OAAO,IAAP;AACD,CAdD;;AAgBA,eAAeF,SAAS,CAACC,oBAAD,CAAxB"}
\ No newline at end of file
+{"version":3,"names":["runOnJS","useAnimatedReaction","typedMemo","ScrollOffsetListener","scrollOffset","onScrollOffsetChange","value","cur","prev"],"sources":["ScrollOffsetListener.tsx"],"sourcesContent":["import Animated, { runOnJS, useAnimatedReaction } from \"react-native-reanimated\";\nimport { typedMemo } from \"../utils\";\n\ntype Props = {\n  scrollOffset: Animated.SharedValue<number>;\n  onScrollOffsetChange: (offset: number) => void;\n};\n\nconst ScrollOffsetListener = ({\n  scrollOffset,\n  onScrollOffsetChange,\n}: Props) => {\n\n  useAnimatedReaction(() => {\n    return scrollOffset.value\n  }, (cur, prev) => {\n    if (cur !== prev) {\n      runOnJS(onScrollOffsetChange)(cur)\n    }\n  }, [scrollOffset])\n\n  return null;\n};\n\nexport default typedMemo(ScrollOffsetListener);\n"],"mappings":"AAAA,SAAmBA,OAAO,EAAEC,mBAAmB,QAAQ,yBAAyB;AAChF,SAASC,SAAS,QAAQ,UAAU;AAOpC,MAAMC,oBAAoB,GAAGA,CAAC;EAC5BC,YAAY;EACZC;AACK,CAAC,KAAK;EAEXJ,mBAAmB,CAAC,MAAM;IACxB,OAAOG,YAAY,CAACE,KAAK;EAC3B,CAAC,EAAE,CAACC,GAAG,EAAEC,IAAI,KAAK;IAChB,IAAID,GAAG,KAAKC,IAAI,EAAE;MAChBR,OAAO,CAACK,oBAAoB,CAAC,CAACE,GAAG,CAAC;IACpC;EACF,CAAC,EAAE,CAACH,YAAY,CAAC,CAAC;EAElB,OAAO,IAAI;AACb,CAAC;AAED,eAAeF,SAAS,CAACC,oBAAoB,CAAC","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/constants.js b/lib/module/constants.js
index 3864c64add2c08d157da3d516f30d3b904bf9158..ffc74201fe0b419919f6152358400b84ba489e71 100644
--- a/lib/module/constants.js
+++ b/lib/module/constants.js
@@ -1,6 +1,7 @@
 import { Platform } from "react-native";
-import { useSharedValue } from "react-native-reanimated"; // Fire onScrollComplete when within this many px of target offset
+import { useSharedValue } from "react-native-reanimated";
 
+// Fire onScrollComplete when within this many px of target offset
 export const SCROLL_POSITION_TOLERANCE = 2;
 export const DEFAULT_ANIMATION_CONFIG = {
   damping: 20,
@@ -21,10 +22,10 @@ export const DEFAULT_PROPS = {
 };
 export const isIOS = Platform.OS === "ios";
 export const isAndroid = Platform.OS === "android";
-export const isWeb = Platform.OS === "web"; // Is there a better way to check for v2?
+export const isWeb = Platform.OS === "web";
 
+// Is there a better way to check for v2?
 export const isReanimatedV2 = !!useSharedValue;
-
 if (!isReanimatedV2) {
   throw new Error("Your version of react-native-reanimated is too old for react-native-draggable-flatlist!");
 }
diff --git a/lib/module/constants.js.map b/lib/module/constants.js.map
index 3ee6940fe87d03a340128ada1819f57bb3593945..227e2652134e6c3c51976da12fdf581952b78349 100644
--- a/lib/module/constants.js.map
+++ b/lib/module/constants.js.map
@@ -1 +1 @@
-{"version":3,"names":["Platform","useSharedValue","SCROLL_POSITION_TOLERANCE","DEFAULT_ANIMATION_CONFIG","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","DEFAULT_PROPS","autoscrollThreshold","autoscrollSpeed","animationConfig","scrollEnabled","dragHitSlop","activationDistance","dragItemOverflow","isIOS","OS","isAndroid","isWeb","isReanimatedV2","Error"],"sources":["constants.ts"],"sourcesContent":["import { Platform } from \"react-native\";\nimport { PanGestureHandlerProperties } from \"react-native-gesture-handler\";\nimport Animated, {\n  useSharedValue,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\n// Fire onScrollComplete when within this many px of target offset\nexport const SCROLL_POSITION_TOLERANCE = 2;\nexport const DEFAULT_ANIMATION_CONFIG: WithSpringConfig = {\n  damping: 20,\n  mass: 0.2,\n  stiffness: 100,\n  overshootClamping: false,\n  restSpeedThreshold: 0.2,\n  restDisplacementThreshold: 0.2,\n};\n\nexport const DEFAULT_PROPS = {\n  autoscrollThreshold: 30,\n  autoscrollSpeed: 100,\n  animationConfig: DEFAULT_ANIMATION_CONFIG,\n  scrollEnabled: true,\n  dragHitSlop: 0 as PanGestureHandlerProperties[\"hitSlop\"],\n  activationDistance: 0,\n  dragItemOverflow: false,\n};\n\nexport const isIOS = Platform.OS === \"ios\";\nexport const isAndroid = Platform.OS === \"android\";\nexport const isWeb = Platform.OS === \"web\";\n\n// Is there a better way to check for v2?\nexport const isReanimatedV2 = !!useSharedValue;\n\nif (!isReanimatedV2) {\n  throw new Error(\n    \"Your version of react-native-reanimated is too old for react-native-draggable-flatlist!\"\n  );\n}\n"],"mappings":"AAAA,SAASA,QAAT,QAAyB,cAAzB;AAEA,SACEC,cADF,QAGO,yBAHP,C,CAKA;;AACA,OAAO,MAAMC,yBAAyB,GAAG,CAAlC;AACP,OAAO,MAAMC,wBAA0C,GAAG;EACxDC,OAAO,EAAE,EAD+C;EAExDC,IAAI,EAAE,GAFkD;EAGxDC,SAAS,EAAE,GAH6C;EAIxDC,iBAAiB,EAAE,KAJqC;EAKxDC,kBAAkB,EAAE,GALoC;EAMxDC,yBAAyB,EAAE;AAN6B,CAAnD;AASP,OAAO,MAAMC,aAAa,GAAG;EAC3BC,mBAAmB,EAAE,EADM;EAE3BC,eAAe,EAAE,GAFU;EAG3BC,eAAe,EAAEV,wBAHU;EAI3BW,aAAa,EAAE,IAJY;EAK3BC,WAAW,EAAE,CALc;EAM3BC,kBAAkB,EAAE,CANO;EAO3BC,gBAAgB,EAAE;AAPS,CAAtB;AAUP,OAAO,MAAMC,KAAK,GAAGlB,QAAQ,CAACmB,EAAT,KAAgB,KAA9B;AACP,OAAO,MAAMC,SAAS,GAAGpB,QAAQ,CAACmB,EAAT,KAAgB,SAAlC;AACP,OAAO,MAAME,KAAK,GAAGrB,QAAQ,CAACmB,EAAT,KAAgB,KAA9B,C,CAEP;;AACA,OAAO,MAAMG,cAAc,GAAG,CAAC,CAACrB,cAAzB;;AAEP,IAAI,CAACqB,cAAL,EAAqB;EACnB,MAAM,IAAIC,KAAJ,CACJ,yFADI,CAAN;AAGD"}
\ No newline at end of file
+{"version":3,"names":["Platform","useSharedValue","SCROLL_POSITION_TOLERANCE","DEFAULT_ANIMATION_CONFIG","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","DEFAULT_PROPS","autoscrollThreshold","autoscrollSpeed","animationConfig","scrollEnabled","dragHitSlop","activationDistance","dragItemOverflow","isIOS","OS","isAndroid","isWeb","isReanimatedV2","Error"],"sources":["constants.ts"],"sourcesContent":["import { Platform } from \"react-native\";\nimport { PanGestureHandlerProperties } from \"react-native-gesture-handler\";\nimport Animated, {\n  useSharedValue,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\n// Fire onScrollComplete when within this many px of target offset\nexport const SCROLL_POSITION_TOLERANCE = 2;\nexport const DEFAULT_ANIMATION_CONFIG: WithSpringConfig = {\n  damping: 20,\n  mass: 0.2,\n  stiffness: 100,\n  overshootClamping: false,\n  restSpeedThreshold: 0.2,\n  restDisplacementThreshold: 0.2,\n};\n\nexport const DEFAULT_PROPS = {\n  autoscrollThreshold: 30,\n  autoscrollSpeed: 100,\n  animationConfig: DEFAULT_ANIMATION_CONFIG,\n  scrollEnabled: true,\n  dragHitSlop: 0 as PanGestureHandlerProperties[\"hitSlop\"],\n  activationDistance: 0,\n  dragItemOverflow: false,\n};\n\nexport const isIOS = Platform.OS === \"ios\";\nexport const isAndroid = Platform.OS === \"android\";\nexport const isWeb = Platform.OS === \"web\";\n\n// Is there a better way to check for v2?\nexport const isReanimatedV2 = !!useSharedValue;\n\nif (!isReanimatedV2) {\n  throw new Error(\n    \"Your version of react-native-reanimated is too old for react-native-draggable-flatlist!\"\n  );\n}\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,cAAc;AAEvC,SACEC,cAAc,QAET,yBAAyB;;AAEhC;AACA,OAAO,MAAMC,yBAAyB,GAAG,CAAC;AAC1C,OAAO,MAAMC,wBAA0C,GAAG;EACxDC,OAAO,EAAE,EAAE;EACXC,IAAI,EAAE,GAAG;EACTC,SAAS,EAAE,GAAG;EACdC,iBAAiB,EAAE,KAAK;EACxBC,kBAAkB,EAAE,GAAG;EACvBC,yBAAyB,EAAE;AAC7B,CAAC;AAED,OAAO,MAAMC,aAAa,GAAG;EAC3BC,mBAAmB,EAAE,EAAE;EACvBC,eAAe,EAAE,GAAG;EACpBC,eAAe,EAAEV,wBAAwB;EACzCW,aAAa,EAAE,IAAI;EACnBC,WAAW,EAAE,CAA2C;EACxDC,kBAAkB,EAAE,CAAC;EACrBC,gBAAgB,EAAE;AACpB,CAAC;AAED,OAAO,MAAMC,KAAK,GAAGlB,QAAQ,CAACmB,EAAE,KAAK,KAAK;AAC1C,OAAO,MAAMC,SAAS,GAAGpB,QAAQ,CAACmB,EAAE,KAAK,SAAS;AAClD,OAAO,MAAME,KAAK,GAAGrB,QAAQ,CAACmB,EAAE,KAAK,KAAK;;AAE1C;AACA,OAAO,MAAMG,cAAc,GAAG,CAAC,CAACrB,cAAc;AAE9C,IAAI,CAACqB,cAAc,EAAE;EACnB,MAAM,IAAIC,KAAK,CACb,yFACF,CAAC;AACH","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/context/animatedValueContext.js b/lib/module/context/animatedValueContext.js
index e4e558f9a22942e23ed61d34cbfb8bf4016dbe53..af6bd31cce5611172a0bd58cfd7c8c8308c394e0 100644
--- a/lib/module/context/animatedValueContext.js
+++ b/lib/module/context/animatedValueContext.js
@@ -3,10 +3,9 @@ import { useAnimatedReaction, useDerivedValue, useSharedValue } from "react-nati
 import { State as GestureState } from "react-native-gesture-handler";
 import { useProps } from "./propsContext";
 const AnimatedValueContext = /*#__PURE__*/React.createContext(undefined);
-export default function AnimatedValueProvider(_ref) {
-  let {
-    children
-  } = _ref;
+export default function AnimatedValueProvider({
+  children
+}) {
   const value = useSetupAnimatedValues();
   return /*#__PURE__*/React.createElement(AnimatedValueContext.Provider, {
     value: value
@@ -14,14 +13,11 @@ export default function AnimatedValueProvider(_ref) {
 }
 export function useAnimatedValues() {
   const value = useContext(AnimatedValueContext);
-
   if (!value) {
     throw new Error("useAnimatedValues must be called from within AnimatedValueProvider!");
   }
-
   return value;
 }
-
 function useSetupAnimatedValues() {
   const props = useProps();
   const DEFAULT_VAL = useSharedValue(0);
@@ -34,18 +30,17 @@ function useSetupAnimatedValues() {
   const disabled = useSharedValue(false);
   const horizontalAnim = useSharedValue(!!props.horizontal);
   const activeIndexAnim = useSharedValue(-1); // Index of hovering cell
-
   const spacerIndexAnim = useSharedValue(-1); // Index of hovered-over cell
 
   const activeCellSize = useSharedValue(0); // Height or width of acctive cell
-
   const activeCellOffset = useSharedValue(0); // Distance between active cell and edge of container
 
   const scrollOffset = useSharedValue(0);
   const scrollInit = useSharedValue(0);
   const viewableIndexMin = useSharedValue(0);
-  const viewableIndexMax = useSharedValue(0); // If list is nested there may be an outer scrollview
+  const viewableIndexMax = useSharedValue(0);
 
+  // If list is nested there may be an outer scrollview
   const outerScrollOffset = props.outerScrollOffset || DEFAULT_VAL;
   const outerScrollInit = useSharedValue(0);
   useAnimatedReaction(() => {
@@ -62,8 +57,8 @@ function useSetupAnimatedValues() {
   }, []);
   const autoScrollDistance = useDerivedValue(() => {
     if (!isDraggingCell.value) return 0;
-    const innerScrollDiff = scrollOffset.value - scrollInit.value; // If list is nested there may be an outer scroll diff
-
+    const innerScrollDiff = scrollOffset.value - scrollInit.value;
+    // If list is nested there may be an outer scroll diff
     const outerScrollDiff = outerScrollOffset.value - outerScrollInit.value;
     const scrollDiff = innerScrollDiff + outerScrollDiff;
     return scrollDiff;
@@ -77,11 +72,13 @@ function useSetupAnimatedValues() {
     const offsetRelativeToScrollTop = touchPositionDiff.value + activeCellOffset.value;
     const constrained = Math.min(containerMinusActiveCell, Math.max(scrollOffset.value, offsetRelativeToScrollTop));
     const maxTranslateNegative = -activeCellOffset.value;
-    const maxTranslatePositive = scrollViewSize.value - (activeCellOffset.value + activeCellSize.value); // Only constrain the touch position while the finger is on the screen. This allows the active cell
-    // to snap above/below the fold once let go, if the drag ends at the top/bottom of the screen.
+    const maxTranslatePositive = scrollViewSize.value - (activeCellOffset.value + activeCellSize.value);
 
-    const constrainedBase = isTouchActiveNative.value ? constrained - activeCellOffset.value : touchPositionDiff.value; // Make sure item is constrained to the boundaries of the scrollview
+    // Only constrain the touch position while the finger is on the screen. This allows the active cell
+    // to snap above/below the fold once let go, if the drag ends at the top/bottom of the screen.
+    const constrainedBase = isTouchActiveNative.value ? constrained - activeCellOffset.value : touchPositionDiff.value;
 
+    // Make sure item is constrained to the boundaries of the scrollview
     return Math.min(Math.max(constrainedBase, maxTranslateNegative), maxTranslatePositive);
   }, []);
   const hoverAnim = useDerivedValue(() => {
@@ -94,12 +91,12 @@ function useSetupAnimatedValues() {
   useDerivedValue(() => {
     // Reset spacer index when we stop hovering
     const isHovering = activeIndexAnim.value >= 0;
-
     if (!isHovering && spacerIndexAnim.value >= 0) {
       spacerIndexAnim.value = -1;
     }
-  }, []); // Note: this could use a refactor as it combines touch state + cell animation
+  }, []);
 
+  // Note: this could use a refactor as it combines touch state + cell animation
   const resetTouchedCell = useCallback(() => {
     activeCellOffset.value = 0;
     hasMoved.value = 0;
@@ -129,8 +126,7 @@ function useSetupAnimatedValues() {
   }), [activeCellOffset, activeCellSize, activeIndexAnim, containerSize, disabled, horizontalAnim, hoverAnim, hoverOffset, isDraggingCell, isTouchActiveNative, panGestureState, placeholderOffset, resetTouchedCell, scrollOffset, scrollViewSize, spacerIndexAnim, touchPositionDiff, touchTranslate, autoScrollDistance, viewableIndexMin, viewableIndexMax]);
   useEffect(() => {
     var _props$onAnimValInit;
-
-    (_props$onAnimValInit = props.onAnimValInit) === null || _props$onAnimValInit === void 0 ? void 0 : _props$onAnimValInit.call(props, value);
+    (_props$onAnimValInit = props.onAnimValInit) === null || _props$onAnimValInit === void 0 || _props$onAnimValInit.call(props, value);
   }, [value]);
   return value;
 }
diff --git a/lib/module/context/animatedValueContext.js.map b/lib/module/context/animatedValueContext.js.map
index ab6d37c0da05fad4709b622e894ea2efbcc4b817..1556dd7925437f99ecf8c058fef8b337eae56b9a 100644
--- a/lib/module/context/animatedValueContext.js.map
+++ b/lib/module/context/animatedValueContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useMemo","useEffect","useCallback","useContext","useAnimatedReaction","useDerivedValue","useSharedValue","State","GestureState","useProps","AnimatedValueContext","createContext","undefined","AnimatedValueProvider","children","value","useSetupAnimatedValues","useAnimatedValues","Error","props","DEFAULT_VAL","containerSize","scrollViewSize","panGestureState","UNDETERMINED","touchTranslate","isTouchActiveNative","hasMoved","disabled","horizontalAnim","horizontal","activeIndexAnim","spacerIndexAnim","activeCellSize","activeCellOffset","scrollOffset","scrollInit","viewableIndexMin","viewableIndexMax","outerScrollOffset","outerScrollInit","cur","prev","placeholderOffset","isDraggingCell","autoScrollDistance","innerScrollDiff","outerScrollDiff","scrollDiff","touchPositionDiff","extraTranslate","touchPositionDiffConstrained","containerMinusActiveCell","offsetRelativeToScrollTop","constrained","Math","min","max","maxTranslateNegative","maxTranslatePositive","constrainedBase","hoverAnim","dragItemOverflow","hoverOffset","isHovering","resetTouchedCell","onAnimValInit"],"sources":["animatedValueContext.tsx"],"sourcesContent":["import React, { useMemo, useEffect, useCallback, useContext } from \"react\";\nimport {\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { State as GestureState } from \"react-native-gesture-handler\";\nimport { useProps } from \"./propsContext\";\n\nconst AnimatedValueContext = React.createContext<\n  ReturnType<typeof useSetupAnimatedValues> | undefined\n>(undefined);\n\nexport default function AnimatedValueProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const value = useSetupAnimatedValues();\n  return (\n    <AnimatedValueContext.Provider value={value}>\n      {children}\n    </AnimatedValueContext.Provider>\n  );\n}\n\nexport function useAnimatedValues() {\n  const value = useContext(AnimatedValueContext);\n  if (!value) {\n    throw new Error(\n      \"useAnimatedValues must be called from within AnimatedValueProvider!\"\n    );\n  }\n  return value;\n}\n\nfunction useSetupAnimatedValues<T>() {\n  const props = useProps<T>();\n\n  const DEFAULT_VAL = useSharedValue(0);\n\n  const containerSize = useSharedValue(0);\n  const scrollViewSize = useSharedValue(0);\n\n  const panGestureState = useSharedValue<GestureState>(\n    GestureState.UNDETERMINED\n  );\n  const touchTranslate = useSharedValue(0);\n\n  const isTouchActiveNative = useSharedValue(false);\n\n  const hasMoved = useSharedValue(0);\n  const disabled = useSharedValue(false);\n\n  const horizontalAnim = useSharedValue(!!props.horizontal);\n\n  const activeIndexAnim = useSharedValue(-1); // Index of hovering cell\n  const spacerIndexAnim = useSharedValue(-1); // Index of hovered-over cell\n\n  const activeCellSize = useSharedValue(0); // Height or width of acctive cell\n  const activeCellOffset = useSharedValue(0); // Distance between active cell and edge of container\n\n  const scrollOffset = useSharedValue(0);\n  const scrollInit = useSharedValue(0);\n\n  const viewableIndexMin = useSharedValue(0);\n  const viewableIndexMax = useSharedValue(0);\n\n  // If list is nested there may be an outer scrollview\n  const outerScrollOffset = props.outerScrollOffset || DEFAULT_VAL;\n  const outerScrollInit = useSharedValue(0);\n\n  useAnimatedReaction(\n    () => {\n      return activeIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && cur >= 0) {\n        scrollInit.value = scrollOffset.value;\n        outerScrollInit.value = outerScrollOffset.value;\n      }\n    },\n    [outerScrollOffset]\n  );\n\n  const placeholderOffset = useSharedValue(0);\n\n  const isDraggingCell = useDerivedValue(() => {\n    return isTouchActiveNative.value && activeIndexAnim.value >= 0;\n  }, []);\n\n  const autoScrollDistance = useDerivedValue(() => {\n    if (!isDraggingCell.value) return 0;\n    const innerScrollDiff = scrollOffset.value - scrollInit.value;\n    // If list is nested there may be an outer scroll diff\n    const outerScrollDiff = outerScrollOffset.value - outerScrollInit.value;\n    const scrollDiff = innerScrollDiff + outerScrollDiff;\n    return scrollDiff;\n  }, []);\n\n  const touchPositionDiff = useDerivedValue(() => {\n    const extraTranslate = isTouchActiveNative.value\n      ? autoScrollDistance.value\n      : 0;\n    return touchTranslate.value + extraTranslate;\n  }, []);\n\n  const touchPositionDiffConstrained = useDerivedValue(() => {\n    const containerMinusActiveCell =\n      containerSize.value - activeCellSize.value + scrollOffset.value;\n\n    const offsetRelativeToScrollTop =\n      touchPositionDiff.value + activeCellOffset.value;\n    const constrained = Math.min(\n      containerMinusActiveCell,\n      Math.max(scrollOffset.value, offsetRelativeToScrollTop)\n    );\n\n    const maxTranslateNegative = -activeCellOffset.value;\n    const maxTranslatePositive =\n      scrollViewSize.value - (activeCellOffset.value + activeCellSize.value);\n\n    // Only constrain the touch position while the finger is on the screen. This allows the active cell\n    // to snap above/below the fold once let go, if the drag ends at the top/bottom of the screen.\n    const constrainedBase = isTouchActiveNative.value\n      ? constrained - activeCellOffset.value\n      : touchPositionDiff.value;\n\n    // Make sure item is constrained to the boundaries of the scrollview\n    return Math.min(\n      Math.max(constrainedBase, maxTranslateNegative),\n      maxTranslatePositive\n    );\n  }, []);\n\n  const hoverAnim = useDerivedValue(() => {\n    if (activeIndexAnim.value < 0) return 0;\n    return props.dragItemOverflow\n      ? touchPositionDiff.value\n      : touchPositionDiffConstrained.value;\n  }, []);\n\n  const hoverOffset = useDerivedValue(() => {\n    return hoverAnim.value + activeCellOffset.value;\n  }, [hoverAnim, activeCellOffset]);\n\n  useDerivedValue(() => {\n    // Reset spacer index when we stop hovering\n    const isHovering = activeIndexAnim.value >= 0;\n    if (!isHovering && spacerIndexAnim.value >= 0) {\n      spacerIndexAnim.value = -1;\n    }\n  }, []);\n\n  // Note: this could use a refactor as it combines touch state + cell animation\n  const resetTouchedCell = useCallback(() => {\n    activeCellOffset.value = 0;\n    hasMoved.value = 0;\n  }, []);\n\n  const value = useMemo(\n    () => ({\n      activeCellOffset,\n      activeCellSize,\n      activeIndexAnim,\n      containerSize,\n      disabled,\n      horizontalAnim,\n      hoverAnim,\n      hoverOffset,\n      isDraggingCell,\n      isTouchActiveNative,\n      panGestureState,\n      placeholderOffset,\n      resetTouchedCell,\n      scrollOffset,\n      scrollViewSize,\n      spacerIndexAnim,\n      touchPositionDiff,\n      touchTranslate,\n      autoScrollDistance,\n      viewableIndexMin,\n      viewableIndexMax,\n    }),\n    [\n      activeCellOffset,\n      activeCellSize,\n      activeIndexAnim,\n      containerSize,\n      disabled,\n      horizontalAnim,\n      hoverAnim,\n      hoverOffset,\n      isDraggingCell,\n      isTouchActiveNative,\n      panGestureState,\n      placeholderOffset,\n      resetTouchedCell,\n      scrollOffset,\n      scrollViewSize,\n      spacerIndexAnim,\n      touchPositionDiff,\n      touchTranslate,\n      autoScrollDistance,\n      viewableIndexMin,\n      viewableIndexMax,\n    ]\n  );\n\n  useEffect(() => {\n    props.onAnimValInit?.(value);\n  }, [value]);\n\n  return value;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["React","useMemo","useEffect","useCallback","useContext","useAnimatedReaction","useDerivedValue","useSharedValue","State","GestureState","useProps","AnimatedValueContext","createContext","undefined","AnimatedValueProvider","children","value","useSetupAnimatedValues","createElement","Provider","useAnimatedValues","Error","props","DEFAULT_VAL","containerSize","scrollViewSize","panGestureState","UNDETERMINED","touchTranslate","isTouchActiveNative","hasMoved","disabled","horizontalAnim","horizontal","activeIndexAnim","spacerIndexAnim","activeCellSize","activeCellOffset","scrollOffset","scrollInit","viewableIndexMin","viewableIndexMax","outerScrollOffset","outerScrollInit","cur","prev","placeholderOffset","isDraggingCell","autoScrollDistance","innerScrollDiff","outerScrollDiff","scrollDiff","touchPositionDiff","extraTranslate","touchPositionDiffConstrained","containerMinusActiveCell","offsetRelativeToScrollTop","constrained","Math","min","max","maxTranslateNegative","maxTranslatePositive","constrainedBase","hoverAnim","dragItemOverflow","hoverOffset","isHovering","resetTouchedCell","_props$onAnimValInit","onAnimValInit","call"],"sources":["animatedValueContext.tsx"],"sourcesContent":["import React, { useMemo, useEffect, useCallback, useContext } from \"react\";\nimport {\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { State as GestureState } from \"react-native-gesture-handler\";\nimport { useProps } from \"./propsContext\";\n\nconst AnimatedValueContext = React.createContext<\n  ReturnType<typeof useSetupAnimatedValues> | undefined\n>(undefined);\n\nexport default function AnimatedValueProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const value = useSetupAnimatedValues();\n  return (\n    <AnimatedValueContext.Provider value={value}>\n      {children}\n    </AnimatedValueContext.Provider>\n  );\n}\n\nexport function useAnimatedValues() {\n  const value = useContext(AnimatedValueContext);\n  if (!value) {\n    throw new Error(\n      \"useAnimatedValues must be called from within AnimatedValueProvider!\"\n    );\n  }\n  return value;\n}\n\nfunction useSetupAnimatedValues<T>() {\n  const props = useProps<T>();\n\n  const DEFAULT_VAL = useSharedValue(0);\n\n  const containerSize = useSharedValue(0);\n  const scrollViewSize = useSharedValue(0);\n\n  const panGestureState = useSharedValue<GestureState>(\n    GestureState.UNDETERMINED\n  );\n  const touchTranslate = useSharedValue(0);\n\n  const isTouchActiveNative = useSharedValue(false);\n\n  const hasMoved = useSharedValue(0);\n  const disabled = useSharedValue(false);\n\n  const horizontalAnim = useSharedValue(!!props.horizontal);\n\n  const activeIndexAnim = useSharedValue(-1); // Index of hovering cell\n  const spacerIndexAnim = useSharedValue(-1); // Index of hovered-over cell\n\n  const activeCellSize = useSharedValue(0); // Height or width of acctive cell\n  const activeCellOffset = useSharedValue(0); // Distance between active cell and edge of container\n\n  const scrollOffset = useSharedValue(0);\n  const scrollInit = useSharedValue(0);\n\n  const viewableIndexMin = useSharedValue(0);\n  const viewableIndexMax = useSharedValue(0);\n\n  // If list is nested there may be an outer scrollview\n  const outerScrollOffset = props.outerScrollOffset || DEFAULT_VAL;\n  const outerScrollInit = useSharedValue(0);\n\n  useAnimatedReaction(\n    () => {\n      return activeIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && cur >= 0) {\n        scrollInit.value = scrollOffset.value;\n        outerScrollInit.value = outerScrollOffset.value;\n      }\n    },\n    [outerScrollOffset]\n  );\n\n  const placeholderOffset = useSharedValue(0);\n\n  const isDraggingCell = useDerivedValue(() => {\n    return isTouchActiveNative.value && activeIndexAnim.value >= 0;\n  }, []);\n\n  const autoScrollDistance = useDerivedValue(() => {\n    if (!isDraggingCell.value) return 0;\n    const innerScrollDiff = scrollOffset.value - scrollInit.value;\n    // If list is nested there may be an outer scroll diff\n    const outerScrollDiff = outerScrollOffset.value - outerScrollInit.value;\n    const scrollDiff = innerScrollDiff + outerScrollDiff;\n    return scrollDiff;\n  }, []);\n\n  const touchPositionDiff = useDerivedValue(() => {\n    const extraTranslate = isTouchActiveNative.value\n      ? autoScrollDistance.value\n      : 0;\n    return touchTranslate.value + extraTranslate;\n  }, []);\n\n  const touchPositionDiffConstrained = useDerivedValue(() => {\n    const containerMinusActiveCell =\n      containerSize.value - activeCellSize.value + scrollOffset.value;\n\n    const offsetRelativeToScrollTop =\n      touchPositionDiff.value + activeCellOffset.value;\n    const constrained = Math.min(\n      containerMinusActiveCell,\n      Math.max(scrollOffset.value, offsetRelativeToScrollTop)\n    );\n\n    const maxTranslateNegative = -activeCellOffset.value;\n    const maxTranslatePositive =\n      scrollViewSize.value - (activeCellOffset.value + activeCellSize.value);\n\n    // Only constrain the touch position while the finger is on the screen. This allows the active cell\n    // to snap above/below the fold once let go, if the drag ends at the top/bottom of the screen.\n    const constrainedBase = isTouchActiveNative.value\n      ? constrained - activeCellOffset.value\n      : touchPositionDiff.value;\n\n    // Make sure item is constrained to the boundaries of the scrollview\n    return Math.min(\n      Math.max(constrainedBase, maxTranslateNegative),\n      maxTranslatePositive\n    );\n  }, []);\n\n  const hoverAnim = useDerivedValue(() => {\n    if (activeIndexAnim.value < 0) return 0;\n    return props.dragItemOverflow\n      ? touchPositionDiff.value\n      : touchPositionDiffConstrained.value;\n  }, []);\n\n  const hoverOffset = useDerivedValue(() => {\n    return hoverAnim.value + activeCellOffset.value;\n  }, [hoverAnim, activeCellOffset]);\n\n  useDerivedValue(() => {\n    // Reset spacer index when we stop hovering\n    const isHovering = activeIndexAnim.value >= 0;\n    if (!isHovering && spacerIndexAnim.value >= 0) {\n      spacerIndexAnim.value = -1;\n    }\n  }, []);\n\n  // Note: this could use a refactor as it combines touch state + cell animation\n  const resetTouchedCell = useCallback(() => {\n    activeCellOffset.value = 0;\n    hasMoved.value = 0;\n  }, []);\n\n  const value = useMemo(\n    () => ({\n      activeCellOffset,\n      activeCellSize,\n      activeIndexAnim,\n      containerSize,\n      disabled,\n      horizontalAnim,\n      hoverAnim,\n      hoverOffset,\n      isDraggingCell,\n      isTouchActiveNative,\n      panGestureState,\n      placeholderOffset,\n      resetTouchedCell,\n      scrollOffset,\n      scrollViewSize,\n      spacerIndexAnim,\n      touchPositionDiff,\n      touchTranslate,\n      autoScrollDistance,\n      viewableIndexMin,\n      viewableIndexMax,\n    }),\n    [\n      activeCellOffset,\n      activeCellSize,\n      activeIndexAnim,\n      containerSize,\n      disabled,\n      horizontalAnim,\n      hoverAnim,\n      hoverOffset,\n      isDraggingCell,\n      isTouchActiveNative,\n      panGestureState,\n      placeholderOffset,\n      resetTouchedCell,\n      scrollOffset,\n      scrollViewSize,\n      spacerIndexAnim,\n      touchPositionDiff,\n      touchTranslate,\n      autoScrollDistance,\n      viewableIndexMin,\n      viewableIndexMax,\n    ]\n  );\n\n  useEffect(() => {\n    props.onAnimValInit?.(value);\n  }, [value]);\n\n  return value;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/context/cellContext.js b/lib/module/context/cellContext.js
index 68df541f7c6060bd7917ff922c9b01f4665f9298..db38b72f7b26e5586f32ce40174695cc15d14c70 100644
--- a/lib/module/context/cellContext.js
+++ b/lib/module/context/cellContext.js
@@ -1,11 +1,10 @@
 import React, { useContext, useMemo } from "react";
 import { typedMemo } from "../utils";
 const CellContext = /*#__PURE__*/React.createContext(undefined);
-export function CellProvider(_ref) {
-  let {
-    isActive,
-    children
-  } = _ref;
+export function CellProvider({
+  isActive,
+  children
+}) {
   const value = useMemo(() => ({
     isActive
   }), [isActive]);
@@ -16,11 +15,9 @@ export function CellProvider(_ref) {
 export default typedMemo(CellProvider);
 export function useIsActive() {
   const value = useContext(CellContext);
-
   if (!value) {
     throw new Error("useIsActive must be called from within CellProvider!");
   }
-
   return value.isActive;
 }
 //# sourceMappingURL=cellContext.js.map
\ No newline at end of file
diff --git a/lib/module/context/cellContext.js.map b/lib/module/context/cellContext.js.map
index ecab2dc4a0d8f7f45832776a2994063916616e72..841eda10379662f874f4f76551213b9b155b8635 100644
--- a/lib/module/context/cellContext.js.map
+++ b/lib/module/context/cellContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useContext","useMemo","typedMemo","CellContext","createContext","undefined","CellProvider","isActive","children","value","useIsActive","Error"],"sources":["cellContext.tsx"],"sourcesContent":["import React, { useContext, useMemo } from \"react\";\nimport { typedMemo } from \"../utils\";\n\ntype CellContextValue = {\n  isActive: boolean;\n};\n\nconst CellContext = React.createContext<CellContextValue | undefined>(\n  undefined\n);\n\ntype Props = {\n  isActive: boolean;\n  children: React.ReactNode;\n};\n\nexport function CellProvider({ isActive, children }: Props) {\n  const value = useMemo(\n    () => ({\n      isActive,\n    }),\n    [isActive]\n  );\n  return <CellContext.Provider value={value}>{children}</CellContext.Provider>;\n}\n\nexport default typedMemo(CellProvider);\n\nexport function useIsActive() {\n  const value = useContext(CellContext);\n  if (!value) {\n    throw new Error(\"useIsActive must be called from within CellProvider!\");\n  }\n  return value.isActive;\n}\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,OAA5B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,UAA1B;AAMA,MAAMC,WAAW,gBAAGJ,KAAK,CAACK,aAAN,CAClBC,SADkB,CAApB;AASA,OAAO,SAASC,YAAT,OAAqD;EAAA,IAA/B;IAAEC,QAAF;IAAYC;EAAZ,CAA+B;EAC1D,MAAMC,KAAK,GAAGR,OAAO,CACnB,OAAO;IACLM;EADK,CAAP,CADmB,EAInB,CAACA,QAAD,CAJmB,CAArB;EAMA,oBAAO,oBAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAEE;EAA7B,GAAqCD,QAArC,CAAP;AACD;AAED,eAAeN,SAAS,CAACI,YAAD,CAAxB;AAEA,OAAO,SAASI,WAAT,GAAuB;EAC5B,MAAMD,KAAK,GAAGT,UAAU,CAACG,WAAD,CAAxB;;EACA,IAAI,CAACM,KAAL,EAAY;IACV,MAAM,IAAIE,KAAJ,CAAU,sDAAV,CAAN;EACD;;EACD,OAAOF,KAAK,CAACF,QAAb;AACD"}
\ No newline at end of file
+{"version":3,"names":["React","useContext","useMemo","typedMemo","CellContext","createContext","undefined","CellProvider","isActive","children","value","createElement","Provider","useIsActive","Error"],"sources":["cellContext.tsx"],"sourcesContent":["import React, { useContext, useMemo } from \"react\";\nimport { typedMemo } from \"../utils\";\n\ntype CellContextValue = {\n  isActive: boolean;\n};\n\nconst CellContext = React.createContext<CellContextValue | undefined>(\n  undefined\n);\n\ntype Props = {\n  isActive: boolean;\n  children: React.ReactNode;\n};\n\nexport function CellProvider({ isActive, children }: Props) {\n  const value = useMemo(\n    () => ({\n      isActive,\n    }),\n    [isActive]\n  );\n  return <CellContext.Provider value={value}>{children}</CellContext.Provider>;\n}\n\nexport default typedMemo(CellProvider);\n\nexport function useIsActive() {\n  const value = useContext(CellContext);\n  if (!value) {\n    throw new Error(\"useIsActive must be called from within CellProvider!\");\n  }\n  return value.isActive;\n}\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,OAAO,QAAQ,OAAO;AAClD,SAASC,SAAS,QAAQ,UAAU;AAMpC,MAAMC,WAAW,gBAAGJ,KAAK,CAACK,aAAa,CACrCC,SACF,CAAC;AAOD,OAAO,SAASC,YAAYA,CAAC;EAAEC,QAAQ;EAAEC;AAAgB,CAAC,EAAE;EAC1D,MAAMC,KAAK,GAAGR,OAAO,CACnB,OAAO;IACLM;EACF,CAAC,CAAC,EACF,CAACA,QAAQ,CACX,CAAC;EACD,oBAAOR,KAAA,CAAAW,aAAA,CAACP,WAAW,CAACQ,QAAQ;IAACF,KAAK,EAAEA;EAAM,GAAED,QAA+B,CAAC;AAC9E;AAEA,eAAeN,SAAS,CAACI,YAAY,CAAC;AAEtC,OAAO,SAASM,WAAWA,CAAA,EAAG;EAC5B,MAAMH,KAAK,GAAGT,UAAU,CAACG,WAAW,CAAC;EACrC,IAAI,CAACM,KAAK,EAAE;IACV,MAAM,IAAII,KAAK,CAAC,sDAAsD,CAAC;EACzE;EACA,OAAOJ,KAAK,CAACF,QAAQ;AACvB","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/context/draggableFlatListContext.js b/lib/module/context/draggableFlatListContext.js
index 34a1fe8d4abb5a678b161c63b343837cef7dccc1..22a510d45de8578e4250409e554bd0626c413ccd 100644
--- a/lib/module/context/draggableFlatListContext.js
+++ b/lib/module/context/draggableFlatListContext.js
@@ -1,13 +1,12 @@
 import React, { useContext, useMemo } from "react";
 const DraggableFlatListContext = /*#__PURE__*/React.createContext(undefined);
-export default function DraggableFlatListProvider(_ref) {
-  let {
-    activeKey,
-    keyExtractor,
-    horizontal,
-    layoutAnimationDisabled,
-    children
-  } = _ref;
+export default function DraggableFlatListProvider({
+  activeKey,
+  keyExtractor,
+  horizontal,
+  layoutAnimationDisabled,
+  children
+}) {
   const value = useMemo(() => ({
     activeKey,
     keyExtractor,
@@ -20,11 +19,9 @@ export default function DraggableFlatListProvider(_ref) {
 }
 export function useDraggableFlatListContext() {
   const value = useContext(DraggableFlatListContext);
-
   if (!value) {
     throw new Error("useDraggableFlatListContext must be called within DraggableFlatListProvider");
   }
-
   return value;
 }
 //# sourceMappingURL=draggableFlatListContext.js.map
\ No newline at end of file
diff --git a/lib/module/context/draggableFlatListContext.js.map b/lib/module/context/draggableFlatListContext.js.map
index c5f695afa94aa9e58e06eda0bdb86e7643d9ef7b..3bd3db49a50fc3392c4bbc0d09aec6860e698c3a 100644
--- a/lib/module/context/draggableFlatListContext.js.map
+++ b/lib/module/context/draggableFlatListContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useContext","useMemo","DraggableFlatListContext","createContext","undefined","DraggableFlatListProvider","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","children","value","useDraggableFlatListContext","Error"],"sources":["draggableFlatListContext.tsx"],"sourcesContent":["import React, { useContext, useMemo } from \"react\";\n\ntype Props<T> = {\n  activeKey: string | null;\n  keyExtractor: (item: T, index: number) => string;\n  horizontal: boolean;\n  layoutAnimationDisabled: boolean;\n  children: React.ReactNode;\n};\n\ntype DraggableFlatListContextValue<T> = Omit<Props<T>, \"children\">;\n\nconst DraggableFlatListContext = React.createContext<\n  DraggableFlatListContextValue<any> | undefined\n>(undefined);\n\nexport default function DraggableFlatListProvider<T>({\n  activeKey,\n  keyExtractor,\n  horizontal,\n  layoutAnimationDisabled,\n  children,\n}: Props<T>) {\n  const value = useMemo(\n    () => ({\n      activeKey,\n      keyExtractor,\n      horizontal,\n      layoutAnimationDisabled,\n    }),\n    [activeKey, keyExtractor, horizontal, layoutAnimationDisabled]\n  );\n\n  return (\n    <DraggableFlatListContext.Provider value={value}>\n      {children}\n    </DraggableFlatListContext.Provider>\n  );\n}\n\nexport function useDraggableFlatListContext<T>() {\n  const value = useContext(DraggableFlatListContext);\n  if (!value) {\n    throw new Error(\n      \"useDraggableFlatListContext must be called within DraggableFlatListProvider\"\n    );\n  }\n  return value as DraggableFlatListContextValue<T>;\n}\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,OAA5B,QAA2C,OAA3C;AAYA,MAAMC,wBAAwB,gBAAGH,KAAK,CAACI,aAAN,CAE/BC,SAF+B,CAAjC;AAIA,eAAe,SAASC,yBAAT,OAMF;EAAA,IANwC;IACnDC,SADmD;IAEnDC,YAFmD;IAGnDC,UAHmD;IAInDC,uBAJmD;IAKnDC;EALmD,CAMxC;EACX,MAAMC,KAAK,GAAGV,OAAO,CACnB,OAAO;IACLK,SADK;IAELC,YAFK;IAGLC,UAHK;IAILC;EAJK,CAAP,CADmB,EAOnB,CAACH,SAAD,EAAYC,YAAZ,EAA0BC,UAA1B,EAAsCC,uBAAtC,CAPmB,CAArB;EAUA,oBACE,oBAAC,wBAAD,CAA0B,QAA1B;IAAmC,KAAK,EAAEE;EAA1C,GACGD,QADH,CADF;AAKD;AAED,OAAO,SAASE,2BAAT,GAA0C;EAC/C,MAAMD,KAAK,GAAGX,UAAU,CAACE,wBAAD,CAAxB;;EACA,IAAI,CAACS,KAAL,EAAY;IACV,MAAM,IAAIE,KAAJ,CACJ,6EADI,CAAN;EAGD;;EACD,OAAOF,KAAP;AACD"}
\ No newline at end of file
+{"version":3,"names":["React","useContext","useMemo","DraggableFlatListContext","createContext","undefined","DraggableFlatListProvider","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","children","value","createElement","Provider","useDraggableFlatListContext","Error"],"sources":["draggableFlatListContext.tsx"],"sourcesContent":["import React, { useContext, useMemo } from \"react\";\n\ntype Props<T> = {\n  activeKey: string | null;\n  keyExtractor: (item: T, index: number) => string;\n  horizontal: boolean;\n  layoutAnimationDisabled: boolean;\n  children: React.ReactNode;\n};\n\ntype DraggableFlatListContextValue<T> = Omit<Props<T>, \"children\">;\n\nconst DraggableFlatListContext = React.createContext<\n  DraggableFlatListContextValue<any> | undefined\n>(undefined);\n\nexport default function DraggableFlatListProvider<T>({\n  activeKey,\n  keyExtractor,\n  horizontal,\n  layoutAnimationDisabled,\n  children,\n}: Props<T>) {\n  const value = useMemo(\n    () => ({\n      activeKey,\n      keyExtractor,\n      horizontal,\n      layoutAnimationDisabled,\n    }),\n    [activeKey, keyExtractor, horizontal, layoutAnimationDisabled]\n  );\n\n  return (\n    <DraggableFlatListContext.Provider value={value}>\n      {children}\n    </DraggableFlatListContext.Provider>\n  );\n}\n\nexport function useDraggableFlatListContext<T>() {\n  const value = useContext(DraggableFlatListContext);\n  if (!value) {\n    throw new Error(\n      \"useDraggableFlatListContext must be called within DraggableFlatListProvider\"\n    );\n  }\n  return value as DraggableFlatListContextValue<T>;\n}\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,OAAO,QAAQ,OAAO;AAYlD,MAAMC,wBAAwB,gBAAGH,KAAK,CAACI,aAAa,CAElDC,SAAS,CAAC;AAEZ,eAAe,SAASC,yBAAyBA,CAAI;EACnDC,SAAS;EACTC,YAAY;EACZC,UAAU;EACVC,uBAAuB;EACvBC;AACQ,CAAC,EAAE;EACX,MAAMC,KAAK,GAAGV,OAAO,CACnB,OAAO;IACLK,SAAS;IACTC,YAAY;IACZC,UAAU;IACVC;EACF,CAAC,CAAC,EACF,CAACH,SAAS,EAAEC,YAAY,EAAEC,UAAU,EAAEC,uBAAuB,CAC/D,CAAC;EAED,oBACEV,KAAA,CAAAa,aAAA,CAACV,wBAAwB,CAACW,QAAQ;IAACF,KAAK,EAAEA;EAAM,GAC7CD,QACgC,CAAC;AAExC;AAEA,OAAO,SAASI,2BAA2BA,CAAA,EAAM;EAC/C,MAAMH,KAAK,GAAGX,UAAU,CAACE,wBAAwB,CAAC;EAClD,IAAI,CAACS,KAAK,EAAE;IACV,MAAM,IAAII,KAAK,CACb,6EACF,CAAC;EACH;EACA,OAAOJ,KAAK;AACd","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/context/nestableScrollContainerContext.js b/lib/module/context/nestableScrollContainerContext.js
index bc33cb167db16e6279cffffb76f9bcba50a3c1b0..022c8b7624e791352fb60df7281cb1520d2b32fa 100644
--- a/lib/module/context/nestableScrollContainerContext.js
+++ b/lib/module/context/nestableScrollContainerContext.js
@@ -1,11 +1,9 @@
 import React, { useContext, useMemo, useRef, useState } from "react";
 import { useSharedValue } from "react-native-reanimated";
 const NestableScrollContainerContext = /*#__PURE__*/React.createContext(undefined);
-
-function useSetupNestableScrollContextValue(_ref) {
-  let {
-    forwardedRef
-  } = _ref;
+function useSetupNestableScrollContextValue({
+  forwardedRef
+}) {
   const [outerScrollEnabled, setOuterScrollEnabled] = useState(true);
   const scrollViewSize = useSharedValue(0);
   const scrollableRefInner = useRef(null);
@@ -22,12 +20,10 @@ function useSetupNestableScrollContextValue(_ref) {
   }), [outerScrollEnabled]);
   return contextVal;
 }
-
-export function NestableScrollContainerProvider(_ref2) {
-  let {
-    children,
-    forwardedRef
-  } = _ref2;
+export function NestableScrollContainerProvider({
+  children,
+  forwardedRef
+}) {
   const contextVal = useSetupNestableScrollContextValue({
     forwardedRef
   });
@@ -41,11 +37,9 @@ export function useNestableScrollContainerContext() {
 }
 export function useSafeNestableScrollContainerContext() {
   const value = useNestableScrollContainerContext();
-
   if (!value) {
     throw new Error("useSafeNestableScrollContainerContext must be called within a NestableScrollContainerContext.Provider");
   }
-
   return value;
 }
 //# sourceMappingURL=nestableScrollContainerContext.js.map
\ No newline at end of file
diff --git a/lib/module/context/nestableScrollContainerContext.js.map b/lib/module/context/nestableScrollContainerContext.js.map
index 2298ef88e01afe31bcc347c26be70a8913870c93..3fee4ccd72ed36f61ee207bb659683c5d440a076 100644
--- a/lib/module/context/nestableScrollContainerContext.js.map
+++ b/lib/module/context/nestableScrollContainerContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useContext","useMemo","useRef","useState","useSharedValue","NestableScrollContainerContext","createContext","undefined","useSetupNestableScrollContextValue","forwardedRef","outerScrollEnabled","setOuterScrollEnabled","scrollViewSize","scrollableRefInner","scrollableRef","outerScrollOffset","containerSize","contextVal","NestableScrollContainerProvider","children","useNestableScrollContainerContext","value","useSafeNestableScrollContainerContext","Error"],"sources":["nestableScrollContainerContext.tsx"],"sourcesContent":["import React, { useContext, useMemo, useRef, useState } from \"react\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useSharedValue } from \"react-native-reanimated\";\n\ntype NestableScrollContainerContextVal = ReturnType<\n  typeof useSetupNestableScrollContextValue\n>;\nconst NestableScrollContainerContext = React.createContext<\n  NestableScrollContainerContextVal | undefined\n>(undefined);\n\nfunction useSetupNestableScrollContextValue({\n  forwardedRef,\n}: {\n  forwardedRef?: React.MutableRefObject<ScrollView>;\n}) {\n  const [outerScrollEnabled, setOuterScrollEnabled] = useState(true);\n  const scrollViewSize = useSharedValue(0);\n  const scrollableRefInner = useRef<ScrollView>(null);\n  const scrollableRef = forwardedRef || scrollableRefInner;\n  const outerScrollOffset = useSharedValue(0);\n  const containerSize = useSharedValue(0);\n\n  const contextVal = useMemo(\n    () => ({\n      outerScrollEnabled,\n      setOuterScrollEnabled,\n      outerScrollOffset,\n      scrollViewSize,\n      scrollableRef,\n      containerSize,\n    }),\n    [outerScrollEnabled]\n  );\n\n  return contextVal;\n}\n\nexport function NestableScrollContainerProvider({\n  children,\n  forwardedRef,\n}: {\n  children: React.ReactNode;\n  forwardedRef?: React.MutableRefObject<ScrollView>;\n}) {\n  const contextVal = useSetupNestableScrollContextValue({ forwardedRef });\n  return (\n    <NestableScrollContainerContext.Provider value={contextVal}>\n      {children}\n    </NestableScrollContainerContext.Provider>\n  );\n}\n\nexport function useNestableScrollContainerContext() {\n  const value = useContext(NestableScrollContainerContext);\n  return value;\n}\n\nexport function useSafeNestableScrollContainerContext() {\n  const value = useNestableScrollContainerContext();\n  if (!value) {\n    throw new Error(\n      \"useSafeNestableScrollContainerContext must be called within a NestableScrollContainerContext.Provider\"\n    );\n  }\n  return value;\n}\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,OAA5B,EAAqCC,MAArC,EAA6CC,QAA7C,QAA6D,OAA7D;AAEA,SAAmBC,cAAnB,QAAyC,yBAAzC;AAKA,MAAMC,8BAA8B,gBAAGN,KAAK,CAACO,aAAN,CAErCC,SAFqC,CAAvC;;AAIA,SAASC,kCAAT,OAIG;EAAA,IAJyC;IAC1CC;EAD0C,CAIzC;EACD,MAAM,CAACC,kBAAD,EAAqBC,qBAArB,IAA8CR,QAAQ,CAAC,IAAD,CAA5D;EACA,MAAMS,cAAc,GAAGR,cAAc,CAAC,CAAD,CAArC;EACA,MAAMS,kBAAkB,GAAGX,MAAM,CAAa,IAAb,CAAjC;EACA,MAAMY,aAAa,GAAGL,YAAY,IAAII,kBAAtC;EACA,MAAME,iBAAiB,GAAGX,cAAc,CAAC,CAAD,CAAxC;EACA,MAAMY,aAAa,GAAGZ,cAAc,CAAC,CAAD,CAApC;EAEA,MAAMa,UAAU,GAAGhB,OAAO,CACxB,OAAO;IACLS,kBADK;IAELC,qBAFK;IAGLI,iBAHK;IAILH,cAJK;IAKLE,aALK;IAMLE;EANK,CAAP,CADwB,EASxB,CAACN,kBAAD,CATwB,CAA1B;EAYA,OAAOO,UAAP;AACD;;AAED,OAAO,SAASC,+BAAT,QAMJ;EAAA,IAN6C;IAC9CC,QAD8C;IAE9CV;EAF8C,CAM7C;EACD,MAAMQ,UAAU,GAAGT,kCAAkC,CAAC;IAAEC;EAAF,CAAD,CAArD;EACA,oBACE,oBAAC,8BAAD,CAAgC,QAAhC;IAAyC,KAAK,EAAEQ;EAAhD,GACGE,QADH,CADF;AAKD;AAED,OAAO,SAASC,iCAAT,GAA6C;EAClD,MAAMC,KAAK,GAAGrB,UAAU,CAACK,8BAAD,CAAxB;EACA,OAAOgB,KAAP;AACD;AAED,OAAO,SAASC,qCAAT,GAAiD;EACtD,MAAMD,KAAK,GAAGD,iCAAiC,EAA/C;;EACA,IAAI,CAACC,KAAL,EAAY;IACV,MAAM,IAAIE,KAAJ,CACJ,uGADI,CAAN;EAGD;;EACD,OAAOF,KAAP;AACD"}
\ No newline at end of file
+{"version":3,"names":["React","useContext","useMemo","useRef","useState","useSharedValue","NestableScrollContainerContext","createContext","undefined","useSetupNestableScrollContextValue","forwardedRef","outerScrollEnabled","setOuterScrollEnabled","scrollViewSize","scrollableRefInner","scrollableRef","outerScrollOffset","containerSize","contextVal","NestableScrollContainerProvider","children","createElement","Provider","value","useNestableScrollContainerContext","useSafeNestableScrollContainerContext","Error"],"sources":["nestableScrollContainerContext.tsx"],"sourcesContent":["import React, { useContext, useMemo, useRef, useState } from \"react\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useSharedValue } from \"react-native-reanimated\";\n\ntype NestableScrollContainerContextVal = ReturnType<\n  typeof useSetupNestableScrollContextValue\n>;\nconst NestableScrollContainerContext = React.createContext<\n  NestableScrollContainerContextVal | undefined\n>(undefined);\n\nfunction useSetupNestableScrollContextValue({\n  forwardedRef,\n}: {\n  forwardedRef?: React.MutableRefObject<ScrollView>;\n}) {\n  const [outerScrollEnabled, setOuterScrollEnabled] = useState(true);\n  const scrollViewSize = useSharedValue(0);\n  const scrollableRefInner = useRef<ScrollView>(null);\n  const scrollableRef = forwardedRef || scrollableRefInner;\n  const outerScrollOffset = useSharedValue(0);\n  const containerSize = useSharedValue(0);\n\n  const contextVal = useMemo(\n    () => ({\n      outerScrollEnabled,\n      setOuterScrollEnabled,\n      outerScrollOffset,\n      scrollViewSize,\n      scrollableRef,\n      containerSize,\n    }),\n    [outerScrollEnabled]\n  );\n\n  return contextVal;\n}\n\nexport function NestableScrollContainerProvider({\n  children,\n  forwardedRef,\n}: {\n  children: React.ReactNode;\n  forwardedRef?: React.MutableRefObject<ScrollView>;\n}) {\n  const contextVal = useSetupNestableScrollContextValue({ forwardedRef });\n  return (\n    <NestableScrollContainerContext.Provider value={contextVal}>\n      {children}\n    </NestableScrollContainerContext.Provider>\n  );\n}\n\nexport function useNestableScrollContainerContext() {\n  const value = useContext(NestableScrollContainerContext);\n  return value;\n}\n\nexport function useSafeNestableScrollContainerContext() {\n  const value = useNestableScrollContainerContext();\n  if (!value) {\n    throw new Error(\n      \"useSafeNestableScrollContainerContext must be called within a NestableScrollContainerContext.Provider\"\n    );\n  }\n  return value;\n}\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEpE,SAAmBC,cAAc,QAAQ,yBAAyB;AAKlE,MAAMC,8BAA8B,gBAAGN,KAAK,CAACO,aAAa,CAExDC,SAAS,CAAC;AAEZ,SAASC,kCAAkCA,CAAC;EAC1CC;AAGF,CAAC,EAAE;EACD,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAMS,cAAc,GAAGR,cAAc,CAAC,CAAC,CAAC;EACxC,MAAMS,kBAAkB,GAAGX,MAAM,CAAa,IAAI,CAAC;EACnD,MAAMY,aAAa,GAAGL,YAAY,IAAII,kBAAkB;EACxD,MAAME,iBAAiB,GAAGX,cAAc,CAAC,CAAC,CAAC;EAC3C,MAAMY,aAAa,GAAGZ,cAAc,CAAC,CAAC,CAAC;EAEvC,MAAMa,UAAU,GAAGhB,OAAO,CACxB,OAAO;IACLS,kBAAkB;IAClBC,qBAAqB;IACrBI,iBAAiB;IACjBH,cAAc;IACdE,aAAa;IACbE;EACF,CAAC,CAAC,EACF,CAACN,kBAAkB,CACrB,CAAC;EAED,OAAOO,UAAU;AACnB;AAEA,OAAO,SAASC,+BAA+BA,CAAC;EAC9CC,QAAQ;EACRV;AAIF,CAAC,EAAE;EACD,MAAMQ,UAAU,GAAGT,kCAAkC,CAAC;IAAEC;EAAa,CAAC,CAAC;EACvE,oBACEV,KAAA,CAAAqB,aAAA,CAACf,8BAA8B,CAACgB,QAAQ;IAACC,KAAK,EAAEL;EAAW,GACxDE,QACsC,CAAC;AAE9C;AAEA,OAAO,SAASI,iCAAiCA,CAAA,EAAG;EAClD,MAAMD,KAAK,GAAGtB,UAAU,CAACK,8BAA8B,CAAC;EACxD,OAAOiB,KAAK;AACd;AAEA,OAAO,SAASE,qCAAqCA,CAAA,EAAG;EACtD,MAAMF,KAAK,GAAGC,iCAAiC,CAAC,CAAC;EACjD,IAAI,CAACD,KAAK,EAAE;IACV,MAAM,IAAIG,KAAK,CACb,uGACF,CAAC;EACH;EACA,OAAOH,KAAK;AACd","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/context/propsContext.js b/lib/module/context/propsContext.js
index 830dc95e83d0c4064a290a01bc97419ffa1545db..3e425375a408e1eeb68822693cfdf3aae53be8ff 100644
--- a/lib/module/context/propsContext.js
+++ b/lib/module/context/propsContext.js
@@ -1,21 +1,18 @@
 import React, { useContext } from "react";
 const PropsContext = /*#__PURE__*/React.createContext(undefined);
-export default function PropsProvider(_ref) {
-  let {
-    children,
-    ...props
-  } = _ref;
+export default function PropsProvider({
+  children,
+  ...props
+}) {
   return /*#__PURE__*/React.createElement(PropsContext.Provider, {
     value: props
   }, children);
 }
 export function useProps() {
   const value = useContext(PropsContext);
-
   if (!value) {
     throw new Error("useProps must be called from within PropsProvider!");
   }
-
   return value;
 }
 //# sourceMappingURL=propsContext.js.map
\ No newline at end of file
diff --git a/lib/module/context/propsContext.js.map b/lib/module/context/propsContext.js.map
index 280cbd61031c08d75d9e659b939faf1554c1712b..b74ed0502c8b083e6eb64483997474bcd370e930 100644
--- a/lib/module/context/propsContext.js.map
+++ b/lib/module/context/propsContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useContext","PropsContext","createContext","undefined","PropsProvider","children","props","useProps","value","Error"],"sources":["propsContext.tsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { DraggableFlatListProps } from \"../types\";\n\nconst PropsContext = React.createContext<\n  DraggableFlatListProps<any> | undefined\n>(undefined);\n\ntype Props<T> = DraggableFlatListProps<T> & { children: React.ReactNode };\n\nexport default function PropsProvider<T>({ children, ...props }: Props<T>) {\n  return (\n    <PropsContext.Provider value={props}>{children}</PropsContext.Provider>\n  );\n}\n\nexport function useProps<T>() {\n  const value = useContext(PropsContext) as\n    | DraggableFlatListProps<T>\n    | undefined;\n  if (!value) {\n    throw new Error(\"useProps must be called from within PropsProvider!\");\n  }\n  return value;\n}\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AAGA,MAAMC,YAAY,gBAAGF,KAAK,CAACG,aAAN,CAEnBC,SAFmB,CAArB;AAMA,eAAe,SAASC,aAAT,OAA4D;EAAA,IAAlC;IAAEC,QAAF;IAAY,GAAGC;EAAf,CAAkC;EACzE,oBACE,oBAAC,YAAD,CAAc,QAAd;IAAuB,KAAK,EAAEA;EAA9B,GAAsCD,QAAtC,CADF;AAGD;AAED,OAAO,SAASE,QAAT,GAAuB;EAC5B,MAAMC,KAAK,GAAGR,UAAU,CAACC,YAAD,CAAxB;;EAGA,IAAI,CAACO,KAAL,EAAY;IACV,MAAM,IAAIC,KAAJ,CAAU,oDAAV,CAAN;EACD;;EACD,OAAOD,KAAP;AACD"}
\ No newline at end of file
+{"version":3,"names":["React","useContext","PropsContext","createContext","undefined","PropsProvider","children","props","createElement","Provider","value","useProps","Error"],"sources":["propsContext.tsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { DraggableFlatListProps } from \"../types\";\n\nconst PropsContext = React.createContext<\n  DraggableFlatListProps<any> | undefined\n>(undefined);\n\ntype Props<T> = DraggableFlatListProps<T> & { children: React.ReactNode };\n\nexport default function PropsProvider<T>({ children, ...props }: Props<T>) {\n  return (\n    <PropsContext.Provider value={props}>{children}</PropsContext.Provider>\n  );\n}\n\nexport function useProps<T>() {\n  const value = useContext(PropsContext) as\n    | DraggableFlatListProps<T>\n    | undefined;\n  if (!value) {\n    throw new Error(\"useProps must be called from within PropsProvider!\");\n  }\n  return value;\n}\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AAGzC,MAAMC,YAAY,gBAAGF,KAAK,CAACG,aAAa,CAEtCC,SAAS,CAAC;AAIZ,eAAe,SAASC,aAAaA,CAAI;EAAEC,QAAQ;EAAE,GAAGC;AAAgB,CAAC,EAAE;EACzE,oBACEP,KAAA,CAAAQ,aAAA,CAACN,YAAY,CAACO,QAAQ;IAACC,KAAK,EAAEH;EAAM,GAAED,QAAgC,CAAC;AAE3E;AAEA,OAAO,SAASK,QAAQA,CAAA,EAAM;EAC5B,MAAMD,KAAK,GAAGT,UAAU,CAACC,YAAY,CAExB;EACb,IAAI,CAACQ,KAAK,EAAE;IACV,MAAM,IAAIE,KAAK,CAAC,oDAAoD,CAAC;EACvE;EACA,OAAOF,KAAK;AACd","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/context/refContext.js b/lib/module/context/refContext.js
index d2c13bad5bd811064a8ee8998285a280548423e4..573c61b00a9c10c54f2e948c72b53f529d1a19e4 100644
--- a/lib/module/context/refContext.js
+++ b/lib/module/context/refContext.js
@@ -1,13 +1,13 @@
 import React, { useContext } from "react";
 import { useMemo, useRef } from "react";
+import { useSharedValue } from "react-native-reanimated";
 import { DEFAULT_PROPS } from "../constants";
 import { useProps } from "./propsContext";
 const RefContext = /*#__PURE__*/React.createContext(undefined);
-export default function RefProvider(_ref) {
-  let {
-    children,
-    flatListRef
-  } = _ref;
+export default function RefProvider({
+  children,
+  flatListRef
+}) {
   const value = useSetupRefs({
     flatListRef
   });
@@ -17,35 +17,34 @@ export default function RefProvider(_ref) {
 }
 export function useRefs() {
   const value = useContext(RefContext);
-
   if (!value) {
     throw new Error("useRefs must be called from within a RefContext.Provider!");
   }
-
   return value;
 }
-
-function useSetupRefs(_ref2) {
-  let {
-    flatListRef: flatListRefProp
-  } = _ref2;
+function useSetupRefs({
+  flatListRef: flatListRefProp
+}) {
   const props = useProps();
   const {
     animationConfig = DEFAULT_PROPS.animationConfig
   } = props;
   const propsRef = useRef(props);
   propsRef.current = props;
-  const animConfig = { ...DEFAULT_PROPS.animationConfig,
+  const animConfig = {
+    ...DEFAULT_PROPS.animationConfig,
     ...animationConfig
   };
-  const animationConfigRef = useRef(animConfig);
-  animationConfigRef.current = animConfig;
+  const animationConfigRef = useSharedValue(animConfig);
+  animationConfigRef.value = animConfig;
   const cellDataRef = useRef(new Map());
   const keyToIndexRef = useRef(new Map());
   const containerRef = useRef(null);
   const flatlistRefInternal = useRef(null);
   const flatlistRef = flatListRefProp || flatlistRefInternal;
-  const scrollViewRef = useRef(null); // useEffect(() => {
+  const scrollViewRef = useRef(null);
+
+  // useEffect(() => {
   //   // This is a workaround for the fact that RN does not respect refs passed in
   //   // to renderScrollViewComponent underlying ScrollView (currently not used but
   //   // may need to add if we want to use reanimated scrollTo in the future)
diff --git a/lib/module/context/refContext.js.map b/lib/module/context/refContext.js.map
index 756bb024fa2c0ad4c5fb46899f475e3342ec1715..22ccfc709862ce6aa36a5bf54d3249d9226989fa 100644
--- a/lib/module/context/refContext.js.map
+++ b/lib/module/context/refContext.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useContext","useMemo","useRef","DEFAULT_PROPS","useProps","RefContext","createContext","undefined","RefProvider","children","flatListRef","value","useSetupRefs","useRefs","Error","flatListRefProp","props","animationConfig","propsRef","current","animConfig","animationConfigRef","cellDataRef","Map","keyToIndexRef","containerRef","flatlistRefInternal","flatlistRef","scrollViewRef","refs"],"sources":["refContext.tsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useMemo, useRef } from \"react\";\nimport { FlatList } from \"react-native-gesture-handler\";\nimport Animated, { WithSpringConfig } from \"react-native-reanimated\";\nimport { DEFAULT_PROPS } from \"../constants\";\nimport { useProps } from \"./propsContext\";\nimport { CellData, DraggableFlatListProps } from \"../types\";\n\ntype RefContextValue<T> = {\n  propsRef: React.MutableRefObject<DraggableFlatListProps<T>>;\n  animationConfigRef: React.MutableRefObject<WithSpringConfig>;\n  cellDataRef: React.MutableRefObject<Map<string, CellData>>;\n  keyToIndexRef: React.MutableRefObject<Map<string, number>>;\n  containerRef: React.RefObject<Animated.View>;\n  flatlistRef: React.RefObject<FlatList<T>> | React.ForwardedRef<FlatList<T>>;\n  scrollViewRef: React.RefObject<Animated.ScrollView>;\n};\nconst RefContext = React.createContext<RefContextValue<any> | undefined>(\n  undefined\n);\n\nexport default function RefProvider<T>({\n  children,\n  flatListRef,\n}: {\n  children: React.ReactNode;\n  flatListRef?: React.ForwardedRef<FlatList<T>> | null;\n}) {\n  const value = useSetupRefs<T>({ flatListRef });\n  return <RefContext.Provider value={value}>{children}</RefContext.Provider>;\n}\n\nexport function useRefs<T>() {\n  const value = useContext(RefContext);\n  if (!value) {\n    throw new Error(\n      \"useRefs must be called from within a RefContext.Provider!\"\n    );\n  }\n  return value as RefContextValue<T>;\n}\n\nfunction useSetupRefs<T>({\n  flatListRef: flatListRefProp,\n}: {\n  flatListRef?: React.ForwardedRef<FlatList<T>> | null;\n}) {\n  const props = useProps<T>();\n  const { animationConfig = DEFAULT_PROPS.animationConfig } = props;\n\n  const propsRef = useRef(props);\n  propsRef.current = props;\n  const animConfig = {\n    ...DEFAULT_PROPS.animationConfig,\n    ...animationConfig,\n  } as WithSpringConfig;\n  const animationConfigRef = useRef(animConfig);\n  animationConfigRef.current = animConfig;\n\n  const cellDataRef = useRef(new Map<string, CellData>());\n  const keyToIndexRef = useRef(new Map<string, number>());\n  const containerRef = useRef<Animated.View>(null);\n  const flatlistRefInternal = useRef<FlatList<T>>(null);\n  const flatlistRef = flatListRefProp || flatlistRefInternal;\n  const scrollViewRef = useRef<Animated.ScrollView>(null);\n\n  // useEffect(() => {\n  //   // This is a workaround for the fact that RN does not respect refs passed in\n  //   // to renderScrollViewComponent underlying ScrollView (currently not used but\n  //   // may need to add if we want to use reanimated scrollTo in the future)\n  //   //@ts-ignore\n  //   const scrollRef = flatlistRef.current?.getNativeScrollRef();\n  //   if (!scrollViewRef.current) {\n  //     //@ts-ignore\n  //     scrollViewRef(scrollRef);\n  //   }\n  // }, []);\n\n  const refs = useMemo(\n    () => ({\n      animationConfigRef,\n      cellDataRef,\n      containerRef,\n      flatlistRef,\n      keyToIndexRef,\n      propsRef,\n      scrollViewRef,\n    }),\n    []\n  );\n\n  return refs;\n}\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,OAAT,EAAkBC,MAAlB,QAAgC,OAAhC;AAGA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,QAAT,QAAyB,gBAAzB;AAYA,MAAMC,UAAU,gBAAGN,KAAK,CAACO,aAAN,CACjBC,SADiB,CAAnB;AAIA,eAAe,SAASC,WAAT,OAMZ;EAAA,IANoC;IACrCC,QADqC;IAErCC;EAFqC,CAMpC;EACD,MAAMC,KAAK,GAAGC,YAAY,CAAI;IAAEF;EAAF,CAAJ,CAA1B;EACA,oBAAO,oBAAC,UAAD,CAAY,QAAZ;IAAqB,KAAK,EAAEC;EAA5B,GAAoCF,QAApC,CAAP;AACD;AAED,OAAO,SAASI,OAAT,GAAsB;EAC3B,MAAMF,KAAK,GAAGX,UAAU,CAACK,UAAD,CAAxB;;EACA,IAAI,CAACM,KAAL,EAAY;IACV,MAAM,IAAIG,KAAJ,CACJ,2DADI,CAAN;EAGD;;EACD,OAAOH,KAAP;AACD;;AAED,SAASC,YAAT,QAIG;EAAA,IAJsB;IACvBF,WAAW,EAAEK;EADU,CAItB;EACD,MAAMC,KAAK,GAAGZ,QAAQ,EAAtB;EACA,MAAM;IAAEa,eAAe,GAAGd,aAAa,CAACc;EAAlC,IAAsDD,KAA5D;EAEA,MAAME,QAAQ,GAAGhB,MAAM,CAACc,KAAD,CAAvB;EACAE,QAAQ,CAACC,OAAT,GAAmBH,KAAnB;EACA,MAAMI,UAAU,GAAG,EACjB,GAAGjB,aAAa,CAACc,eADA;IAEjB,GAAGA;EAFc,CAAnB;EAIA,MAAMI,kBAAkB,GAAGnB,MAAM,CAACkB,UAAD,CAAjC;EACAC,kBAAkB,CAACF,OAAnB,GAA6BC,UAA7B;EAEA,MAAME,WAAW,GAAGpB,MAAM,CAAC,IAAIqB,GAAJ,EAAD,CAA1B;EACA,MAAMC,aAAa,GAAGtB,MAAM,CAAC,IAAIqB,GAAJ,EAAD,CAA5B;EACA,MAAME,YAAY,GAAGvB,MAAM,CAAgB,IAAhB,CAA3B;EACA,MAAMwB,mBAAmB,GAAGxB,MAAM,CAAc,IAAd,CAAlC;EACA,MAAMyB,WAAW,GAAGZ,eAAe,IAAIW,mBAAvC;EACA,MAAME,aAAa,GAAG1B,MAAM,CAAsB,IAAtB,CAA5B,CAlBC,CAoBD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAM2B,IAAI,GAAG5B,OAAO,CAClB,OAAO;IACLoB,kBADK;IAELC,WAFK;IAGLG,YAHK;IAILE,WAJK;IAKLH,aALK;IAMLN,QANK;IAOLU;EAPK,CAAP,CADkB,EAUlB,EAVkB,CAApB;EAaA,OAAOC,IAAP;AACD"}
\ No newline at end of file
+{"version":3,"names":["React","useContext","useMemo","useRef","useSharedValue","DEFAULT_PROPS","useProps","RefContext","createContext","undefined","RefProvider","children","flatListRef","value","useSetupRefs","createElement","Provider","useRefs","Error","flatListRefProp","props","animationConfig","propsRef","current","animConfig","animationConfigRef","cellDataRef","Map","keyToIndexRef","containerRef","flatlistRefInternal","flatlistRef","scrollViewRef","refs"],"sources":["refContext.tsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useMemo, useRef } from \"react\";\nimport { FlatList } from \"react-native-gesture-handler\";\nimport Animated, { type SharedValue, useSharedValue, WithSpringConfig } from \"react-native-reanimated\";\nimport { DEFAULT_PROPS } from \"../constants\";\nimport { useProps } from \"./propsContext\";\nimport { CellData, DraggableFlatListProps } from \"../types\";\n\ntype RefContextValue<T> = {\n  propsRef: React.MutableRefObject<DraggableFlatListProps<T>>;\n  animationConfigRef: SharedValue<WithSpringConfig>;\n  cellDataRef: React.MutableRefObject<Map<string, CellData>>;\n  keyToIndexRef: React.MutableRefObject<Map<string, number>>;\n  containerRef: React.RefObject<Animated.View>;\n  flatlistRef: React.RefObject<FlatList<T>> | React.ForwardedRef<FlatList<T>>;\n  scrollViewRef: React.RefObject<Animated.ScrollView>;\n};\nconst RefContext = React.createContext<RefContextValue<any> | undefined>(\n  undefined\n);\n\nexport default function RefProvider<T>({\n  children,\n  flatListRef,\n}: {\n  children: React.ReactNode;\n  flatListRef?: React.ForwardedRef<FlatList<T>> | null;\n}) {\n  const value = useSetupRefs<T>({ flatListRef });\n  return <RefContext.Provider value={value}>{children}</RefContext.Provider>;\n}\n\nexport function useRefs<T>() {\n  const value = useContext(RefContext);\n  if (!value) {\n    throw new Error(\n      \"useRefs must be called from within a RefContext.Provider!\"\n    );\n  }\n  return value as RefContextValue<T>;\n}\n\nfunction useSetupRefs<T>({\n  flatListRef: flatListRefProp,\n}: {\n  flatListRef?: React.ForwardedRef<FlatList<T>> | null;\n}) {\n  const props = useProps<T>();\n  const { animationConfig = DEFAULT_PROPS.animationConfig } = props;\n\n  const propsRef = useRef(props);\n  propsRef.current = props;\n  const animConfig = {\n    ...DEFAULT_PROPS.animationConfig,\n    ...animationConfig,\n  } as WithSpringConfig;\n  const animationConfigRef = useSharedValue(animConfig);\n  animationConfigRef.value = animConfig;\n\n  const cellDataRef = useRef(new Map<string, CellData>());\n  const keyToIndexRef = useRef(new Map<string, number>());\n  const containerRef = useRef<Animated.View>(null);\n  const flatlistRefInternal = useRef<FlatList<T>>(null);\n  const flatlistRef = flatListRefProp || flatlistRefInternal;\n  const scrollViewRef = useRef<Animated.ScrollView>(null);\n\n  // useEffect(() => {\n  //   // This is a workaround for the fact that RN does not respect refs passed in\n  //   // to renderScrollViewComponent underlying ScrollView (currently not used but\n  //   // may need to add if we want to use reanimated scrollTo in the future)\n  //   //@ts-ignore\n  //   const scrollRef = flatlistRef.current?.getNativeScrollRef();\n  //   if (!scrollViewRef.current) {\n  //     //@ts-ignore\n  //     scrollViewRef(scrollRef);\n  //   }\n  // }, []);\n\n  const refs = useMemo(\n    () => ({\n      animationConfigRef,\n      cellDataRef,\n      containerRef,\n      flatlistRef,\n      keyToIndexRef,\n      propsRef,\n      scrollViewRef,\n    }),\n    []\n  );\n\n  return refs;\n}\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,OAAO,EAAEC,MAAM,QAAQ,OAAO;AAEvC,SAAqCC,cAAc,QAA0B,yBAAyB;AACtG,SAASC,aAAa,QAAQ,cAAc;AAC5C,SAASC,QAAQ,QAAQ,gBAAgB;AAYzC,MAAMC,UAAU,gBAAGP,KAAK,CAACQ,aAAa,CACpCC,SACF,CAAC;AAED,eAAe,SAASC,WAAWA,CAAI;EACrCC,QAAQ;EACRC;AAIF,CAAC,EAAE;EACD,MAAMC,KAAK,GAAGC,YAAY,CAAI;IAAEF;EAAY,CAAC,CAAC;EAC9C,oBAAOZ,KAAA,CAAAe,aAAA,CAACR,UAAU,CAACS,QAAQ;IAACH,KAAK,EAAEA;EAAM,GAAEF,QAA8B,CAAC;AAC5E;AAEA,OAAO,SAASM,OAAOA,CAAA,EAAM;EAC3B,MAAMJ,KAAK,GAAGZ,UAAU,CAACM,UAAU,CAAC;EACpC,IAAI,CAACM,KAAK,EAAE;IACV,MAAM,IAAIK,KAAK,CACb,2DACF,CAAC;EACH;EACA,OAAOL,KAAK;AACd;AAEA,SAASC,YAAYA,CAAI;EACvBF,WAAW,EAAEO;AAGf,CAAC,EAAE;EACD,MAAMC,KAAK,GAAGd,QAAQ,CAAI,CAAC;EAC3B,MAAM;IAAEe,eAAe,GAAGhB,aAAa,CAACgB;EAAgB,CAAC,GAAGD,KAAK;EAEjE,MAAME,QAAQ,GAAGnB,MAAM,CAACiB,KAAK,CAAC;EAC9BE,QAAQ,CAACC,OAAO,GAAGH,KAAK;EACxB,MAAMI,UAAU,GAAG;IACjB,GAAGnB,aAAa,CAACgB,eAAe;IAChC,GAAGA;EACL,CAAqB;EACrB,MAAMI,kBAAkB,GAAGrB,cAAc,CAACoB,UAAU,CAAC;EACrDC,kBAAkB,CAACZ,KAAK,GAAGW,UAAU;EAErC,MAAME,WAAW,GAAGvB,MAAM,CAAC,IAAIwB,GAAG,CAAmB,CAAC,CAAC;EACvD,MAAMC,aAAa,GAAGzB,MAAM,CAAC,IAAIwB,GAAG,CAAiB,CAAC,CAAC;EACvD,MAAME,YAAY,GAAG1B,MAAM,CAAgB,IAAI,CAAC;EAChD,MAAM2B,mBAAmB,GAAG3B,MAAM,CAAc,IAAI,CAAC;EACrD,MAAM4B,WAAW,GAAGZ,eAAe,IAAIW,mBAAmB;EAC1D,MAAME,aAAa,GAAG7B,MAAM,CAAsB,IAAI,CAAC;;EAEvD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAM8B,IAAI,GAAG/B,OAAO,CAClB,OAAO;IACLuB,kBAAkB;IAClBC,WAAW;IACXG,YAAY;IACZE,WAAW;IACXH,aAAa;IACbN,QAAQ;IACRU;EACF,CAAC,CAAC,EACF,EACF,CAAC;EAED,OAAOC,IAAI;AACb","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/hooks/useAutoScroll.js b/lib/module/hooks/useAutoScroll.js
index 4923c2021de3a1c5e8a823d12799b154ffaccc28..6bfe9d2194a357f21c49b2660bf7b262a8082d0e 100644
--- a/lib/module/hooks/useAutoScroll.js
+++ b/lib/module/hooks/useAutoScroll.js
@@ -62,27 +62,24 @@ export function useAutoScroll() {
     const cellIsActive = activeIndexAnim.value >= 0;
     return hasScrolledToTarget && isAtEdge && !isEdgeDisabled && cellIsActive;
   }, []);
-
   function scrollToInternal(offset) {
     if (flatlistRef && "current" in flatlistRef) {
       var _flatlistRef$current;
-
-      (_flatlistRef$current = flatlistRef.current) === null || _flatlistRef$current === void 0 ? void 0 : _flatlistRef$current.scrollToOffset({
+      (_flatlistRef$current = flatlistRef.current) === null || _flatlistRef$current === void 0 || _flatlistRef$current.scrollToOffset({
         offset,
         animated: true
       });
     }
   }
-
   useDerivedValue(() => {
     if (!shouldAutoScroll.value) return;
     const distFromEdge = isAtTopEdge.value ? distToTopEdge.value : distToBottomEdge.value;
     const speedPct = 1 - distFromEdge / autoscrollThreshold;
     const offset = speedPct * autoscrollSpeed;
     const targetOffset = isAtTopEdge.value ? Math.max(0, scrollOffset.value - offset) : Math.min(scrollOffset.value + offset, scrollViewSize.value - containerSize.value);
-    scrollTarget.value = targetOffset; // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.
+    scrollTarget.value = targetOffset;
+    // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.
     // scrollTo(scrollViewRef, targetX, targetY, true);
-
     runOnJS(scrollToInternal)(targetOffset);
   }, []);
   return null;
diff --git a/lib/module/hooks/useAutoScroll.js.map b/lib/module/hooks/useAutoScroll.js.map
index c2d3229a6646616bc0a4dc378f53485a4803837f..e8563e0775c122bb27bd1193fc9400526027500a 100644
--- a/lib/module/hooks/useAutoScroll.js.map
+++ b/lib/module/hooks/useAutoScroll.js.map
@@ -1 +1 @@
-{"version":3,"names":["runOnJS","useAnimatedReaction","useDerivedValue","useSharedValue","DEFAULT_PROPS","SCROLL_POSITION_TOLERANCE","useProps","useAnimatedValues","useRefs","useAutoScroll","flatlistRef","autoscrollThreshold","autoscrollSpeed","scrollOffset","scrollViewSize","containerSize","activeCellSize","hoverOffset","activeIndexAnim","hoverScreenOffset","value","isScrolledUp","isScrolledDown","distToTopEdge","Math","max","distToBottomEdge","hoverPlusActiveCell","isAtTopEdge","isAtBottomEdge","scrollTarget","dragIsActive","cur","prev","shouldAutoScroll","scrollTargetDiff","abs","hasScrolledToTarget","isAtEdge","topDisabled","bottomDisabled","isEdgeDisabled","cellIsActive","scrollToInternal","offset","current","scrollToOffset","animated","distFromEdge","speedPct","targetOffset","min"],"sources":["useAutoScroll.tsx"],"sourcesContent":["import {\n  runOnJS,\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { DEFAULT_PROPS, SCROLL_POSITION_TOLERANCE } from \"../constants\";\nimport { useProps } from \"../context/propsContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useRefs } from \"../context/refContext\";\n\nexport function useAutoScroll() {\n  const { flatlistRef } = useRefs();\n\n  const {\n    autoscrollThreshold = DEFAULT_PROPS.autoscrollThreshold,\n    autoscrollSpeed = DEFAULT_PROPS.autoscrollSpeed,\n  } = useProps();\n\n  const {\n    scrollOffset,\n    scrollViewSize,\n    containerSize,\n    activeCellSize,\n    hoverOffset,\n    activeIndexAnim,\n  } = useAnimatedValues();\n\n  const hoverScreenOffset = useDerivedValue(() => {\n    return hoverOffset.value - scrollOffset.value;\n  }, []);\n\n  const isScrolledUp = useDerivedValue(() => {\n    return scrollOffset.value - SCROLL_POSITION_TOLERANCE <= 0;\n  }, []);\n\n  const isScrolledDown = useDerivedValue(() => {\n    return (\n      scrollOffset.value + containerSize.value + SCROLL_POSITION_TOLERANCE >=\n      scrollViewSize.value\n    );\n  }, []);\n\n  const distToTopEdge = useDerivedValue(() => {\n    return Math.max(0, hoverScreenOffset.value);\n  }, []);\n\n  const distToBottomEdge = useDerivedValue(() => {\n    const hoverPlusActiveCell = hoverScreenOffset.value + activeCellSize.value;\n    return Math.max(0, containerSize.value - hoverPlusActiveCell);\n  }, []);\n\n  const isAtTopEdge = useDerivedValue(() => {\n    return distToTopEdge.value <= autoscrollThreshold;\n  });\n\n  const isAtBottomEdge = useDerivedValue(() => {\n    return distToBottomEdge.value <= autoscrollThreshold;\n  }, []);\n\n  const scrollTarget = useSharedValue(0);\n  const dragIsActive = useDerivedValue(() => {\n    return activeIndexAnim.value >= 0;\n  }, []);\n\n  useAnimatedReaction(\n    () => {\n      return dragIsActive.value;\n    },\n    (cur, prev) => {\n      if (cur && !prev) {\n        scrollTarget.value = scrollOffset.value;\n      }\n    }\n  );\n\n  const shouldAutoScroll = useDerivedValue(() => {\n    const scrollTargetDiff = Math.abs(scrollTarget.value - scrollOffset.value);\n    const hasScrolledToTarget = scrollTargetDiff < SCROLL_POSITION_TOLERANCE;\n\n    const isAtEdge = isAtTopEdge.value || isAtBottomEdge.value;\n    const topDisabled = isAtTopEdge.value && isScrolledUp.value;\n    const bottomDisabled = isAtBottomEdge.value && isScrolledDown.value;\n    const isEdgeDisabled = topDisabled || bottomDisabled;\n\n    const cellIsActive = activeIndexAnim.value >= 0;\n\n    return hasScrolledToTarget && isAtEdge && !isEdgeDisabled && cellIsActive;\n  }, []);\n\n  function scrollToInternal(offset: number) {\n    if (flatlistRef && \"current\" in flatlistRef) {\n      flatlistRef.current?.scrollToOffset({ offset, animated: true });\n    }\n  }\n\n  useDerivedValue(() => {\n    if (!shouldAutoScroll.value) return;\n\n    const distFromEdge = isAtTopEdge.value\n      ? distToTopEdge.value\n      : distToBottomEdge.value;\n    const speedPct = 1 - distFromEdge / autoscrollThreshold!;\n    const offset = speedPct * autoscrollSpeed;\n    const targetOffset = isAtTopEdge.value\n      ? Math.max(0, scrollOffset.value - offset)\n      : Math.min(\n          scrollOffset.value + offset,\n          scrollViewSize.value - containerSize.value\n        );\n\n    scrollTarget.value = targetOffset;\n    // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.\n    // scrollTo(scrollViewRef, targetX, targetY, true);\n    runOnJS(scrollToInternal)(targetOffset);\n  }, []);\n\n  return null;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["runOnJS","useAnimatedReaction","useDerivedValue","useSharedValue","DEFAULT_PROPS","SCROLL_POSITION_TOLERANCE","useProps","useAnimatedValues","useRefs","useAutoScroll","flatlistRef","autoscrollThreshold","autoscrollSpeed","scrollOffset","scrollViewSize","containerSize","activeCellSize","hoverOffset","activeIndexAnim","hoverScreenOffset","value","isScrolledUp","isScrolledDown","distToTopEdge","Math","max","distToBottomEdge","hoverPlusActiveCell","isAtTopEdge","isAtBottomEdge","scrollTarget","dragIsActive","cur","prev","shouldAutoScroll","scrollTargetDiff","abs","hasScrolledToTarget","isAtEdge","topDisabled","bottomDisabled","isEdgeDisabled","cellIsActive","scrollToInternal","offset","_flatlistRef$current","current","scrollToOffset","animated","distFromEdge","speedPct","targetOffset","min"],"sources":["useAutoScroll.tsx"],"sourcesContent":["import {\n  runOnJS,\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { DEFAULT_PROPS, SCROLL_POSITION_TOLERANCE } from \"../constants\";\nimport { useProps } from \"../context/propsContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useRefs } from \"../context/refContext\";\n\nexport function useAutoScroll() {\n  const { flatlistRef } = useRefs();\n\n  const {\n    autoscrollThreshold = DEFAULT_PROPS.autoscrollThreshold,\n    autoscrollSpeed = DEFAULT_PROPS.autoscrollSpeed,\n  } = useProps();\n\n  const {\n    scrollOffset,\n    scrollViewSize,\n    containerSize,\n    activeCellSize,\n    hoverOffset,\n    activeIndexAnim,\n  } = useAnimatedValues();\n\n  const hoverScreenOffset = useDerivedValue(() => {\n    return hoverOffset.value - scrollOffset.value;\n  }, []);\n\n  const isScrolledUp = useDerivedValue(() => {\n    return scrollOffset.value - SCROLL_POSITION_TOLERANCE <= 0;\n  }, []);\n\n  const isScrolledDown = useDerivedValue(() => {\n    return (\n      scrollOffset.value + containerSize.value + SCROLL_POSITION_TOLERANCE >=\n      scrollViewSize.value\n    );\n  }, []);\n\n  const distToTopEdge = useDerivedValue(() => {\n    return Math.max(0, hoverScreenOffset.value);\n  }, []);\n\n  const distToBottomEdge = useDerivedValue(() => {\n    const hoverPlusActiveCell = hoverScreenOffset.value + activeCellSize.value;\n    return Math.max(0, containerSize.value - hoverPlusActiveCell);\n  }, []);\n\n  const isAtTopEdge = useDerivedValue(() => {\n    return distToTopEdge.value <= autoscrollThreshold;\n  });\n\n  const isAtBottomEdge = useDerivedValue(() => {\n    return distToBottomEdge.value <= autoscrollThreshold;\n  }, []);\n\n  const scrollTarget = useSharedValue(0);\n  const dragIsActive = useDerivedValue(() => {\n    return activeIndexAnim.value >= 0;\n  }, []);\n\n  useAnimatedReaction(\n    () => {\n      return dragIsActive.value;\n    },\n    (cur, prev) => {\n      if (cur && !prev) {\n        scrollTarget.value = scrollOffset.value;\n      }\n    }\n  );\n\n  const shouldAutoScroll = useDerivedValue(() => {\n    const scrollTargetDiff = Math.abs(scrollTarget.value - scrollOffset.value);\n    const hasScrolledToTarget = scrollTargetDiff < SCROLL_POSITION_TOLERANCE;\n\n    const isAtEdge = isAtTopEdge.value || isAtBottomEdge.value;\n    const topDisabled = isAtTopEdge.value && isScrolledUp.value;\n    const bottomDisabled = isAtBottomEdge.value && isScrolledDown.value;\n    const isEdgeDisabled = topDisabled || bottomDisabled;\n\n    const cellIsActive = activeIndexAnim.value >= 0;\n\n    return hasScrolledToTarget && isAtEdge && !isEdgeDisabled && cellIsActive;\n  }, []);\n\n  function scrollToInternal(offset: number) {\n    if (flatlistRef && \"current\" in flatlistRef) {\n      flatlistRef.current?.scrollToOffset({ offset, animated: true });\n    }\n  }\n\n  useDerivedValue(() => {\n    if (!shouldAutoScroll.value) return;\n\n    const distFromEdge = isAtTopEdge.value\n      ? distToTopEdge.value\n      : distToBottomEdge.value;\n    const speedPct = 1 - distFromEdge / autoscrollThreshold!;\n    const offset = speedPct * autoscrollSpeed;\n    const targetOffset = isAtTopEdge.value\n      ? Math.max(0, scrollOffset.value - offset)\n      : Math.min(\n          scrollOffset.value + offset,\n          scrollViewSize.value - containerSize.value\n        );\n\n    scrollTarget.value = targetOffset;\n    // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.\n    // scrollTo(scrollViewRef, targetX, targetY, true);\n    runOnJS(scrollToInternal)(targetOffset);\n  }, []);\n\n  return null;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/hooks/useCellTranslate.js b/lib/module/hooks/useCellTranslate.js
index 75d1b9167515bfc760e045a9f12824bddc7892c1..a6d8a1a3a2ddbb4345d4b42247f8bdcbc8eb0514 100644
--- a/lib/module/hooks/useCellTranslate.js
+++ b/lib/module/hooks/useCellTranslate.js
@@ -2,12 +2,11 @@ import { useDerivedValue, withSpring } from "react-native-reanimated";
 import { useAnimatedValues } from "../context/animatedValueContext";
 import { useDraggableFlatListContext } from "../context/draggableFlatListContext";
 import { useRefs } from "../context/refContext";
-export function useCellTranslate(_ref) {
-  let {
-    cellIndex,
-    cellSize,
-    cellOffset
-  } = _ref;
+export function useCellTranslate({
+  cellIndex,
+  cellSize,
+  cellOffset
+}) {
   const {
     activeIndexAnim,
     activeCellSize,
@@ -27,19 +26,17 @@ export function useCellTranslate(_ref) {
   const translate = useDerivedValue(() => {
     const isActiveCell = cellIndex === activeIndexAnim.value;
     const isOutsideViewableRange = !isActiveCell && (cellIndex < viewableIndexMin.value || cellIndex > viewableIndexMax.value);
-
     if (!activeKey || activeIndexAnim.value < 0 || isOutsideViewableRange) {
       return 0;
-    } // Determining spacer index is hard to visualize. See diagram: https://i.imgur.com/jRPf5t3.jpg
-
+    }
 
+    // Determining spacer index is hard to visualize. See diagram: https://i.imgur.com/jRPf5t3.jpg
     const isBeforeActive = cellIndex < activeIndexAnim.value;
     const isAfterActive = cellIndex > activeIndexAnim.value;
     const hoverPlusActiveSize = hoverOffset.value + activeCellSize.value;
     const offsetPlusHalfSize = cellOffset.value + cellSize.value / 2;
     const offsetPlusSize = cellOffset.value + cellSize.value;
     let result = -1;
-
     if (isAfterActive) {
       if (hoverPlusActiveSize >= cellOffset.value && hoverPlusActiveSize < offsetPlusHalfSize) {
         // bottom edge of active cell overlaps top half of current cell
@@ -57,26 +54,25 @@ export function useCellTranslate(_ref) {
         result = cellIndex;
       }
     }
-
     if (result !== -1 && result !== spacerIndexAnim.value) {
       spacerIndexAnim.value = result;
     }
-
     if (spacerIndexAnim.value === cellIndex) {
       const newPlaceholderOffset = isAfterActive ? cellSize.value + (cellOffset.value - activeCellSize.value) : cellOffset.value;
       placeholderOffset.value = newPlaceholderOffset;
-    } // Active cell follows touch
-
+    }
 
+    // Active cell follows touch
     if (isActiveCell) {
       return hoverAnim.value;
-    } // Translate cell down if it is before active index and active cell has passed it.
-    // Translate cell up if it is after the active index and active cell has passed it.
+    }
 
+    // Translate cell down if it is before active index and active cell has passed it.
+    // Translate cell up if it is after the active index and active cell has passed it.
 
     const shouldTranslate = isAfterActive ? cellIndex <= spacerIndexAnim.value : cellIndex >= spacerIndexAnim.value;
     const translationAmt = shouldTranslate ? activeCellSize.value * (isAfterActive ? -1 : 1) : 0;
-    return withSpring(translationAmt, animationConfigRef.current);
+    return withSpring(translationAmt, animationConfigRef.value);
   }, [activeKey, cellIndex]);
   return translate;
 }
diff --git a/lib/module/hooks/useCellTranslate.js.map b/lib/module/hooks/useCellTranslate.js.map
index 822570ac428bf903f2fcf9d60c33f257fc8d00ff..fd0ad78ffe7a9e7af0f40fde99b0f19f57ed79cf 100644
--- a/lib/module/hooks/useCellTranslate.js.map
+++ b/lib/module/hooks/useCellTranslate.js.map
@@ -1 +1 @@
-{"version":3,"names":["useDerivedValue","withSpring","useAnimatedValues","useDraggableFlatListContext","useRefs","useCellTranslate","cellIndex","cellSize","cellOffset","activeIndexAnim","activeCellSize","hoverOffset","spacerIndexAnim","placeholderOffset","hoverAnim","viewableIndexMin","viewableIndexMax","activeKey","animationConfigRef","translate","isActiveCell","value","isOutsideViewableRange","isBeforeActive","isAfterActive","hoverPlusActiveSize","offsetPlusHalfSize","offsetPlusSize","result","newPlaceholderOffset","shouldTranslate","translationAmt","current"],"sources":["useCellTranslate.tsx"],"sourcesContent":["import Animated, { useDerivedValue, withSpring } from \"react-native-reanimated\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\n\ntype Params = {\n  cellIndex: number;\n  cellSize: Animated.SharedValue<number>;\n  cellOffset: Animated.SharedValue<number>;\n};\n\nexport function useCellTranslate({ cellIndex, cellSize, cellOffset }: Params) {\n  const {\n    activeIndexAnim,\n    activeCellSize,\n    hoverOffset,\n    spacerIndexAnim,\n    placeholderOffset,\n    hoverAnim,\n    viewableIndexMin,\n    viewableIndexMax,\n  } = useAnimatedValues();\n\n  const { activeKey } = useDraggableFlatListContext();\n\n  const { animationConfigRef } = useRefs();\n\n  const translate = useDerivedValue(() => {\n    const isActiveCell = cellIndex === activeIndexAnim.value;\n    const isOutsideViewableRange =\n      !isActiveCell &&\n      (cellIndex < viewableIndexMin.value ||\n        cellIndex > viewableIndexMax.value);\n    if (!activeKey || activeIndexAnim.value < 0 || isOutsideViewableRange) {\n      return 0;\n    }\n\n    // Determining spacer index is hard to visualize. See diagram: https://i.imgur.com/jRPf5t3.jpg\n    const isBeforeActive = cellIndex < activeIndexAnim.value;\n    const isAfterActive = cellIndex > activeIndexAnim.value;\n\n    const hoverPlusActiveSize = hoverOffset.value + activeCellSize.value;\n    const offsetPlusHalfSize = cellOffset.value + cellSize.value / 2;\n    const offsetPlusSize = cellOffset.value + cellSize.value;\n    let result = -1;\n\n    if (isAfterActive) {\n      if (\n        hoverPlusActiveSize >= cellOffset.value &&\n        hoverPlusActiveSize < offsetPlusHalfSize\n      ) {\n        // bottom edge of active cell overlaps top half of current cell\n        result = cellIndex - 1;\n      } else if (\n        hoverPlusActiveSize >= offsetPlusHalfSize &&\n        hoverPlusActiveSize < offsetPlusSize\n      ) {\n        // bottom edge of active cell overlaps bottom half of current cell\n        result = cellIndex;\n      }\n    } else if (isBeforeActive) {\n      if (\n        hoverOffset.value < offsetPlusSize &&\n        hoverOffset.value >= offsetPlusHalfSize\n      ) {\n        // top edge of active cell overlaps bottom half of current cell\n        result = cellIndex + 1;\n      } else if (\n        hoverOffset.value >= cellOffset.value &&\n        hoverOffset.value < offsetPlusHalfSize\n      ) {\n        // top edge of active cell overlaps top half of current cell\n        result = cellIndex;\n      }\n    }\n\n    if (result !== -1 && result !== spacerIndexAnim.value) {\n      spacerIndexAnim.value = result;\n    }\n\n    if (spacerIndexAnim.value === cellIndex) {\n      const newPlaceholderOffset = isAfterActive\n        ? cellSize.value + (cellOffset.value - activeCellSize.value)\n        : cellOffset.value;\n      placeholderOffset.value = newPlaceholderOffset;\n    }\n\n    // Active cell follows touch\n    if (isActiveCell) {\n      return hoverAnim.value;\n    }\n\n    // Translate cell down if it is before active index and active cell has passed it.\n    // Translate cell up if it is after the active index and active cell has passed it.\n\n    const shouldTranslate = isAfterActive\n      ? cellIndex <= spacerIndexAnim.value\n      : cellIndex >= spacerIndexAnim.value;\n\n    const translationAmt = shouldTranslate\n      ? activeCellSize.value * (isAfterActive ? -1 : 1)\n      : 0;\n\n    return withSpring(translationAmt, animationConfigRef.current);\n  }, [activeKey, cellIndex]);\n\n  return translate;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["useDerivedValue","withSpring","useAnimatedValues","useDraggableFlatListContext","useRefs","useCellTranslate","cellIndex","cellSize","cellOffset","activeIndexAnim","activeCellSize","hoverOffset","spacerIndexAnim","placeholderOffset","hoverAnim","viewableIndexMin","viewableIndexMax","activeKey","animationConfigRef","translate","isActiveCell","value","isOutsideViewableRange","isBeforeActive","isAfterActive","hoverPlusActiveSize","offsetPlusHalfSize","offsetPlusSize","result","newPlaceholderOffset","shouldTranslate","translationAmt"],"sources":["useCellTranslate.tsx"],"sourcesContent":["import Animated, { useDerivedValue, withSpring } from \"react-native-reanimated\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\n\ntype Params = {\n  cellIndex: number;\n  cellSize: Animated.SharedValue<number>;\n  cellOffset: Animated.SharedValue<number>;\n};\n\nexport function useCellTranslate({ cellIndex, cellSize, cellOffset }: Params) {\n  const {\n    activeIndexAnim,\n    activeCellSize,\n    hoverOffset,\n    spacerIndexAnim,\n    placeholderOffset,\n    hoverAnim,\n    viewableIndexMin,\n    viewableIndexMax,\n  } = useAnimatedValues();\n\n  const { activeKey } = useDraggableFlatListContext();\n\n  const { animationConfigRef } = useRefs();\n\n  const translate = useDerivedValue(() => {\n    const isActiveCell = cellIndex === activeIndexAnim.value;\n    const isOutsideViewableRange =\n      !isActiveCell &&\n      (cellIndex < viewableIndexMin.value ||\n        cellIndex > viewableIndexMax.value);\n    if (!activeKey || activeIndexAnim.value < 0 || isOutsideViewableRange) {\n      return 0;\n    }\n\n    // Determining spacer index is hard to visualize. See diagram: https://i.imgur.com/jRPf5t3.jpg\n    const isBeforeActive = cellIndex < activeIndexAnim.value;\n    const isAfterActive = cellIndex > activeIndexAnim.value;\n\n    const hoverPlusActiveSize = hoverOffset.value + activeCellSize.value;\n    const offsetPlusHalfSize = cellOffset.value + cellSize.value / 2;\n    const offsetPlusSize = cellOffset.value + cellSize.value;\n    let result = -1;\n\n    if (isAfterActive) {\n      if (\n        hoverPlusActiveSize >= cellOffset.value &&\n        hoverPlusActiveSize < offsetPlusHalfSize\n      ) {\n        // bottom edge of active cell overlaps top half of current cell\n        result = cellIndex - 1;\n      } else if (\n        hoverPlusActiveSize >= offsetPlusHalfSize &&\n        hoverPlusActiveSize < offsetPlusSize\n      ) {\n        // bottom edge of active cell overlaps bottom half of current cell\n        result = cellIndex;\n      }\n    } else if (isBeforeActive) {\n      if (\n        hoverOffset.value < offsetPlusSize &&\n        hoverOffset.value >= offsetPlusHalfSize\n      ) {\n        // top edge of active cell overlaps bottom half of current cell\n        result = cellIndex + 1;\n      } else if (\n        hoverOffset.value >= cellOffset.value &&\n        hoverOffset.value < offsetPlusHalfSize\n      ) {\n        // top edge of active cell overlaps top half of current cell\n        result = cellIndex;\n      }\n    }\n\n    if (result !== -1 && result !== spacerIndexAnim.value) {\n      spacerIndexAnim.value = result;\n    }\n\n    if (spacerIndexAnim.value === cellIndex) {\n      const newPlaceholderOffset = isAfterActive\n        ? cellSize.value + (cellOffset.value - activeCellSize.value)\n        : cellOffset.value;\n      placeholderOffset.value = newPlaceholderOffset;\n    }\n\n    // Active cell follows touch\n    if (isActiveCell) {\n      return hoverAnim.value;\n    }\n\n    // Translate cell down if it is before active index and active cell has passed it.\n    // Translate cell up if it is after the active index and active cell has passed it.\n\n    const shouldTranslate = isAfterActive\n      ? cellIndex <= spacerIndexAnim.value\n      : cellIndex >= spacerIndexAnim.value;\n\n    const translationAmt = shouldTranslate\n      ? activeCellSize.value * (isAfterActive ? -1 : 1)\n      : 0;\n\n      return withSpring(translationAmt, animationConfigRef.value);\n  }, [activeKey, cellIndex]);\n\n  return translate;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/hooks/useNestedAutoScroll.js b/lib/module/hooks/useNestedAutoScroll.js
index 8263ae31a86b3ca4bf23f20176a2210d64050e42..d586af675babf387a8b8a1e9ef9af8e3d3637fe6 100644
--- a/lib/module/hooks/useNestedAutoScroll.js
+++ b/lib/module/hooks/useNestedAutoScroll.js
@@ -1,6 +1,8 @@
 import { runOnJS, useAnimatedReaction, useDerivedValue, useSharedValue } from "react-native-reanimated";
 import { useSafeNestableScrollContainerContext } from "../context/nestableScrollContainerContext";
-import { SCROLL_POSITION_TOLERANCE } from "../constants"; // This is mostly copied over from the main react-native-draggable-flatlist
+import { SCROLL_POSITION_TOLERANCE } from "../constants";
+
+// This is mostly copied over from the main react-native-draggable-flatlist
 // useAutoScroll hook with a few notable exceptions:
 // - Since animated values are now coming in via a callback,
 //   we won't guarantee they exist (and default them if not).
@@ -53,16 +55,13 @@ export function useNestedAutoScroll(params) {
       scrollTarget.value = outerScrollOffset.value;
     }
   }, [activeCellSize]);
-
   function scrollToInternal(y) {
     var _scrollableRef$curren;
-
-    (_scrollableRef$curren = scrollableRef.current) === null || _scrollableRef$curren === void 0 ? void 0 : _scrollableRef$curren.scrollTo({
+    (_scrollableRef$curren = scrollableRef.current) === null || _scrollableRef$curren === void 0 || _scrollableRef$curren.scrollTo({
       y,
       animated: true
     });
   }
-
   useDerivedValue(() => {
     const isAtEdge = isAtTopEdge.value || isAtBottomEdge.value;
     const topDisabled = isAtTopEdge.value && isScrolledUp.value;
@@ -75,11 +74,10 @@ export function useNestedAutoScroll(params) {
     const speedPct = 1 - distFromEdge / autoscrollThreshold;
     const offset = speedPct * autoscrollSpeed;
     const targetOffset = isAtTopEdge.value ? Math.max(0, outerScrollOffset.value - offset) : outerScrollOffset.value + offset;
-
     if (shouldScroll) {
-      scrollTarget.value = targetOffset; // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.
+      scrollTarget.value = targetOffset;
+      // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.
       // scrollTo(scrollViewRef, 0, scrollTarget.value, true)
-
       runOnJS(scrollToInternal)(targetOffset);
     }
   }, [autoscrollSpeed, autoscrollThreshold, isDraggingCell]);
diff --git a/lib/module/hooks/useNestedAutoScroll.js.map b/lib/module/hooks/useNestedAutoScroll.js.map
index b1a75ac7d0756e35eca02033af0c00afe6672fc4..4245f8ef23b97fb399da09cd87a3667d00b1d113 100644
--- a/lib/module/hooks/useNestedAutoScroll.js.map
+++ b/lib/module/hooks/useNestedAutoScroll.js.map
@@ -1 +1 @@
-{"version":3,"names":["runOnJS","useAnimatedReaction","useDerivedValue","useSharedValue","useSafeNestableScrollContainerContext","SCROLL_POSITION_TOLERANCE","useNestedAutoScroll","params","outerScrollOffset","containerSize","scrollableRef","scrollViewSize","DUMMY_VAL","hoverOffset","activeCellSize","autoscrollSpeed","autoscrollThreshold","isDraggingCell","isTouchActiveNative","hoverScreenOffset","value","isScrolledUp","isScrolledDown","distToTopEdge","Math","max","distToBottomEdge","dist","isAtTopEdge","isAtBottomEdge","scrollTarget","cur","prev","scrollToInternal","y","current","scrollTo","animated","isAtEdge","topDisabled","bottomDisabled","isEdgeDisabled","scrollTargetDiff","abs","scrollInProgress","shouldScroll","distFromEdge","speedPct","offset","targetOffset"],"sources":["useNestedAutoScroll.tsx"],"sourcesContent":["import Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { State as GestureState } from \"react-native-gesture-handler\";\nimport { useSafeNestableScrollContainerContext } from \"../context/nestableScrollContainerContext\";\nimport { SCROLL_POSITION_TOLERANCE } from \"../constants\";\n\n// This is mostly copied over from the main react-native-draggable-flatlist\n// useAutoScroll hook with a few notable exceptions:\n// - Since animated values are now coming in via a callback,\n//   we won't guarantee they exist (and default them if not).\n// - Outer scrollable is a ScrollView, not a FlatList\n// TODO: see if we can combine into a single shared `useAutoScroll()` hook\n\nexport function useNestedAutoScroll(params: {\n  activeCellSize?: Animated.SharedValue<number>;\n  autoscrollSpeed?: number;\n  autoscrollThreshold?: number;\n  hoverOffset?: Animated.SharedValue<number>;\n  isDraggingCell?: Animated.SharedValue<number>;\n  isTouchActiveNative?: Animated.SharedValue<number>;\n  panGestureState?: Animated.SharedValue<GestureState | number>;\n}) {\n  const {\n    outerScrollOffset,\n    containerSize,\n    scrollableRef,\n    scrollViewSize,\n  } = useSafeNestableScrollContainerContext();\n\n  const DUMMY_VAL = useSharedValue(0);\n\n  const {\n    hoverOffset = DUMMY_VAL,\n    activeCellSize = DUMMY_VAL,\n    autoscrollSpeed = 100,\n    autoscrollThreshold = 30,\n    isDraggingCell = DUMMY_VAL,\n    isTouchActiveNative = DUMMY_VAL,\n  } = params;\n\n  const hoverScreenOffset = useDerivedValue(() => {\n    return hoverOffset.value - outerScrollOffset.value;\n  }, []);\n\n  const isScrolledUp = useDerivedValue(() => {\n    return outerScrollOffset.value - SCROLL_POSITION_TOLERANCE <= 0;\n  }, []);\n\n  const isScrolledDown = useDerivedValue(() => {\n    return (\n      outerScrollOffset.value + containerSize.value + SCROLL_POSITION_TOLERANCE >=\n      scrollViewSize.value\n    );\n  }, []);\n\n  const distToTopEdge = useDerivedValue(() => {\n    return Math.max(0, hoverScreenOffset.value);\n  }, [hoverScreenOffset]);\n\n  const distToBottomEdge = useDerivedValue(() => {\n    const dist = containerSize.value - (hoverScreenOffset.value + activeCellSize.value)\n    return Math.max(0, dist);\n  }, [hoverScreenOffset, activeCellSize, containerSize]);\n\n  const isAtTopEdge = useDerivedValue(() => {\n    return distToTopEdge.value <= autoscrollThreshold;\n  }, []);\n\n  const isAtBottomEdge = useDerivedValue(() => {\n    return distToBottomEdge.value <= autoscrollThreshold;\n  });\n\n  const scrollTarget = useSharedValue(0);\n\n  useAnimatedReaction(\n    () => {\n      return isDraggingCell.value;\n    },\n    (cur, prev) => {\n      if (cur && !prev) {\n        scrollTarget.value = outerScrollOffset.value;\n      }\n    },\n    [activeCellSize]\n  );\n\n  function scrollToInternal(y: number) {\n    scrollableRef.current?.scrollTo({ y, animated: true });\n  }\n\n  useDerivedValue(() => {\n    const isAtEdge = isAtTopEdge.value || isAtBottomEdge.value;\n    const topDisabled = isAtTopEdge.value && isScrolledUp.value;\n    const bottomDisabled = isAtBottomEdge.value && isScrolledDown.value;\n    const isEdgeDisabled = topDisabled || bottomDisabled;\n\n    const scrollTargetDiff = Math.abs(scrollTarget.value - outerScrollOffset.value);\n    const scrollInProgress = scrollTargetDiff > SCROLL_POSITION_TOLERANCE;\n\n    const shouldScroll =\n      isAtEdge &&\n      !isEdgeDisabled &&\n      isDraggingCell.value &&\n      isTouchActiveNative.value &&\n      !scrollInProgress;\n\n    const distFromEdge = isAtTopEdge.value\n      ? distToTopEdge.value\n      : distToBottomEdge.value;\n    const speedPct = 1 - distFromEdge / autoscrollThreshold;\n    const offset = speedPct * autoscrollSpeed;\n    const targetOffset = isAtTopEdge.value\n      ? Math.max(0, outerScrollOffset.value - offset)\n      : outerScrollOffset.value + offset;\n    if (shouldScroll) {\n      scrollTarget.value = targetOffset;\n      // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.\n      // scrollTo(scrollViewRef, 0, scrollTarget.value, true)\n      runOnJS(scrollToInternal)(targetOffset);\n    }\n  }, [autoscrollSpeed, autoscrollThreshold, isDraggingCell]);\n\n  return null;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["runOnJS","useAnimatedReaction","useDerivedValue","useSharedValue","useSafeNestableScrollContainerContext","SCROLL_POSITION_TOLERANCE","useNestedAutoScroll","params","outerScrollOffset","containerSize","scrollableRef","scrollViewSize","DUMMY_VAL","hoverOffset","activeCellSize","autoscrollSpeed","autoscrollThreshold","isDraggingCell","isTouchActiveNative","hoverScreenOffset","value","isScrolledUp","isScrolledDown","distToTopEdge","Math","max","distToBottomEdge","dist","isAtTopEdge","isAtBottomEdge","scrollTarget","cur","prev","scrollToInternal","y","_scrollableRef$curren","current","scrollTo","animated","isAtEdge","topDisabled","bottomDisabled","isEdgeDisabled","scrollTargetDiff","abs","scrollInProgress","shouldScroll","distFromEdge","speedPct","offset","targetOffset"],"sources":["useNestedAutoScroll.tsx"],"sourcesContent":["import Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useDerivedValue,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { State as GestureState } from \"react-native-gesture-handler\";\nimport { useSafeNestableScrollContainerContext } from \"../context/nestableScrollContainerContext\";\nimport { SCROLL_POSITION_TOLERANCE } from \"../constants\";\n\n// This is mostly copied over from the main react-native-draggable-flatlist\n// useAutoScroll hook with a few notable exceptions:\n// - Since animated values are now coming in via a callback,\n//   we won't guarantee they exist (and default them if not).\n// - Outer scrollable is a ScrollView, not a FlatList\n// TODO: see if we can combine into a single shared `useAutoScroll()` hook\n\nexport function useNestedAutoScroll(params: {\n  activeCellSize?: Animated.SharedValue<number>;\n  autoscrollSpeed?: number;\n  autoscrollThreshold?: number;\n  hoverOffset?: Animated.SharedValue<number>;\n  isDraggingCell?: Animated.SharedValue<number>;\n  isTouchActiveNative?: Animated.SharedValue<number>;\n  panGestureState?: Animated.SharedValue<GestureState | number>;\n}) {\n  const {\n    outerScrollOffset,\n    containerSize,\n    scrollableRef,\n    scrollViewSize,\n  } = useSafeNestableScrollContainerContext();\n\n  const DUMMY_VAL = useSharedValue(0);\n\n  const {\n    hoverOffset = DUMMY_VAL,\n    activeCellSize = DUMMY_VAL,\n    autoscrollSpeed = 100,\n    autoscrollThreshold = 30,\n    isDraggingCell = DUMMY_VAL,\n    isTouchActiveNative = DUMMY_VAL,\n  } = params;\n\n  const hoverScreenOffset = useDerivedValue(() => {\n    return hoverOffset.value - outerScrollOffset.value;\n  }, []);\n\n  const isScrolledUp = useDerivedValue(() => {\n    return outerScrollOffset.value - SCROLL_POSITION_TOLERANCE <= 0;\n  }, []);\n\n  const isScrolledDown = useDerivedValue(() => {\n    return (\n      outerScrollOffset.value + containerSize.value + SCROLL_POSITION_TOLERANCE >=\n      scrollViewSize.value\n    );\n  }, []);\n\n  const distToTopEdge = useDerivedValue(() => {\n    return Math.max(0, hoverScreenOffset.value);\n  }, [hoverScreenOffset]);\n\n  const distToBottomEdge = useDerivedValue(() => {\n    const dist = containerSize.value - (hoverScreenOffset.value + activeCellSize.value)\n    return Math.max(0, dist);\n  }, [hoverScreenOffset, activeCellSize, containerSize]);\n\n  const isAtTopEdge = useDerivedValue(() => {\n    return distToTopEdge.value <= autoscrollThreshold;\n  }, []);\n\n  const isAtBottomEdge = useDerivedValue(() => {\n    return distToBottomEdge.value <= autoscrollThreshold;\n  });\n\n  const scrollTarget = useSharedValue(0);\n\n  useAnimatedReaction(\n    () => {\n      return isDraggingCell.value;\n    },\n    (cur, prev) => {\n      if (cur && !prev) {\n        scrollTarget.value = outerScrollOffset.value;\n      }\n    },\n    [activeCellSize]\n  );\n\n  function scrollToInternal(y: number) {\n    scrollableRef.current?.scrollTo({ y, animated: true });\n  }\n\n  useDerivedValue(() => {\n    const isAtEdge = isAtTopEdge.value || isAtBottomEdge.value;\n    const topDisabled = isAtTopEdge.value && isScrolledUp.value;\n    const bottomDisabled = isAtBottomEdge.value && isScrolledDown.value;\n    const isEdgeDisabled = topDisabled || bottomDisabled;\n\n    const scrollTargetDiff = Math.abs(scrollTarget.value - outerScrollOffset.value);\n    const scrollInProgress = scrollTargetDiff > SCROLL_POSITION_TOLERANCE;\n\n    const shouldScroll =\n      isAtEdge &&\n      !isEdgeDisabled &&\n      isDraggingCell.value &&\n      isTouchActiveNative.value &&\n      !scrollInProgress;\n\n    const distFromEdge = isAtTopEdge.value\n      ? distToTopEdge.value\n      : distToBottomEdge.value;\n    const speedPct = 1 - distFromEdge / autoscrollThreshold;\n    const offset = speedPct * autoscrollSpeed;\n    const targetOffset = isAtTopEdge.value\n      ? Math.max(0, outerScrollOffset.value - offset)\n      : outerScrollOffset.value + offset;\n    if (shouldScroll) {\n      scrollTarget.value = targetOffset;\n      // Reanimated scrollTo is crashing on android. use 'regular' scrollTo until figured out.\n      // scrollTo(scrollViewRef, 0, scrollTarget.value, true)\n      runOnJS(scrollToInternal)(targetOffset);\n    }\n  }, [autoscrollSpeed, autoscrollThreshold, isDraggingCell]);\n\n  return null;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/hooks/useOnCellActiveAnimation.js b/lib/module/hooks/useOnCellActiveAnimation.js
index a531577708678532eabbc9c697652b76fc4e92c5..516128310bbd5065cf87e72edbdaa82add5c2bd9 100644
--- a/lib/module/hooks/useOnCellActiveAnimation.js
+++ b/lib/module/hooks/useOnCellActiveAnimation.js
@@ -3,12 +3,11 @@ import { useDerivedValue, withSpring } from "react-native-reanimated";
 import { DEFAULT_ANIMATION_CONFIG } from "../constants";
 import { useAnimatedValues } from "../context/animatedValueContext";
 import { useIsActive } from "../context/cellContext";
-export function useOnCellActiveAnimation() {
-  let {
-    animationConfig
-  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
-    animationConfig: {}
-  };
+export function useOnCellActiveAnimation({
+  animationConfig
+} = {
+  animationConfig: {}
+}) {
   const animationConfigRef = useRef(animationConfig);
   animationConfigRef.current = animationConfig;
   const isActive = useIsActive();
@@ -17,7 +16,8 @@ export function useOnCellActiveAnimation() {
   } = useAnimatedValues();
   const onActiveAnim = useDerivedValue(() => {
     const toVal = isActive && isTouchActiveNative.value ? 1 : 0;
-    return withSpring(toVal, { ...DEFAULT_ANIMATION_CONFIG,
+    return withSpring(toVal, {
+      ...DEFAULT_ANIMATION_CONFIG,
       ...animationConfigRef.current
     });
   }, [isActive]);
diff --git a/lib/module/hooks/useOnCellActiveAnimation.js.map b/lib/module/hooks/useOnCellActiveAnimation.js.map
index 1b31578557880f776203c5b58f7e90bd3aa8fcd8..35c3ba6683a271bddbd2474d8576e3fcad3b2bad 100644
--- a/lib/module/hooks/useOnCellActiveAnimation.js.map
+++ b/lib/module/hooks/useOnCellActiveAnimation.js.map
@@ -1 +1 @@
-{"version":3,"names":["useRef","useDerivedValue","withSpring","DEFAULT_ANIMATION_CONFIG","useAnimatedValues","useIsActive","useOnCellActiveAnimation","animationConfig","animationConfigRef","current","isActive","isTouchActiveNative","onActiveAnim","toVal","value"],"sources":["useOnCellActiveAnimation.ts"],"sourcesContent":["import { useRef } from \"react\";\nimport Animated, {\n  useDerivedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\nimport { DEFAULT_ANIMATION_CONFIG } from \"../constants\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useIsActive } from \"../context/cellContext\";\n\ntype Params = {\n  animationConfig: Partial<WithSpringConfig>;\n};\n\nexport function useOnCellActiveAnimation(\n  { animationConfig }: Params = { animationConfig: {} }\n) {\n  const animationConfigRef = useRef(animationConfig);\n  animationConfigRef.current = animationConfig;\n\n  const isActive = useIsActive();\n\n  const { isTouchActiveNative } = useAnimatedValues();\n\n  const onActiveAnim = useDerivedValue(() => {\n    const toVal = isActive && isTouchActiveNative.value ? 1 : 0;\n    return withSpring(toVal, {\n      ...DEFAULT_ANIMATION_CONFIG,\n      ...animationConfigRef.current,\n    });\n  }, [isActive]);\n\n  return {\n    isActive,\n    onActiveAnim,\n  };\n}\n"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,SACEC,eADF,EAEEC,UAFF,QAIO,yBAJP;AAKA,SAASC,wBAAT,QAAyC,cAAzC;AACA,SAASC,iBAAT,QAAkC,iCAAlC;AACA,SAASC,WAAT,QAA4B,wBAA5B;AAMA,OAAO,SAASC,wBAAT,GAEL;EAAA,IADA;IAAEC;EAAF,CACA,uEAD8B;IAAEA,eAAe,EAAE;EAAnB,CAC9B;EACA,MAAMC,kBAAkB,GAAGR,MAAM,CAACO,eAAD,CAAjC;EACAC,kBAAkB,CAACC,OAAnB,GAA6BF,eAA7B;EAEA,MAAMG,QAAQ,GAAGL,WAAW,EAA5B;EAEA,MAAM;IAAEM;EAAF,IAA0BP,iBAAiB,EAAjD;EAEA,MAAMQ,YAAY,GAAGX,eAAe,CAAC,MAAM;IACzC,MAAMY,KAAK,GAAGH,QAAQ,IAAIC,mBAAmB,CAACG,KAAhC,GAAwC,CAAxC,GAA4C,CAA1D;IACA,OAAOZ,UAAU,CAACW,KAAD,EAAQ,EACvB,GAAGV,wBADoB;MAEvB,GAAGK,kBAAkB,CAACC;IAFC,CAAR,CAAjB;EAID,CANmC,EAMjC,CAACC,QAAD,CANiC,CAApC;EAQA,OAAO;IACLA,QADK;IAELE;EAFK,CAAP;AAID"}
\ No newline at end of file
+{"version":3,"names":["useRef","useDerivedValue","withSpring","DEFAULT_ANIMATION_CONFIG","useAnimatedValues","useIsActive","useOnCellActiveAnimation","animationConfig","animationConfigRef","current","isActive","isTouchActiveNative","onActiveAnim","toVal","value"],"sources":["useOnCellActiveAnimation.ts"],"sourcesContent":["import { useRef } from \"react\";\nimport Animated, {\n  useDerivedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\nimport { DEFAULT_ANIMATION_CONFIG } from \"../constants\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useIsActive } from \"../context/cellContext\";\n\ntype Params = {\n  animationConfig: Partial<WithSpringConfig>;\n};\n\nexport function useOnCellActiveAnimation(\n  { animationConfig }: Params = { animationConfig: {} }\n) {\n  const animationConfigRef = useRef(animationConfig);\n  animationConfigRef.current = animationConfig;\n\n  const isActive = useIsActive();\n\n  const { isTouchActiveNative } = useAnimatedValues();\n\n  const onActiveAnim = useDerivedValue(() => {\n    const toVal = isActive && isTouchActiveNative.value ? 1 : 0;\n    return withSpring(toVal, {\n      ...DEFAULT_ANIMATION_CONFIG,\n      ...animationConfigRef.current,\n    });\n  }, [isActive]);\n\n  return {\n    isActive,\n    onActiveAnim,\n  };\n}\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,OAAO;AAC9B,SACEC,eAAe,EACfC,UAAU,QAEL,yBAAyB;AAChC,SAASC,wBAAwB,QAAQ,cAAc;AACvD,SAASC,iBAAiB,QAAQ,iCAAiC;AACnE,SAASC,WAAW,QAAQ,wBAAwB;AAMpD,OAAO,SAASC,wBAAwBA,CACtC;EAAEC;AAAwB,CAAC,GAAG;EAAEA,eAAe,EAAE,CAAC;AAAE,CAAC,EACrD;EACA,MAAMC,kBAAkB,GAAGR,MAAM,CAACO,eAAe,CAAC;EAClDC,kBAAkB,CAACC,OAAO,GAAGF,eAAe;EAE5C,MAAMG,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9B,MAAM;IAAEM;EAAoB,CAAC,GAAGP,iBAAiB,CAAC,CAAC;EAEnD,MAAMQ,YAAY,GAAGX,eAAe,CAAC,MAAM;IACzC,MAAMY,KAAK,GAAGH,QAAQ,IAAIC,mBAAmB,CAACG,KAAK,GAAG,CAAC,GAAG,CAAC;IAC3D,OAAOZ,UAAU,CAACW,KAAK,EAAE;MACvB,GAAGV,wBAAwB;MAC3B,GAAGK,kBAAkB,CAACC;IACxB,CAAC,CAAC;EACJ,CAAC,EAAE,CAACC,QAAQ,CAAC,CAAC;EAEd,OAAO;IACLA,QAAQ;IACRE;EACF,CAAC;AACH","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/hooks/useStableCallback.js b/lib/module/hooks/useStableCallback.js
index 1528cc50f931349644af3e44e5ef8276f07b4931..da80aad7fd1a8032216c93411be40bed3dde3233 100644
--- a/lib/module/hooks/useStableCallback.js
+++ b/lib/module/hooks/useStableCallback.js
@@ -1,4 +1,6 @@
-import { useRef, useCallback } from "react"; // Utility hook that returns a function that never has stale dependencies, but
+import { useRef, useCallback } from "react";
+
+// Utility hook that returns a function that never has stale dependencies, but
 // without changing identity, as a useCallback with dep array would.
 // Useful for functions that depend on external state, but
 // should not trigger effects when that external state changes.
@@ -6,9 +8,7 @@ import { useRef, useCallback } from "react"; // Utility hook that returns a func
 export function useStableCallback(cb) {
   const cbRef = useRef(cb);
   cbRef.current = cb;
-  const identityRetainingCb = useCallback(function () {
-    return cbRef.current(...arguments);
-  }, []);
+  const identityRetainingCb = useCallback((...args) => cbRef.current(...args), []);
   return identityRetainingCb;
 }
 //# sourceMappingURL=useStableCallback.js.map
\ No newline at end of file
diff --git a/lib/module/hooks/useStableCallback.js.map b/lib/module/hooks/useStableCallback.js.map
index 3973c8b182c08f3e586c96b662f43d46a39d3175..29c165700634581d88c13c68aed20971a78a871c 100644
--- a/lib/module/hooks/useStableCallback.js.map
+++ b/lib/module/hooks/useStableCallback.js.map
@@ -1 +1 @@
-{"version":3,"names":["useRef","useCallback","useStableCallback","cb","cbRef","current","identityRetainingCb"],"sources":["useStableCallback.ts"],"sourcesContent":["import { useRef, useCallback } from \"react\";\n\n// Utility hook that returns a function that never has stale dependencies, but\n// without changing identity, as a useCallback with dep array would.\n// Useful for functions that depend on external state, but\n// should not trigger effects when that external state changes.\n\nexport function useStableCallback<\n  T extends (arg1?: any, arg2?: any, arg3?: any) => any\n>(cb: T) {\n  const cbRef = useRef(cb);\n  cbRef.current = cb;\n  const identityRetainingCb = useCallback(\n    (...args: Parameters<T>) => cbRef.current(...args),\n    []\n  );\n  return identityRetainingCb as T;\n}\n"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,WAAjB,QAAoC,OAApC,C,CAEA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,iBAAT,CAELC,EAFK,EAEE;EACP,MAAMC,KAAK,GAAGJ,MAAM,CAACG,EAAD,CAApB;EACAC,KAAK,CAACC,OAAN,GAAgBF,EAAhB;EACA,MAAMG,mBAAmB,GAAGL,WAAW,CACrC;IAAA,OAA4BG,KAAK,CAACC,OAAN,CAAc,YAAd,CAA5B;EAAA,CADqC,EAErC,EAFqC,CAAvC;EAIA,OAAOC,mBAAP;AACD"}
\ No newline at end of file
+{"version":3,"names":["useRef","useCallback","useStableCallback","cb","cbRef","current","identityRetainingCb","args"],"sources":["useStableCallback.ts"],"sourcesContent":["import { useRef, useCallback } from \"react\";\n\n// Utility hook that returns a function that never has stale dependencies, but\n// without changing identity, as a useCallback with dep array would.\n// Useful for functions that depend on external state, but\n// should not trigger effects when that external state changes.\n\nexport function useStableCallback<\n  T extends (arg1?: any, arg2?: any, arg3?: any) => any\n>(cb: T) {\n  const cbRef = useRef(cb);\n  cbRef.current = cb;\n  const identityRetainingCb = useCallback(\n    (...args: Parameters<T>) => cbRef.current(...args),\n    []\n  );\n  return identityRetainingCb as T;\n}\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,WAAW,QAAQ,OAAO;;AAE3C;AACA;AACA;AACA;;AAEA,OAAO,SAASC,iBAAiBA,CAE/BC,EAAK,EAAE;EACP,MAAMC,KAAK,GAAGJ,MAAM,CAACG,EAAE,CAAC;EACxBC,KAAK,CAACC,OAAO,GAAGF,EAAE;EAClB,MAAMG,mBAAmB,GAAGL,WAAW,CACrC,CAAC,GAAGM,IAAmB,KAAKH,KAAK,CAACC,OAAO,CAAC,GAAGE,IAAI,CAAC,EAClD,EACF,CAAC;EACD,OAAOD,mBAAmB;AAC5B","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/index.js.map b/lib/module/index.js.map
index bbd2ee8fd23949b1b4a964817ba52642f595c689..33cb8a0f7c2f3341d65c9cbcd218f13adf521e6f 100644
--- a/lib/module/index.js.map
+++ b/lib/module/index.js.map
@@ -1 +1 @@
-{"version":3,"names":["DraggableFlatList"],"sources":["index.tsx"],"sourcesContent":["import DraggableFlatList from \"./components/DraggableFlatList\";\nexport * from \"./components/CellDecorators\";\nexport * from \"./components/NestableDraggableFlatList\";\nexport * from \"./components/NestableScrollContainer\";\nexport * from \"./types\";\nexport default DraggableFlatList;\n"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,gCAA9B;AACA,cAAc,6BAAd;AACA,cAAc,wCAAd;AACA,cAAc,sCAAd;AACA,cAAc,SAAd;AACA,eAAeA,iBAAf"}
\ No newline at end of file
+{"version":3,"names":["DraggableFlatList"],"sources":["index.tsx"],"sourcesContent":["import DraggableFlatList from \"./components/DraggableFlatList\";\nexport * from \"./components/CellDecorators\";\nexport * from \"./components/NestableDraggableFlatList\";\nexport * from \"./components/NestableScrollContainer\";\nexport * from \"./types\";\nexport default DraggableFlatList;\n"],"mappings":"AAAA,OAAOA,iBAAiB,MAAM,gCAAgC;AAC9D,cAAc,6BAA6B;AAC3C,cAAc,wCAAwC;AACtD,cAAc,sCAAsC;AACpD,cAAc,SAAS;AACvB,eAAeA,iBAAiB","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/types.js.map b/lib/module/types.js.map
index 07f18efcbcc7afde7475236ec7471f6d46553c34..e969a3ed9f304d53b71c90fe1805a1e8da21441a 100644
--- a/lib/module/types.js.map
+++ b/lib/module/types.js.map
@@ -1 +1 @@
-{"version":3,"names":[],"sources":["types.ts"],"sourcesContent":["import React from \"react\";\nimport {\n  FlatListProps,\n  LayoutChangeEvent,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\nimport { useAnimatedValues } from \"./context/animatedValueContext\";\nimport { FlatList } from \"react-native-gesture-handler\";\nimport Animated, {\n  AnimateProps,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\nimport { DEFAULT_PROPS } from \"./constants\";\n\nexport type DragEndParams<T> = {\n  data: T[];\n  from: number;\n  to: number;\n};\ntype Modify<T, R> = Omit<T, keyof R> & R;\n\ntype DefaultProps = Readonly<typeof DEFAULT_PROPS>;\n\nexport type DraggableFlatListProps<T> = Modify<\n  FlatListProps<T>,\n  {\n    data: T[];\n    activationDistance?: number;\n    animationConfig?: Partial<WithSpringConfig>;\n    autoscrollSpeed?: number;\n    autoscrollThreshold?: number;\n    containerStyle?: StyleProp<ViewStyle>;\n    debug?: boolean;\n    dragItemOverflow?: boolean;\n    keyExtractor: (item: T, index: number) => string;\n    onDragBegin?: (index: number) => void;\n    onDragEnd?: (params: DragEndParams<T>) => void;\n    onPlaceholderIndexChange?: (placeholderIndex: number) => void;\n    onRelease?: (index: number) => void;\n    onScrollOffsetChange?: (scrollOffset: number) => void;\n    renderItem: RenderItem<T>;\n    renderPlaceholder?: RenderPlaceholder<T>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n    outerScrollOffset?: Animated.SharedValue<number>;\n    onAnimValInit?: (animVals: ReturnType<typeof useAnimatedValues>) => void;\n    itemEnteringAnimation?: AnimateProps<Animated.View>[\"entering\"];\n    itemExitingAnimation?: AnimateProps<Animated.View>[\"exiting\"];\n    itemLayoutAnimation?: AnimateProps<Animated.View>[\"layout\"];\n    enableLayoutAnimationExperimental?: boolean;\n    onContainerLayout?: (params: {\n      layout: LayoutChangeEvent[\"nativeEvent\"][\"layout\"];\n      containerRef: React.RefObject<Animated.View>;\n    }) => void;\n  } & Partial<DefaultProps>\n>;\n\nexport type RenderPlaceholder<T> = (params: {\n  item: T;\n  index: number;\n}) => JSX.Element;\n\nexport type RenderItemParams<T> = {\n  item: T;\n  getIndex: () => number | undefined; // This is technically a \"last known index\" since cells don't necessarily rerender when their index changes\n  drag: () => void;\n  isActive: boolean;\n};\n\nexport type RenderItem<T> = (params: RenderItemParams<T>) => React.ReactNode;\n\nexport type AnimatedFlatListType = <T>(\n  props: Animated.AnimateProps<\n    FlatListProps<T> & {\n      ref: React.Ref<FlatList<T>>;\n      simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n    }\n  >\n) => React.ReactElement;\n\nexport type CellData = {\n  measurements: {\n    size: number;\n    offset: number;\n  };\n};\n"],"mappings":""}
\ No newline at end of file
+{"version":3,"names":[],"sources":["types.ts"],"sourcesContent":["import React from \"react\";\nimport {\n  FlatListProps,\n  LayoutChangeEvent,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\nimport { useAnimatedValues } from \"./context/animatedValueContext\";\nimport { FlatList } from \"react-native-gesture-handler\";\nimport Animated, {\n  AnimateProps,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\nimport { DEFAULT_PROPS } from \"./constants\";\n\nexport type DragEndParams<T> = {\n  data: T[];\n  from: number;\n  to: number;\n};\ntype Modify<T, R> = Omit<T, keyof R> & R;\n\ntype DefaultProps = Readonly<typeof DEFAULT_PROPS>;\n\nexport type DraggableFlatListProps<T> = Modify<\n  FlatListProps<T>,\n  {\n    data: T[];\n    activationDistance?: number;\n    animationConfig?: Partial<WithSpringConfig>;\n    autoscrollSpeed?: number;\n    autoscrollThreshold?: number;\n    containerStyle?: StyleProp<ViewStyle>;\n    debug?: boolean;\n    dragItemOverflow?: boolean;\n    keyExtractor: (item: T, index: number) => string;\n    onDragBegin?: (index: number) => void;\n    onDragEnd?: (params: DragEndParams<T>) => void;\n    onPlaceholderIndexChange?: (placeholderIndex: number) => void;\n    onRelease?: (index: number) => void;\n    onScrollOffsetChange?: (scrollOffset: number) => void;\n    renderItem: RenderItem<T>;\n    renderPlaceholder?: RenderPlaceholder<T>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n    outerScrollOffset?: Animated.SharedValue<number>;\n    onAnimValInit?: (animVals: ReturnType<typeof useAnimatedValues>) => void;\n    itemEnteringAnimation?: AnimateProps<Animated.View>[\"entering\"];\n    itemExitingAnimation?: AnimateProps<Animated.View>[\"exiting\"];\n    itemLayoutAnimation?: AnimateProps<Animated.View>[\"layout\"];\n    enableLayoutAnimationExperimental?: boolean;\n    onContainerLayout?: (params: {\n      layout: LayoutChangeEvent[\"nativeEvent\"][\"layout\"];\n      containerRef: React.RefObject<Animated.View>;\n    }) => void;\n  } & Partial<DefaultProps>\n>;\n\nexport type RenderPlaceholder<T> = (params: {\n  item: T;\n  index: number;\n}) => JSX.Element;\n\nexport type RenderItemParams<T> = {\n  item: T;\n  getIndex: () => number | undefined; // This is technically a \"last known index\" since cells don't necessarily rerender when their index changes\n  drag: () => void;\n  isActive: boolean;\n};\n\nexport type RenderItem<T> = (params: RenderItemParams<T>) => React.ReactNode;\n\nexport type AnimatedFlatListType = <T>(\n  props: Animated.AnimateProps<\n    FlatListProps<T> & {\n      ref: React.Ref<FlatList<T>>;\n      simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n    }\n  >\n) => React.ReactElement;\n\nexport type CellData = {\n  measurements: {\n    size: number;\n    offset: number;\n  };\n};\n"],"mappings":"","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/module/utils.js b/lib/module/utils.js
index 1d64c3459e2ade2a8efc328df95ee777be267c6b..d6d7339edcb74dae3da29a49bc85efe28c3864b2 100644
--- a/lib/module/utils.js
+++ b/lib/module/utils.js
@@ -1,5 +1,6 @@
-import React from "react"; // Fixes bug with useMemo + generic types:
-// https://github.com/DefinitelyTyped/DefinitelyTyped/issues/37087#issuecomment-542793243
+import React from "react";
 
+// Fixes bug with useMemo + generic types:
+// https://github.com/DefinitelyTyped/DefinitelyTyped/issues/37087#issuecomment-542793243
 export const typedMemo = React.memo;
 //# sourceMappingURL=utils.js.map
\ No newline at end of file
diff --git a/lib/module/utils.js.map b/lib/module/utils.js.map
index 622c55f25bc46cb46652634bc60a78b8d0ee12af..802e16ffed3439bb87818a64864263e435c8c44f 100644
--- a/lib/module/utils.js.map
+++ b/lib/module/utils.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","typedMemo","memo"],"sources":["utils.ts"],"sourcesContent":["import React from \"react\";\n\n// Fixes bug with useMemo + generic types:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/issues/37087#issuecomment-542793243\nexport const typedMemo: <T>(c: T) => T = React.memo;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;AACA;;AACA,OAAO,MAAMC,SAAyB,GAAGD,KAAK,CAACE,IAAxC"}
\ No newline at end of file
+{"version":3,"names":["React","typedMemo","memo"],"sources":["utils.ts"],"sourcesContent":["import React from \"react\";\n\n// Fixes bug with useMemo + generic types:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/issues/37087#issuecomment-542793243\nexport const typedMemo: <T>(c: T) => T = React.memo;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA,OAAO,MAAMC,SAAyB,GAAGD,KAAK,CAACE,IAAI","ignoreList":[]}
\ No newline at end of file
diff --git a/lib/typescript/components/CellDecorators.d.ts b/lib/typescript/components/CellDecorators.d.ts
index 51410b9caba2588a191418113f3b2dd2061186bb..3e77777e4ffe25e89ef2dfd0b5509ff67d31bd20 100644
--- a/lib/typescript/components/CellDecorators.d.ts
+++ b/lib/typescript/components/CellDecorators.d.ts
@@ -1,20 +1,20 @@
 import React from "react";
 export { useOnCellActiveAnimation } from "../hooks/useOnCellActiveAnimation";
-declare type ScaleProps = {
+type ScaleProps = {
     activeScale?: number;
     children: React.ReactNode;
 };
-export declare const ScaleDecorator: ({ activeScale, children }: ScaleProps) => JSX.Element;
-declare type ShadowProps = {
+export declare const ScaleDecorator: ({ activeScale, children }: ScaleProps) => React.JSX.Element;
+type ShadowProps = {
     children: React.ReactNode;
     elevation?: number;
     radius?: number;
     color?: string;
     opacity?: number;
 };
-export declare const ShadowDecorator: ({ elevation, color, opacity, radius, children, }: ShadowProps) => JSX.Element;
-declare type OpacityProps = {
+export declare const ShadowDecorator: ({ elevation, color, opacity, radius, children, }: ShadowProps) => React.JSX.Element;
+type OpacityProps = {
     activeOpacity?: number;
     children: React.ReactNode;
 };
-export declare const OpacityDecorator: ({ activeOpacity, children, }: OpacityProps) => JSX.Element;
+export declare const OpacityDecorator: ({ activeOpacity, children, }: OpacityProps) => React.JSX.Element;
diff --git a/lib/typescript/components/CellRendererComponent.d.ts b/lib/typescript/components/CellRendererComponent.d.ts
index e39ba94ed84c4ae68b2f934d133635d15bb84720..f14b042436349358b71bac2a2466c052dcdf0ae2 100644
--- a/lib/typescript/components/CellRendererComponent.d.ts
+++ b/lib/typescript/components/CellRendererComponent.d.ts
@@ -1,13 +1,13 @@
 import React from "react";
 import { LayoutChangeEvent, StyleProp, ViewStyle } from "react-native";
-declare type Props<T> = {
+type Props<T> = {
     item: T;
     index: number;
     children: React.ReactNode;
     onLayout?: (e: LayoutChangeEvent) => void;
     style?: StyleProp<ViewStyle>;
 };
-declare function CellRendererComponent<T>(props: Props<T>): JSX.Element;
+declare function CellRendererComponent<T>(props: Props<T>): React.JSX.Element;
 declare const _default: typeof CellRendererComponent;
 export default _default;
 declare global {
diff --git a/lib/typescript/components/DraggableFlatList.d.ts b/lib/typescript/components/DraggableFlatList.d.ts
index d3a4f1fa6930ade7148bbca95c06db66b306c86d..c7a849aa093bf588ff889e28da731744c8c8b1ee 100644
--- a/lib/typescript/components/DraggableFlatList.d.ts
+++ b/lib/typescript/components/DraggableFlatList.d.ts
@@ -3,7 +3,7 @@ import { FlatListProps } from "react-native";
 import { FlatList } from "react-native-gesture-handler";
 import Animated from "react-native-reanimated";
 import { DraggableFlatListProps } from "../types";
-declare function DraggableFlatList<T>(props: DraggableFlatListProps<T>, ref?: React.ForwardedRef<FlatList<T>> | null): JSX.Element;
+declare function DraggableFlatList<T>(props: DraggableFlatListProps<T>, ref?: React.ForwardedRef<FlatList<T>> | null): React.JSX.Element;
 declare const _default: <T>(props: Omit<FlatListProps<T>, "keyExtractor" | "data" | "renderItem" | "debug" | "scrollEnabled" | "autoscrollThreshold" | "autoscrollSpeed" | "animationConfig" | "dragHitSlop" | "activationDistance" | "dragItemOverflow" | "containerStyle" | "onDragBegin" | "onDragEnd" | "onPlaceholderIndexChange" | "onRelease" | "onScrollOffsetChange" | "renderPlaceholder" | "simultaneousHandlers" | "outerScrollOffset" | "onAnimValInit" | "itemEnteringAnimation" | "itemExitingAnimation" | "itemLayoutAnimation" | "enableLayoutAnimationExperimental" | "onContainerLayout"> & {
     data: T[];
     activationDistance?: number | undefined;
@@ -59,7 +59,7 @@ declare const _default: <T>(props: Omit<FlatListProps<T>, "keyExtractor" | "data
     autoscrollSpeed: number;
     animationConfig: import("react-native-reanimated").WithSpringConfig;
     scrollEnabled: boolean;
-    dragHitSlop: import("react-native-gesture-handler/lib/typescript/handlers/gestureHandlerCommon").HitSlop | undefined;
+    dragHitSlop: import("react-native-gesture-handler/lib/typescript/handlers/gestureHandlerCommon").HitSlop;
     activationDistance: number;
     dragItemOverflow: boolean;
 }>> & {
diff --git a/lib/typescript/components/NestableDraggableFlatList.d.ts b/lib/typescript/components/NestableDraggableFlatList.d.ts
index d3c6cbb0ee6bb3086243173e2fc5e60f707af8b0..bd0259d75c59f29c622212f50e58f54fc9726705 100644
--- a/lib/typescript/components/NestableDraggableFlatList.d.ts
+++ b/lib/typescript/components/NestableDraggableFlatList.d.ts
@@ -2,7 +2,7 @@ import React from "react";
 import Animated from "react-native-reanimated";
 import { DraggableFlatListProps } from "../types";
 import { FlatList } from "react-native-gesture-handler";
-declare function NestableDraggableFlatListInner<T>(props: DraggableFlatListProps<T>, ref?: React.ForwardedRef<FlatList<T>>): JSX.Element;
+declare function NestableDraggableFlatListInner<T>(props: DraggableFlatListProps<T>, ref?: React.ForwardedRef<FlatList<T>>): React.JSX.Element;
 export declare const NestableDraggableFlatList: <T>(props: Omit<import("react-native").FlatListProps<T>, "keyExtractor" | "data" | "renderItem" | "debug" | "scrollEnabled" | "autoscrollThreshold" | "autoscrollSpeed" | "animationConfig" | "dragHitSlop" | "activationDistance" | "dragItemOverflow" | "containerStyle" | "onDragBegin" | "onDragEnd" | "onPlaceholderIndexChange" | "onRelease" | "onScrollOffsetChange" | "renderPlaceholder" | "simultaneousHandlers" | "outerScrollOffset" | "onAnimValInit" | "itemEnteringAnimation" | "itemExitingAnimation" | "itemLayoutAnimation" | "enableLayoutAnimationExperimental" | "onContainerLayout"> & {
     data: T[];
     activationDistance?: number | undefined;
@@ -58,7 +58,7 @@ export declare const NestableDraggableFlatList: <T>(props: Omit<import("react-na
     autoscrollSpeed: number;
     animationConfig: import("react-native-reanimated").WithSpringConfig;
     scrollEnabled: boolean;
-    dragHitSlop: import("react-native-gesture-handler/lib/typescript/handlers/gestureHandlerCommon").HitSlop | undefined;
+    dragHitSlop: import("react-native-gesture-handler/lib/typescript/handlers/gestureHandlerCommon").HitSlop;
     activationDistance: number;
     dragItemOverflow: boolean;
 }>> & {
diff --git a/lib/typescript/components/PlaceholderItem.d.ts b/lib/typescript/components/PlaceholderItem.d.ts
index 4ed0a77c703d607a1abfbf7671b459f96c1ec7e6..67355e2b2c45b5800faacf04bc50ace20ffe4105 100644
--- a/lib/typescript/components/PlaceholderItem.d.ts
+++ b/lib/typescript/components/PlaceholderItem.d.ts
@@ -1,7 +1,8 @@
+import React from "react";
 import { RenderPlaceholder } from "../types";
-declare type Props<T> = {
+type Props<T> = {
     renderPlaceholder?: RenderPlaceholder<T>;
 };
-declare function PlaceholderItem<T>({ renderPlaceholder }: Props<T>): JSX.Element;
+declare function PlaceholderItem<T>({ renderPlaceholder }: Props<T>): React.JSX.Element;
 declare const _default: typeof PlaceholderItem;
 export default _default;
diff --git a/lib/typescript/components/RowItem.d.ts b/lib/typescript/components/RowItem.d.ts
index fddf9a26a099c18ec5e5825376e71bdc8329bca1..8bfa3e255b2a47f620894b00677313f7f25eff1a 100644
--- a/lib/typescript/components/RowItem.d.ts
+++ b/lib/typescript/components/RowItem.d.ts
@@ -1,5 +1,6 @@
+import React from "react";
 import { RenderItem } from "../types";
-declare type Props<T> = {
+type Props<T> = {
     extraData?: any;
     drag: (itemKey: string) => void;
     item: T;
@@ -7,6 +8,6 @@ declare type Props<T> = {
     itemKey: string;
     debug?: boolean;
 };
-declare function RowItem<T>(props: Props<T>): JSX.Element;
+declare function RowItem<T>(props: Props<T>): React.JSX.Element;
 declare const _default: typeof RowItem;
 export default _default;
diff --git a/lib/typescript/components/ScrollOffsetListener.d.ts b/lib/typescript/components/ScrollOffsetListener.d.ts
index b060c4e0be900bb671baa4cc78f14ee34b3a23fd..0cb18b5db222f2b708718ca87e3076835f8ee552 100644
--- a/lib/typescript/components/ScrollOffsetListener.d.ts
+++ b/lib/typescript/components/ScrollOffsetListener.d.ts
@@ -1,5 +1,5 @@
 import Animated from "react-native-reanimated";
-declare type Props = {
+type Props = {
     scrollOffset: Animated.SharedValue<number>;
     onScrollOffsetChange: (offset: number) => void;
 };
diff --git a/lib/typescript/constants.d.ts b/lib/typescript/constants.d.ts
index b3a2ecef803e480a758e2a5a490bf82b4c94aba3..828b3a7788d396eea95381223d651227ec1983b0 100644
--- a/lib/typescript/constants.d.ts
+++ b/lib/typescript/constants.d.ts
@@ -6,7 +6,7 @@ export declare const DEFAULT_PROPS: {
     autoscrollSpeed: number;
     animationConfig: WithSpringConfig;
     scrollEnabled: boolean;
-    dragHitSlop: import("react-native-gesture-handler/lib/typescript/handlers/gestureHandlerCommon").HitSlop | undefined;
+    dragHitSlop: import("react-native-gesture-handler/lib/typescript/handlers/gestureHandlerCommon").HitSlop;
     activationDistance: number;
     dragItemOverflow: boolean;
 };
diff --git a/lib/typescript/context/animatedValueContext.d.ts b/lib/typescript/context/animatedValueContext.d.ts
index 59410907d65884b438eb5d178975c4ba1ff98f60..02f9f06cd9d4cb2c7c0452d538290ca9bfaf0c5a 100644
--- a/lib/typescript/context/animatedValueContext.d.ts
+++ b/lib/typescript/context/animatedValueContext.d.ts
@@ -3,7 +3,7 @@ import React from "react";
 import { State as GestureState } from "react-native-gesture-handler";
 export default function AnimatedValueProvider({ children, }: {
     children: React.ReactNode;
-}): JSX.Element;
+}): React.JSX.Element;
 export declare function useAnimatedValues(): {
     activeCellOffset: import("react-native-reanimated").SharedValue<number>;
     activeCellSize: import("react-native-reanimated").SharedValue<number>;
diff --git a/lib/typescript/context/cellContext.d.ts b/lib/typescript/context/cellContext.d.ts
index a2568c838446f720391a7cdcdd2526310342a194..da41fd239972adbac97a387d46cd945bb90ba954 100644
--- a/lib/typescript/context/cellContext.d.ts
+++ b/lib/typescript/context/cellContext.d.ts
@@ -1,9 +1,9 @@
 import React from "react";
-declare type Props = {
+type Props = {
     isActive: boolean;
     children: React.ReactNode;
 };
-export declare function CellProvider({ isActive, children }: Props): JSX.Element;
+export declare function CellProvider({ isActive, children }: Props): React.JSX.Element;
 declare const _default: typeof CellProvider;
 export default _default;
 export declare function useIsActive(): boolean;
diff --git a/lib/typescript/context/draggableFlatListContext.d.ts b/lib/typescript/context/draggableFlatListContext.d.ts
index 062f15af841774a997661861db0bbf4de1d2bb0b..7ed199c06a4b9ef9e341dd295d60714092901004 100644
--- a/lib/typescript/context/draggableFlatListContext.d.ts
+++ b/lib/typescript/context/draggableFlatListContext.d.ts
@@ -1,12 +1,12 @@
 import React from "react";
-declare type Props<T> = {
+type Props<T> = {
     activeKey: string | null;
     keyExtractor: (item: T, index: number) => string;
     horizontal: boolean;
     layoutAnimationDisabled: boolean;
     children: React.ReactNode;
 };
-declare type DraggableFlatListContextValue<T> = Omit<Props<T>, "children">;
-export default function DraggableFlatListProvider<T>({ activeKey, keyExtractor, horizontal, layoutAnimationDisabled, children, }: Props<T>): JSX.Element;
+type DraggableFlatListContextValue<T> = Omit<Props<T>, "children">;
+export default function DraggableFlatListProvider<T>({ activeKey, keyExtractor, horizontal, layoutAnimationDisabled, children, }: Props<T>): React.JSX.Element;
 export declare function useDraggableFlatListContext<T>(): DraggableFlatListContextValue<T>;
 export {};
diff --git a/lib/typescript/context/nestableScrollContainerContext.d.ts b/lib/typescript/context/nestableScrollContainerContext.d.ts
index 9611697eb50a5ac7b281adf550cc236e7a91988e..7d7437d6663e88cc7f3c025dbed4246917dac6af 100644
--- a/lib/typescript/context/nestableScrollContainerContext.d.ts
+++ b/lib/typescript/context/nestableScrollContainerContext.d.ts
@@ -4,7 +4,7 @@ import { ScrollView } from "react-native-gesture-handler";
 export declare function NestableScrollContainerProvider({ children, forwardedRef, }: {
     children: React.ReactNode;
     forwardedRef?: React.MutableRefObject<ScrollView>;
-}): JSX.Element;
+}): React.JSX.Element;
 export declare function useNestableScrollContainerContext(): {
     outerScrollEnabled: boolean;
     setOuterScrollEnabled: React.Dispatch<React.SetStateAction<boolean>>;
diff --git a/lib/typescript/context/propsContext.d.ts b/lib/typescript/context/propsContext.d.ts
index a62c27363b65bcf91e8ee17c33487fbb163a6c97..84e349a90380d6972fef3e0306621b3244b362a0 100644
--- a/lib/typescript/context/propsContext.d.ts
+++ b/lib/typescript/context/propsContext.d.ts
@@ -1,8 +1,8 @@
 import React from "react";
 import { DraggableFlatListProps } from "../types";
-declare type Props<T> = DraggableFlatListProps<T> & {
+type Props<T> = DraggableFlatListProps<T> & {
     children: React.ReactNode;
 };
-export default function PropsProvider<T>({ children, ...props }: Props<T>): JSX.Element;
+export default function PropsProvider<T>({ children, ...props }: Props<T>): React.JSX.Element;
 export declare function useProps<T>(): DraggableFlatListProps<T>;
 export {};
diff --git a/lib/typescript/context/refContext.d.ts b/lib/typescript/context/refContext.d.ts
index b617a0d1e23461446481941686f3ff3e79748207..06862f25f923f56dd65ced8aeb63c87084767f78 100644
--- a/lib/typescript/context/refContext.d.ts
+++ b/lib/typescript/context/refContext.d.ts
@@ -1,10 +1,10 @@
 import React from "react";
 import { FlatList } from "react-native-gesture-handler";
-import Animated, { WithSpringConfig } from "react-native-reanimated";
+import Animated, { type SharedValue, WithSpringConfig } from "react-native-reanimated";
 import { CellData, DraggableFlatListProps } from "../types";
-declare type RefContextValue<T> = {
+type RefContextValue<T> = {
     propsRef: React.MutableRefObject<DraggableFlatListProps<T>>;
-    animationConfigRef: React.MutableRefObject<WithSpringConfig>;
+    animationConfigRef: SharedValue<WithSpringConfig>;
     cellDataRef: React.MutableRefObject<Map<string, CellData>>;
     keyToIndexRef: React.MutableRefObject<Map<string, number>>;
     containerRef: React.RefObject<Animated.View>;
@@ -14,6 +14,6 @@ declare type RefContextValue<T> = {
 export default function RefProvider<T>({ children, flatListRef, }: {
     children: React.ReactNode;
     flatListRef?: React.ForwardedRef<FlatList<T>> | null;
-}): JSX.Element;
+}): React.JSX.Element;
 export declare function useRefs<T>(): RefContextValue<T>;
 export {};
diff --git a/lib/typescript/hooks/useCellTranslate.d.ts b/lib/typescript/hooks/useCellTranslate.d.ts
index 7fb0913fd0d1b89846b9add98b415cfe78f3caf7..bb0161a0d2d61f107690e6a3eafba3afc7dcf4b1 100644
--- a/lib/typescript/hooks/useCellTranslate.d.ts
+++ b/lib/typescript/hooks/useCellTranslate.d.ts
@@ -1,5 +1,5 @@
 import Animated from "react-native-reanimated";
-declare type Params = {
+type Params = {
     cellIndex: number;
     cellSize: Animated.SharedValue<number>;
     cellOffset: Animated.SharedValue<number>;
diff --git a/lib/typescript/hooks/useOnCellActiveAnimation.d.ts b/lib/typescript/hooks/useOnCellActiveAnimation.d.ts
index 2a85099d8f9287ff7920f0e2000476ce4f2156d4..31520b7dff46509fd4e93391dc5a017be7404668 100644
--- a/lib/typescript/hooks/useOnCellActiveAnimation.d.ts
+++ b/lib/typescript/hooks/useOnCellActiveAnimation.d.ts
@@ -1,5 +1,5 @@
 import Animated, { WithSpringConfig } from "react-native-reanimated";
-declare type Params = {
+type Params = {
     animationConfig: Partial<WithSpringConfig>;
 };
 export declare function useOnCellActiveAnimation({ animationConfig }?: Params): {
diff --git a/lib/typescript/types.d.ts b/lib/typescript/types.d.ts
index 2abb4a272eb4d3374d677f78a298d7690fd7e064..c7d110e917bcb07002d1554b069b708ae2fab1c5 100644
--- a/lib/typescript/types.d.ts
+++ b/lib/typescript/types.d.ts
@@ -4,14 +4,14 @@ import { useAnimatedValues } from "./context/animatedValueContext";
 import { FlatList } from "react-native-gesture-handler";
 import Animated, { AnimateProps, WithSpringConfig } from "react-native-reanimated";
 import { DEFAULT_PROPS } from "./constants";
-export declare type DragEndParams<T> = {
+export type DragEndParams<T> = {
     data: T[];
     from: number;
     to: number;
 };
-declare type Modify<T, R> = Omit<T, keyof R> & R;
-declare type DefaultProps = Readonly<typeof DEFAULT_PROPS>;
-export declare type DraggableFlatListProps<T> = Modify<FlatListProps<T>, {
+type Modify<T, R> = Omit<T, keyof R> & R;
+type DefaultProps = Readonly<typeof DEFAULT_PROPS>;
+export type DraggableFlatListProps<T> = Modify<FlatListProps<T>, {
     data: T[];
     activationDistance?: number;
     animationConfig?: Partial<WithSpringConfig>;
@@ -40,22 +40,22 @@ export declare type DraggableFlatListProps<T> = Modify<FlatListProps<T>, {
         containerRef: React.RefObject<Animated.View>;
     }) => void;
 } & Partial<DefaultProps>>;
-export declare type RenderPlaceholder<T> = (params: {
+export type RenderPlaceholder<T> = (params: {
     item: T;
     index: number;
 }) => JSX.Element;
-export declare type RenderItemParams<T> = {
+export type RenderItemParams<T> = {
     item: T;
     getIndex: () => number | undefined;
     drag: () => void;
     isActive: boolean;
 };
-export declare type RenderItem<T> = (params: RenderItemParams<T>) => React.ReactNode;
-export declare type AnimatedFlatListType = <T>(props: Animated.AnimateProps<FlatListProps<T> & {
+export type RenderItem<T> = (params: RenderItemParams<T>) => React.ReactNode;
+export type AnimatedFlatListType = <T>(props: Animated.AnimateProps<FlatListProps<T> & {
     ref: React.Ref<FlatList<T>>;
     simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];
 }>) => React.ReactElement;
-export declare type CellData = {
+export type CellData = {
     measurements: {
         size: number;
         offset: number;
diff --git a/package.json b/package.json
index 4092574099a08f103b4c50d229e00f08370a2ad5..15e7d6bf189a63d91ca5064e2b7e68d02f8e3d88 100644
--- a/package.json
+++ b/package.json
@@ -86,5 +86,6 @@
   },
   "dependencies": {
     "@babel/preset-typescript": "^7.17.12"
-  }
+  },
+  "packageManager": "yarn@1.22.21+sha1.1959a18351b811cdeedbd484a8f86c3cc3bbaf72"
 }
diff --git a/src/components/DraggableFlatList.tsx b/src/components/DraggableFlatList.tsx
index d7d98c2796afb69bb46aa21f0ece8c5ec9f2a339..2f59c7a2e544a183b4f501dadbf79df76cc4ccf3 100644
--- a/src/components/DraggableFlatList.tsx
+++ b/src/components/DraggableFlatList.tsx
@@ -295,7 +295,7 @@ function DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {
       const springTo = placeholderOffset.value - activeCellOffset.value;
       touchTranslate.value = withSpring(
         springTo,
-        animationConfigRef.current,
+        animationConfigRef.value,
         () => {
           runOnJS(onDragEnd)({
             from: activeIndexAnim.value,
diff --git a/src/context/refContext.tsx b/src/context/refContext.tsx
index ea21575c9d91d45634dc3371536ab80470413401..66c5eed6775613c2f4b92c4c742e68a1f67e4291 100644
--- a/src/context/refContext.tsx
+++ b/src/context/refContext.tsx
@@ -1,14 +1,14 @@
 import React, { useContext } from "react";
 import { useMemo, useRef } from "react";
 import { FlatList } from "react-native-gesture-handler";
-import Animated, { WithSpringConfig } from "react-native-reanimated";
+import Animated, { type SharedValue, useSharedValue, WithSpringConfig } from "react-native-reanimated";
 import { DEFAULT_PROPS } from "../constants";
 import { useProps } from "./propsContext";
 import { CellData, DraggableFlatListProps } from "../types";
 
 type RefContextValue<T> = {
   propsRef: React.MutableRefObject<DraggableFlatListProps<T>>;
-  animationConfigRef: React.MutableRefObject<WithSpringConfig>;
+  animationConfigRef: SharedValue<WithSpringConfig>;
   cellDataRef: React.MutableRefObject<Map<string, CellData>>;
   keyToIndexRef: React.MutableRefObject<Map<string, number>>;
   containerRef: React.RefObject<Animated.View>;
@@ -54,8 +54,8 @@ function useSetupRefs<T>({
     ...DEFAULT_PROPS.animationConfig,
     ...animationConfig,
   } as WithSpringConfig;
-  const animationConfigRef = useRef(animConfig);
-  animationConfigRef.current = animConfig;
+  const animationConfigRef = useSharedValue(animConfig);
+  animationConfigRef.value = animConfig;
 
   const cellDataRef = useRef(new Map<string, CellData>());
   const keyToIndexRef = useRef(new Map<string, number>());
diff --git a/src/hooks/useCellTranslate.tsx b/src/hooks/useCellTranslate.tsx
index ce4ab68ab7ebe6abdfdfb24141b0d7fb1ae1e75a..07a55d36cf0a915c446001715bd128dcd2b3c31a 100644
--- a/src/hooks/useCellTranslate.tsx
+++ b/src/hooks/useCellTranslate.tsx
@@ -101,7 +101,7 @@ export function useCellTranslate({ cellIndex, cellSize, cellOffset }: Params) {
       ? activeCellSize.value * (isAfterActive ? -1 : 1)
       : 0;
 
-    return withSpring(translationAmt, animationConfigRef.current);
+      return withSpring(translationAmt, animationConfigRef.value);
   }, [activeKey, cellIndex]);
 
   return translate;
